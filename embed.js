/*! For license information please see embed.js.LICENSE.txt */
(()=>{var __webpack_modules__={7383:e=>{"use strict";e.exports=function(e,t){for(var r=new Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise((function(i,a){r[n]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){o&&(o=!1,a(e))}}))}},3417:(e,t)=>{"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=new Array(64),i=new Array(123),o=0;o<64;)i[n[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;r.encode=function(e,t,r){for(var i,o=null,a=[],s=0,u=0;t<r;){var c=e[t++];switch(u){case 0:a[s++]=n[c>>2],i=(3&c)<<4,u=1;break;case 1:a[s++]=n[i|c>>4],i=(15&c)<<2,u=2;break;case 2:a[s++]=n[i|c>>6],a[s++]=n[63&c],u=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return u&&(a[s++]=n[i],a[s++]=61,1===u&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var a="invalid encoding";r.decode=function(e,t,r){for(var n,o=r,s=0,u=0;u<e.length;){var c=e.charCodeAt(u++);if(61===c&&s>1)break;if(void 0===(c=i[c]))throw Error(a);switch(s){case 0:n=c,s=1;break;case 1:t[r++]=n<<2|(48&c)>>4,n=c,s=2;break;case 2:t[r++]=(15&n)<<4|(60&c)>>2,n=c,s=3;break;case 3:t[r++]=(3&n)<<6|c,s=0}}if(1===s)throw Error(a);return r-o},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},7516:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},9787:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,r,n)}}function a(e,t,r){var n=e(t,r),i=2*(n>>31)+1,o=n>>>23&255,a=8388607&n;return 255===o?a?NaN:i*(1/0):0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=a.bind(null,i),e.readFloatBE=a.bind(null,o)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(e,t,r,n,i,o){var a=n<0?1:0;if(a&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:2147483648,i,o+r);else if(isNaN(n))e(0,i,o+t),e(2146959360,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+r);else{var s;if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,i,o+t),e((a<<31|s/4294967296)>>>0,i,o+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=n*Math.pow(2,-u))>>>0,i,o+t),e((a<<31|u+1023<<20|1048576*s&1048575)>>>0,i,o+r)}}}function a(e,t,r,n,i){var o=e(n,i+t),a=e(n,i+r),s=2*(a>>31)+1,u=a>>>20&2047,c=4294967296*(1048575&a)+o;return 2047===u?c?NaN:s*(1/0):0===u?5e-324*s*c:s*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=a.bind(null,i,0,4),e.readDoubleBE=a.bind(null,o,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},2795:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},4476:e=>{"use strict";e.exports=function(e,t,r){var n=r||8192,i=n>>>1,o=null,a=n;return function(r){if(r<1||r>i)return e(r);a+r>n&&(o=e(n),a=0);var s=t.call(o,a,a+=r);return 7&a&&(a=1+(7|a)),s}}},1893:(e,t)=>{"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,o=[],a=0;t<r;)(n=e[t++])<128?o[a++]=n:n>191&&n<224?o[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(n>>10),o[a++]=56320+(1023&n)):o[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},r.write=function(e,t,r){for(var n,i,o=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(i=e.charCodeAt(a+1)))?(n=65536+((1023&n)<<10)+(1023&i),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-o}},3870:(e,t,r)=>{"use strict";r.d(t,{R:()=>o,Y:()=>a});var n=r(4844),i={};function o(){return(0,n.KV)()?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:i}function a(e,t,r){var n=r||o(),i=n.__SENTRY__=n.__SENTRY__||{};return i[e]||(i[e]=t())}},4844:(e,t,r)=>{"use strict";function n(){return!1}function i(e,t){return e.require(t)}r.d(t,{l$:()=>i,KV:()=>n}),e=r.hmd(e)},287:(e,t,r)=>{"use strict";r.d(t,{ph:()=>c,yW:()=>u});var n=r(3870),i=r(4844);e=r.hmd(e);var o={nowSeconds:function(){return Date.now()/1e3}},a=(0,i.KV)()?function(){try{return(0,i.l$)(e,"perf_hooks").performance}catch(e){return}}():function(){var e=(0,n.R)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),s=void 0===a?o:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},u=o.nowSeconds.bind(o),c=s.nowSeconds.bind(s);!function(){var e=(0,n.R)().performance;if(e&&e.now){var t=36e5,r=e.now(),i=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+r-i):t,a=o<t,s=e.timing&&e.timing.navigationStart,u="number"==typeof s?Math.abs(s+r-i):t;(a||u<t)&&o<=u&&e.timeOrigin}}()},6727:(e,t,r)=>{"use strict";r.d(t,{R:()=>o,Y:()=>a});var n=r(3623),i={};function o(){return(0,n.KV)()?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:i}function a(e,t,r){var n=r||o(),i=n.__SENTRY__=n.__SENTRY__||{};return i[e]||(i[e]=t())}},3623:(e,t,r)=>{"use strict";function n(){return!1}function i(e,t){return e.require(t)}r.d(t,{l$:()=>i,KV:()=>n}),e=r.hmd(e)},4180:(e,t,r)=>{"use strict";r.d(t,{ph:()=>c,yW:()=>u});var n=r(6727),i=r(3623);e=r.hmd(e);var o={nowSeconds:()=>Date.now()/1e3},a=(0,i.KV)()?function(){try{return(0,i.l$)(e,"perf_hooks").performance}catch(e){return}}():function(){const{performance:e}=(0,n.R)();if(e&&e.now)return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),s=void 0===a?o:{nowSeconds:()=>(a.timeOrigin+a.now())/1e3},u=o.nowSeconds.bind(o),c=s.nowSeconds.bind(s);let l;(()=>{const{performance:e}=(0,n.R)();if(e&&e.now){var t=36e5,r=e.now(),i=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+r-i):t,a=o<t,s=e.timing&&e.timing.navigationStart,u="number"==typeof s?Math.abs(s+r-i):t;return a||u<t?o<=u?(l="timeOrigin",e.timeOrigin):(l="navigationStart",s):(l="dateNow",i)}l="none"})()},2737:(e,t,r)=>{"use strict";var n=r(8750),i=r(4573),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i(r):r}},4573:(e,t,r)=>{"use strict";var n=r(132),i=r(8750),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||n.call(a,o),u=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),l=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=s(n,a,arguments);if(u&&c){var r=u(t,"length");r.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var h=function(){return s(n,o,arguments)};c?c(e.exports,"apply",{value:h}):e.exports.apply=h},42:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var a=i.apply(null,r);a&&e.push(a)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},5089:(e,t,r)=>{var n=r(930),i=r(9268),o=TypeError;e.exports=function(e){if(n(e))return e;throw o(i(e)+" is not a function")}},1449:(e,t,r)=>{var n=r(1956),i=r(9268),o=TypeError;e.exports=function(e){if(n(e))return e;throw o(i(e)+" is not a constructor")}},1378:(e,t,r)=>{var n=r(930),i=String,o=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw o("Can't set "+i(e)+" as a prototype")}},8669:(e,t,r)=>{var n=r(211),i=r(4710),o=r(7826).f,a=n("unscopables"),s=Array.prototype;null==s[a]&&o(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},9966:(e,t,r)=>{"use strict";var n=r(3448).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},1855:(e,t,r)=>{var n=r(5516),i=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw i("Incorrect invocation")}},6112:(e,t,r)=>{var n=r(8759),i=String,o=TypeError;e.exports=function(e){if(n(e))return e;throw o(i(e)+" is not an object")}},656:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},3466:(e,t,r)=>{"use strict";var n,i,o,a=r(656),s=r(5283),u=r(2086),c=r(930),l=r(8759),h=r(9606),d=r(375),p=r(9268),f=r(2585),g=r(1343),m=r(7826).f,v=r(5516),y=r(2130),b=r(7530),_=r(211),w=r(5422),x=r(3278),E=x.enforce,O=x.get,T=u.Int8Array,S=T&&T.prototype,P=u.Uint8ClampedArray,k=P&&P.prototype,A=T&&y(T),I=S&&y(S),R=Object.prototype,j=u.TypeError,C=_("toStringTag"),D=w("TYPED_ARRAY_TAG"),N=a&&!!b&&"Opera"!==d(u.opera),L=!1,M={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},F={BigInt64Array:8,BigUint64Array:8},B=function(e){var t=y(e);if(l(t)){var r=O(t);return r&&h(r,"TypedArrayConstructor")?r.TypedArrayConstructor:B(t)}},U=function(e){if(!l(e))return!1;var t=d(e);return h(M,t)||h(F,t)};for(n in M)(o=(i=u[n])&&i.prototype)?E(o).TypedArrayConstructor=i:N=!1;for(n in F)(o=(i=u[n])&&i.prototype)&&(E(o).TypedArrayConstructor=i);if((!N||!c(A)||A===Function.prototype)&&(A=function(){throw j("Incorrect invocation")},N))for(n in M)u[n]&&b(u[n],A);if((!N||!I||I===R)&&(I=A.prototype,N))for(n in M)u[n]&&b(u[n].prototype,I);if(N&&y(k)!==I&&b(k,I),s&&!h(I,C))for(n in L=!0,m(I,C,{get:function(){return l(this)?this[D]:void 0}}),M)u[n]&&f(u[n],D,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:L&&D,aTypedArray:function(e){if(U(e))return e;throw j("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!b||v(A,e)))return e;throw j(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(s){if(r)for(var i in M){var o=u[i];if(o&&h(o.prototype,e))try{delete o.prototype[e]}catch(r){try{o.prototype[e]=t}catch(e){}}}I[e]&&!r||g(I,e,r?t:N&&S[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(s){if(b){if(r)for(n in M)if((i=u[n])&&h(i,e))try{delete i[e]}catch(e){}if(A[e]&&!r)return;try{return g(A,e,r?t:N&&A[e]||t)}catch(e){}}for(n in M)!(i=u[n])||i[e]&&!r||g(i,e,t)}},getTypedArrayConstructor:B,isView:function(e){if(!l(e))return!1;var t=d(e);return"DataView"===t||h(M,t)||h(F,t)},isTypedArray:U,TypedArray:A,TypedArrayPrototype:I}},9185:(e,t,r)=>{"use strict";var n=r(2086),i=r(8240),o=r(5283),a=r(656),s=r(4398),u=r(2585),c=r(6192),l=r(3677),h=r(1855),d=r(9502),p=r(4005),f=r(3687),g=r(3339),m=r(2130),v=r(7530),y=r(62).f,b=r(7826).f,_=r(435),w=r(3329),x=r(914),E=r(3278),O=s.PROPER,T=s.CONFIGURABLE,S=E.get,P=E.set,k="ArrayBuffer",A="Wrong index",I=n.ArrayBuffer,R=I,j=R&&R.prototype,C=n.DataView,D=C&&C.prototype,N=Object.prototype,L=n.Array,M=n.RangeError,F=i(_),B=i([].reverse),U=g.pack,z=g.unpack,H=function(e){return[255&e]},W=function(e){return[255&e,e>>8&255]},G=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},V=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},q=function(e){return U(e,23,4)},Y=function(e){return U(e,52,8)},$=function(e,t){b(e.prototype,t,{get:function(){return S(this)[t]}})},X=function(e,t,r,n){var i=f(r),o=S(e);if(i+t>o.byteLength)throw M(A);var a=S(o.buffer).bytes,s=i+o.byteOffset,u=w(a,s,s+t);return n?u:B(u)},K=function(e,t,r,n,i,o){var a=f(r),s=S(e);if(a+t>s.byteLength)throw M(A);for(var u=S(s.buffer).bytes,c=a+s.byteOffset,l=n(+i),h=0;h<t;h++)u[c+h]=l[o?h:t-h-1]};if(a){var Z=O&&I.name!==k;if(l((function(){I(1)}))&&l((function(){new I(-1)}))&&!l((function(){return new I,new I(1.5),new I(NaN),Z&&!T})))Z&&T&&u(I,"name",k);else{(R=function(e){return h(this,j),new I(f(e))}).prototype=j;for(var J,Q=y(I),ee=0;Q.length>ee;)(J=Q[ee++])in R||u(R,J,I[J]);j.constructor=R}v&&m(D)!==N&&v(D,N);var te=new C(new R(2)),re=i(D.setInt8);te.setInt8(0,2147483648),te.setInt8(1,2147483649),!te.getInt8(0)&&te.getInt8(1)||c(D,{setInt8:function(e,t){re(this,e,t<<24>>24)},setUint8:function(e,t){re(this,e,t<<24>>24)}},{unsafe:!0})}else j=(R=function(e){h(this,j);var t=f(e);P(this,{bytes:F(L(t),0),byteLength:t}),o||(this.byteLength=t)}).prototype,D=(C=function(e,t,r){h(this,D),h(e,j);var n=S(e).byteLength,i=d(t);if(i<0||i>n)throw M("Wrong offset");if(i+(r=void 0===r?n-i:p(r))>n)throw M("Wrong length");P(this,{buffer:e,byteLength:r,byteOffset:i}),o||(this.buffer=e,this.byteLength=r,this.byteOffset=i)}).prototype,o&&($(R,"byteLength"),$(C,"buffer"),$(C,"byteLength"),$(C,"byteOffset")),c(D,{getInt8:function(e){return X(this,1,e)[0]<<24>>24},getUint8:function(e){return X(this,1,e)[0]},getInt16:function(e){var t=X(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=X(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return V(X(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return V(X(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return z(X(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return z(X(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){K(this,1,e,H,t)},setUint8:function(e,t){K(this,1,e,H,t)},setInt16:function(e,t){K(this,2,e,W,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){K(this,2,e,W,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){K(this,4,e,G,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){K(this,4,e,G,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){K(this,4,e,q,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){K(this,8,e,Y,t,arguments.length>2?arguments[2]:void 0)}});x(R,k),x(C,"DataView"),e.exports={ArrayBuffer:R,DataView:C}},435:(e,t,r)=>{"use strict";var n=r(3060),i=r(7740),o=r(2871);e.exports=function(e){for(var t=n(this),r=o(t),a=arguments.length,s=i(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,c=void 0===u?r:i(u,r);c>s;)t[s++]=e;return t}},1842:(e,t,r)=>{"use strict";var n=r(8516),i=r(9413),o=r(3060),a=r(7850),s=r(2814),u=r(1956),c=r(2871),l=r(9720),h=r(3546),d=r(1667),p=Array;e.exports=function(e){var t=o(e),r=u(this),f=arguments.length,g=f>1?arguments[1]:void 0,m=void 0!==g;m&&(g=n(g,f>2?arguments[2]:void 0));var v,y,b,_,w,x,E=d(t),O=0;if(!E||this===p&&s(E))for(v=c(t),y=r?new this(v):p(v);v>O;O++)x=m?g(t[O],O):t[O],l(y,O,x);else for(w=(_=h(t,E)).next,y=r?new this:[];!(b=i(w,_)).done;O++)x=m?a(_,g,[b.value,O],!0):b.value,l(y,O,x);return y.length=O,y}},6198:(e,t,r)=>{var n=r(4088),i=r(7740),o=r(2871),a=function(e){return function(t,r,a){var s,u=n(t),c=o(u),l=i(a,c);if(e&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},8062:(e,t,r)=>{var n=r(8516),i=r(8240),o=r(5974),a=r(3060),s=r(2871),u=r(5574),c=i([].push),l=function(e){var t=1==e,r=2==e,i=3==e,l=4==e,h=6==e,d=7==e,p=5==e||h;return function(f,g,m,v){for(var y,b,_=a(f),w=o(_),x=n(g,m),E=s(w),O=0,T=v||u,S=t?T(f,E):r||d?T(f,0):void 0;E>O;O++)if((p||O in w)&&(b=x(y=w[O],O,_),e))if(t)S[O]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return O;case 2:c(S,y)}else switch(e){case 4:return!1;case 7:c(S,y)}return h?-1:i||l?l:S}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},3329:(e,t,r)=>{var n=r(7740),i=r(2871),o=r(9720),a=Array,s=Math.max;e.exports=function(e,t,r){for(var u=i(e),c=n(t,u),l=n(void 0===r?u:r,u),h=a(s(l-c,0)),d=0;c<l;c++,d++)o(h,d,e[c]);return h.length=d,h}},1147:(e,t,r)=>{var n=r(3329),i=Math.floor,o=function(e,t){var r=e.length,u=i(r/2);return r<8?a(e,t):s(e,o(n(e,0,u),t),o(n(e,u),t),t)},a=function(e,t){for(var r,n,i=e.length,o=1;o<i;){for(n=o,r=e[o];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==o++&&(e[n]=r)}return e},s=function(e,t,r,n){for(var i=t.length,o=r.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?n(t[a],r[s])<=0?t[a++]:r[s++]:a<i?t[a++]:r[s++];return e};e.exports=o},8789:(e,t,r)=>{var n=r(6526),i=r(1956),o=r(8759),a=r(211)("species"),s=Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,(i(t)&&(t===s||n(t.prototype))||o(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?s:t}},5574:(e,t,r)=>{var n=r(8789);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},7850:(e,t,r)=>{var n=r(6112),i=r(6737);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){i(e,"throw",t)}}},8939:(e,t,r)=>{var n=r(211)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},e(o)}catch(e){}return r}},2306:(e,t,r)=>{var n=r(8240),i=n({}.toString),o=n("".slice);e.exports=function(e){return o(i(e),8,-1)}},375:(e,t,r)=>{var n=r(2371),i=r(930),o=r(2306),a=r(211)("toStringTag"),s=Object,u="Arguments"==o(function(){return arguments}());e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?r:u?o(t):"Object"==(n=o(t))&&i(t.callee)?"Arguments":n}},8474:(e,t,r)=>{var n=r(9606),i=r(6095),o=r(4399),a=r(7826);e.exports=function(e,t,r){for(var s=i(t),u=a.f,c=o.f,l=0;l<s.length;l++){var h=s[l];n(e,h)||r&&n(r,h)||u(e,h,c(t,h))}}},7209:(e,t,r)=>{var n=r(3677);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},471:(e,t,r)=>{"use strict";var n=r(3083).IteratorPrototype,i=r(4710),o=r(5736),a=r(914),s=r(7719),u=function(){return this};e.exports=function(e,t,r,c){var l=t+" Iterator";return e.prototype=i(n,{next:o(+!c,r)}),a(e,l,!1,!0),s[l]=u,e}},2585:(e,t,r)=>{var n=r(5283),i=r(7826),o=r(5736);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},5736:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},9720:(e,t,r)=>{"use strict";var n=r(2258),i=r(7826),o=r(5736);e.exports=function(e,t,r){var a=n(t);a in e?i.f(e,a,o(0,r)):e[a]=r}},8371:(e,t,r)=>{var n=r(3712),i=r(7826);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},1343:(e,t,r)=>{var n=r(930),i=r(7826),o=r(3712),a=r(9444);e.exports=function(e,t,r,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:t;if(n(r)&&o(r,c,s),s.global)u?e[t]=r:a(t,r);else{try{s.unsafe?e[t]&&(u=!0):delete e[t]}catch(e){}u?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},6192:(e,t,r)=>{var n=r(1343);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},9444:(e,t,r)=>{var n=r(2086),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},8432:(e,t,r)=>{"use strict";var n=r(1695),i=r(9413),o=r(3296),a=r(4398),s=r(930),u=r(471),c=r(2130),l=r(7530),h=r(914),d=r(2585),p=r(1343),f=r(211),g=r(7719),m=r(3083),v=a.PROPER,y=a.CONFIGURABLE,b=m.IteratorPrototype,_=m.BUGGY_SAFARI_ITERATORS,w=f("iterator"),x="keys",E="values",O="entries",T=function(){return this};e.exports=function(e,t,r,a,f,m,S){u(r,t,a);var P,k,A,I=function(e){if(e===f&&N)return N;if(!_&&e in C)return C[e];switch(e){case x:case E:case O:return function(){return new r(this,e)}}return function(){return new r(this)}},R=t+" Iterator",j=!1,C=e.prototype,D=C[w]||C["@@iterator"]||f&&C[f],N=!_&&D||I(f),L="Array"==t&&C.entries||D;if(L&&(P=c(L.call(new e)))!==Object.prototype&&P.next&&(o||c(P)===b||(l?l(P,b):s(P[w])||p(P,w,T)),h(P,R,!0,!0),o&&(g[R]=T)),v&&f==E&&D&&D.name!==E&&(!o&&y?d(C,"name",E):(j=!0,N=function(){return i(D,this)})),f)if(k={values:I(E),keys:m?N:I(x),entries:I(O)},S)for(A in k)(_||j||!(A in C))&&p(C,A,k[A]);else n({target:t,proto:!0,forced:_||j},k);return o&&!S||C[w]===N||p(C,w,N,{name:f}),g[t]=N,k}},5283:(e,t,r)=>{var n=r(3677);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},821:(e,t,r)=>{var n=r(2086),i=r(8759),o=n.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},933:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3526:(e,t,r)=>{var n=r(821)("span").classList,i=n&&n.constructor&&n.constructor.prototype;e.exports=i===Object.prototype?void 0:i},1799:(e,t,r)=>{var n=r(4999).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},4172:(e,t,r)=>{var n=r(4999);e.exports=/MSIE|Trident/.test(n)},4999:(e,t,r)=>{var n=r(563);e.exports=n("navigator","userAgent")||""},1448:(e,t,r)=>{var n,i,o=r(2086),a=r(4999),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},9804:(e,t,r)=>{var n=r(4999).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},8684:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1695:(e,t,r)=>{var n=r(2086),i=r(4399).f,o=r(2585),a=r(1343),s=r(9444),u=r(8474),c=r(7189);e.exports=function(e,t){var r,l,h,d,p,f=e.target,g=e.global,m=e.stat;if(r=g?n:m?n[f]||s(f,{}):(n[f]||{}).prototype)for(l in t){if(d=t[l],h=e.dontCallGetSet?(p=i(r,l))&&p.value:r[l],!c(g?l:f+(m?".":"#")+l,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;u(d,h)}(e.sham||h&&h.sham)&&o(d,"sham",!0),a(r,l,d,e)}}},3677:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},2331:(e,t,r)=>{"use strict";r(2077);var n=r(8240),i=r(1343),o=r(4861),a=r(3677),s=r(211),u=r(2585),c=s("species"),l=RegExp.prototype;e.exports=function(e,t,r,h){var d=s(e),p=!a((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),f=p&&!a((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[c]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!p||!f||r){var g=n(/./[d]),m=t(d,""[e],(function(e,t,r,i,a){var s=n(e),u=t.exec;return u===o||u===l.exec?p&&!a?{done:!0,value:g(t,r,i)}:{done:!0,value:s(r,t,i)}:{done:!1}}));i(String.prototype,e,m[0]),i(l,d,m[1])}h&&u(l[d],"sham",!0)}},7258:(e,t,r)=>{var n=r(6059),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(o):function(){return a.apply(o,arguments)})},8516:(e,t,r)=>{var n=r(8240),i=r(5089),o=r(6059),a=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},6059:(e,t,r)=>{var n=r(3677);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},9413:(e,t,r)=>{var n=r(6059),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},4398:(e,t,r)=>{var n=r(5283),i=r(9606),o=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!n||n&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},8240:(e,t,r)=>{var n=r(6059),i=Function.prototype,o=i.bind,a=i.call,s=n&&o.bind(a,a);e.exports=n?function(e){return e&&s(e)}:function(e){return e&&function(){return a.apply(e,arguments)}}},563:(e,t,r)=>{var n=r(2086),i=r(930),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e]):n[e]&&n[e][t]}},1667:(e,t,r)=>{var n=r(375),i=r(2964),o=r(7719),a=r(211)("iterator");e.exports=function(e){if(null!=e)return i(e,a)||i(e,"@@iterator")||o[n(e)]}},3546:(e,t,r)=>{var n=r(9413),i=r(5089),o=r(6112),a=r(9268),s=r(1667),u=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(i(r))return o(n(r,e));throw u(a(e)+" is not iterable")}},2964:(e,t,r)=>{var n=r(5089);e.exports=function(e,t){var r=e[t];return null==r?void 0:n(r)}},8509:(e,t,r)=>{var n=r(8240),i=r(3060),o=Math.floor,a=n("".charAt),s=n("".replace),u=n("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,h,d){var p=r+e.length,f=n.length,g=l;return void 0!==h&&(h=i(h),g=c),s(d,g,(function(i,s){var c;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,r);case"'":return u(t,p);case"<":c=h[u(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>f){var d=o(l/10);return 0===d?i:d<=f?void 0===n[d-1]?a(s,1):n[d-1]+a(s,1):i}c=n[l-1]}return void 0===c?"":c}))}},2086:(e,t,r)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},9606:(e,t,r)=>{var n=r(8240),i=r(3060),o=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},7153:e=>{e.exports={}},5963:(e,t,r)=>{var n=r(563);e.exports=n("document","documentElement")},6761:(e,t,r)=>{var n=r(5283),i=r(3677),o=r(821);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},3339:e=>{var t=Array,r=Math.abs,n=Math.pow,i=Math.floor,o=Math.log,a=Math.LN2;e.exports={pack:function(e,s,u){var c,l,h,d=t(u),p=8*u-s-1,f=(1<<p)-1,g=f>>1,m=23===s?n(2,-24)-n(2,-77):0,v=e<0||0===e&&1/e<0?1:0,y=0;for((e=r(e))!=e||e===1/0?(l=e!=e?1:0,c=f):(c=i(o(e)/a),e*(h=n(2,-c))<1&&(c--,h*=2),(e+=c+g>=1?m/h:m*n(2,1-g))*h>=2&&(c++,h/=2),c+g>=f?(l=0,c=f):c+g>=1?(l=(e*h-1)*n(2,s),c+=g):(l=e*n(2,g-1)*n(2,s),c=0));s>=8;)d[y++]=255&l,l/=256,s-=8;for(c=c<<s|l,p+=s;p>0;)d[y++]=255&c,c/=256,p-=8;return d[--y]|=128*v,d},unpack:function(e,t){var r,i=e.length,o=8*i-t-1,a=(1<<o)-1,s=a>>1,u=o-7,c=i-1,l=e[c--],h=127&l;for(l>>=7;u>0;)h=256*h+e[c--],u-=8;for(r=h&(1<<-u)-1,h>>=-u,u+=t;u>0;)r=256*r+e[c--],u-=8;if(0===h)h=1-s;else{if(h===a)return r?NaN:l?-1/0:1/0;r+=n(2,t),h-=s}return(l?-1:1)*r*n(2,h-t)}}},5974:(e,t,r)=>{var n=r(8240),i=r(3677),o=r(2306),a=Object,s=n("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s(e,""):a(e)}:a},5070:(e,t,r)=>{var n=r(930),i=r(8759),o=r(7530);e.exports=function(e,t,r){var a,s;return o&&n(a=t.constructor)&&a!==r&&i(s=a.prototype)&&s!==r.prototype&&o(e,s),e}},9277:(e,t,r)=>{var n=r(8240),i=r(930),o=r(4489),a=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},3278:(e,t,r)=>{var n,i,o,a=r(9316),s=r(2086),u=r(8240),c=r(8759),l=r(2585),h=r(9606),d=r(4489),p=r(8944),f=r(7153),g="Object already initialized",m=s.TypeError,v=s.WeakMap;if(a||d.state){var y=d.state||(d.state=new v),b=u(y.get),_=u(y.has),w=u(y.set);n=function(e,t){if(_(y,e))throw new m(g);return t.facade=e,w(y,e,t),t},i=function(e){return b(y,e)||{}},o=function(e){return _(y,e)}}else{var x=p("state");f[x]=!0,n=function(e,t){if(h(e,x))throw new m(g);return t.facade=e,l(e,x,t),t},i=function(e){return h(e,x)?e[x]:{}},o=function(e){return h(e,x)}}e.exports={set:n,get:i,has:o,enforce:function(e){return o(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return r}}}},2814:(e,t,r)=>{var n=r(211),i=r(7719),o=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},6526:(e,t,r)=>{var n=r(2306);e.exports=Array.isArray||function(e){return"Array"==n(e)}},930:e=>{e.exports=function(e){return"function"==typeof e}},1956:(e,t,r)=>{var n=r(8240),i=r(3677),o=r(930),a=r(375),s=r(563),u=r(9277),c=function(){},l=[],h=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=n(d.exec),f=!d.exec(c),g=function(e){if(!o(e))return!1;try{return h(c,l,e),!0}catch(e){return!1}},m=function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(d,u(e))}catch(e){return!0}};m.sham=!0,e.exports=!h||i((function(){var e;return g(g.call)||!g(Object)||!g((function(){e=!0}))||e}))?m:g},7189:(e,t,r)=>{var n=r(3677),i=r(930),o=/#|\.prototype\./,a=function(e,t){var r=u[s(e)];return r==l||r!=c&&(i(t)?n(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},5806:(e,t,r)=>{var n=r(8759),i=Math.floor;e.exports=Number.isInteger||function(e){return!n(e)&&isFinite(e)&&i(e)===e}},8759:(e,t,r)=>{var n=r(930);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},3296:e=>{e.exports=!1},2071:(e,t,r)=>{var n=r(563),i=r(930),o=r(5516),a=r(1876),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&o(t.prototype,s(e))}},6737:(e,t,r)=>{var n=r(9413),i=r(6112),o=r(2964);e.exports=function(e,t,r){var a,s;i(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw r;return r}a=n(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw r;if(s)throw a;return i(a),r}},3083:(e,t,r)=>{"use strict";var n,i,o,a=r(3677),s=r(930),u=r(4710),c=r(2130),l=r(1343),h=r(211),d=r(3296),p=h("iterator"),f=!1;[].keys&&("next"in(o=[].keys())?(i=c(c(o)))!==Object.prototype&&(n=i):f=!0),null==n||a((function(){var e={};return n[p].call(e)!==e}))?n={}:d&&(n=u(n)),s(n[p])||l(n,p,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:f}},7719:e=>{e.exports={}},2871:(e,t,r)=>{var n=r(4005);e.exports=function(e){return n(e.length)}},3712:(e,t,r)=>{var n=r(3677),i=r(930),o=r(9606),a=r(5283),s=r(4398).CONFIGURABLE,u=r(9277),c=r(3278),l=c.enforce,h=c.get,d=Object.defineProperty,p=a&&!n((function(){return 8!==d((function(){}),"length",{value:8}).length})),f=String(String).split("String"),g=e.exports=function(e,t,r){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!o(e,"name")||s&&e.name!==t)&&(a?d(e,"name",{value:t,configurable:!0}):e.name=t),p&&r&&o(r,"arity")&&e.length!==r.arity&&d(e,"length",{value:r.arity});try{r&&o(r,"constructor")&&r.constructor?a&&d(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=l(e);return o(n,"source")||(n.source=f.join("string"==typeof t?t:"")),e};Function.prototype.toString=g((function(){return i(this)&&h(this).source||u(this)}),"toString")},5681:e=>{var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},3193:(e,t,r)=>{var n=r(1448),i=r(3677);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},4634:(e,t,r)=>{var n=r(3677),i=r(211),o=r(3296),a=i("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},9316:(e,t,r)=>{var n=r(2086),i=r(930),o=r(9277),a=n.WeakMap;e.exports=i(a)&&/native code/.test(o(a))},8722:(e,t,r)=>{"use strict";var n=r(5089),i=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new i(e)}},8675:(e,t,r)=>{"use strict";var n=r(5283),i=r(8240),o=r(9413),a=r(3677),s=r(8779),u=r(6952),c=r(7446),l=r(3060),h=r(5974),d=Object.assign,p=Object.defineProperty,f=i([].concat);e.exports=!d||a((function(){if(n&&1!==d({b:1},d(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),i="abcdefghijklmnopqrst";return e[r]=7,i.split("").forEach((function(e){t[e]=e})),7!=d({},e)[r]||s(d({},t)).join("")!=i}))?function(e){for(var t=l(e),r=arguments.length,i=1,a=u.f,d=c.f;r>i;)for(var p,g=h(arguments[i++]),m=a?f(s(g),a(g)):s(g),v=m.length,y=0;v>y;)p=m[y++],n&&!o(d,g,p)||(t[p]=g[p]);return t}:d},4710:(e,t,r)=>{var n,i=r(6112),o=r(7711),a=r(8684),s=r(7153),u=r(5963),c=r(821),l=r(8944)("IE_PROTO"),h=function(){},d=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t;f="undefined"!=typeof document?document.domain&&n?p(n):((t=c("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F):p(n);for(var r=a.length;r--;)delete f.prototype[a[r]];return f()};s[l]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(h.prototype=i(e),r=new h,h.prototype=null,r[l]=e):r=f(),void 0===t?r:o.f(r,t)}},7711:(e,t,r)=>{var n=r(5283),i=r(8202),o=r(7826),a=r(6112),s=r(4088),u=r(8779);t.f=n&&!i?Object.defineProperties:function(e,t){a(e);for(var r,n=s(t),i=u(t),c=i.length,l=0;c>l;)o.f(e,r=i[l++],n[r]);return e}},7826:(e,t,r)=>{var n=r(5283),i=r(6761),o=r(8202),a=r(6112),s=r(2258),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor;t.f=n?o?function(e,t,r){if(a(e),t=s(t),a(r),"function"==typeof e&&"prototype"===t&&"value"in r&&"writable"in r&&!r.writable){var n=l(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(a(e),t=s(t),a(r),i)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},4399:(e,t,r)=>{var n=r(5283),i=r(9413),o=r(7446),a=r(5736),s=r(4088),u=r(2258),c=r(9606),l=r(6761),h=Object.getOwnPropertyDescriptor;t.f=n?h:function(e,t){if(e=s(e),t=u(t),l)try{return h(e,t)}catch(e){}if(c(e,t))return a(!i(o.f,e,t),e[t])}},62:(e,t,r)=>{var n=r(1352),i=r(8684).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},6952:(e,t)=>{t.f=Object.getOwnPropertySymbols},2130:(e,t,r)=>{var n=r(9606),i=r(930),o=r(3060),a=r(8944),s=r(7209),u=a("IE_PROTO"),c=Object,l=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=o(e);if(n(t,u))return t[u];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof c?l:null}},5516:(e,t,r)=>{var n=r(8240);e.exports=n({}.isPrototypeOf)},1352:(e,t,r)=>{var n=r(8240),i=r(9606),o=r(4088),a=r(6198).indexOf,s=r(7153),u=n([].push);e.exports=function(e,t){var r,n=o(e),c=0,l=[];for(r in n)!i(s,r)&&i(n,r)&&u(l,r);for(;t.length>c;)i(n,r=t[c++])&&(~a(l,r)||u(l,r));return l}},8779:(e,t,r)=>{var n=r(1352),i=r(8684);e.exports=Object.keys||function(e){return n(e,i)}},7446:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},7530:(e,t,r)=>{var n=r(8240),i=r(6112),o=r(1378);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return i(r),o(n),t?e(r,n):r.__proto__=n,r}}():void 0)},7999:(e,t,r)=>{var n=r(9413),i=r(930),o=r(8759),a=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&i(r=e.toString)&&!o(s=n(r,e)))return s;if(i(r=e.valueOf)&&!o(s=n(r,e)))return s;if("string"!==t&&i(r=e.toString)&&!o(s=n(r,e)))return s;throw a("Can't convert object to primitive value")}},6095:(e,t,r)=>{var n=r(563),i=r(8240),o=r(62),a=r(6952),s=r(6112),u=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(s(e)),r=a.f;return r?u(t,r(e)):t}},1237:(e,t,r)=>{var n=r(2086);e.exports=n.Promise},880:(e,t,r)=>{var n=r(6112),i=r(8759),o=r(8722);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=o.f(e);return(0,r.resolve)(t),r.promise}},1189:(e,t,r)=>{var n=r(9413),i=r(6112),o=r(930),a=r(2306),s=r(4861),u=TypeError;e.exports=function(e,t){var r=e.exec;if(o(r)){var c=n(r,e,t);return null!==c&&i(c),c}if("RegExp"===a(e))return n(s,e,t);throw u("RegExp#exec called on incompatible receiver")}},4861:(e,t,r)=>{"use strict";var n,i,o=r(9413),a=r(8240),s=r(4059),u=r(4276),c=r(4930),l=r(9197),h=r(4710),d=r(3278).get,p=r(2582),f=r(2910),g=l("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,v=m,y=a("".charAt),b=a("".indexOf),_=a("".replace),w=a("".slice),x=(i=/b*/g,o(m,n=/a/,"a"),o(m,i,"a"),0!==n.lastIndex||0!==i.lastIndex),E=c.BROKEN_CARET,O=void 0!==/()??/.exec("")[1];(x||O||E||p||f)&&(v=function(e){var t,r,n,i,a,c,l,p=this,f=d(p),T=s(e),S=f.raw;if(S)return S.lastIndex=p.lastIndex,t=o(v,S,T),p.lastIndex=S.lastIndex,t;var P=f.groups,k=E&&p.sticky,A=o(u,p),I=p.source,R=0,j=T;if(k&&(A=_(A,"y",""),-1===b(A,"g")&&(A+="g"),j=w(T,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==y(T,p.lastIndex-1))&&(I="(?: "+I+")",j=" "+j,R++),r=new RegExp("^(?:"+I+")",A)),O&&(r=new RegExp("^"+I+"$(?!\\s)",A)),x&&(n=p.lastIndex),i=o(m,k?r:p,j),k?i?(i.input=w(i.input,R),i[0]=w(i[0],R),i.index=p.lastIndex,p.lastIndex+=i[0].length):p.lastIndex=0:x&&i&&(p.lastIndex=p.global?i.index+i[0].length:n),O&&i&&i.length>1&&o(g,i[0],r,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&P)for(i.groups=c=h(null),a=0;a<P.length;a++)c[(l=P[a])[0]]=i[l[1]];return i}),e.exports=v},4276:(e,t,r)=>{"use strict";var n=r(6112);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},4930:(e,t,r)=>{var n=r(3677),i=r(2086).RegExp,o=n((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=o||n((function(){return!i("a","y").sticky})),s=o||n((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:a,UNSUPPORTED_Y:o}},2582:(e,t,r)=>{var n=r(3677),i=r(2086).RegExp;e.exports=n((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},2910:(e,t,r)=>{var n=r(3677),i=r(2086).RegExp;e.exports=n((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},9586:e=>{var t=TypeError;e.exports=function(e){if(null==e)throw t("Can't call method on "+e);return e}},7420:(e,t,r)=>{"use strict";var n=r(563),i=r(7826),o=r(211),a=r(5283),s=o("species");e.exports=function(e){var t=n(e),r=i.f;a&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},914:(e,t,r)=>{var n=r(7826).f,i=r(9606),o=r(211)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!i(e,o)&&n(e,o,{configurable:!0,value:t})}},8944:(e,t,r)=>{var n=r(9197),i=r(5422),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},4489:(e,t,r)=>{var n=r(2086),i=r(9444),o="__core-js_shared__",a=n[o]||i(o,{});e.exports=a},9197:(e,t,r)=>{var n=r(3296),i=r(4489);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.24.1",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"})},8515:(e,t,r)=>{var n=r(6112),i=r(1449),o=r(211)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||null==(r=n(a)[o])?t:i(r)}},3448:(e,t,r)=>{var n=r(8240),i=r(9502),o=r(4059),a=r(9586),s=n("".charAt),u=n("".charCodeAt),c=n("".slice),l=function(e){return function(t,r){var n,l,h=o(a(t)),d=i(r),p=h.length;return d<0||d>=p?e?"":void 0:(n=u(h,d))<55296||n>56319||d+1===p||(l=u(h,d+1))<56320||l>57343?e?s(h,d):n:e?c(h,d,d+2):l-56320+(n-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},6983:(e,t,r)=>{"use strict";var n=r(8240),i=2147483647,o=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,s="Overflow: input needs wider integers to process",u=RangeError,c=n(a.exec),l=Math.floor,h=String.fromCharCode,d=n("".charCodeAt),p=n([].join),f=n([].push),g=n("".replace),m=n("".split),v=n("".toLowerCase),y=function(e){return e+22+75*(e<26)},b=function(e,t,r){var n=0;for(e=r?l(e/700):e>>1,e+=l(e/t);e>455;)e=l(e/35),n+=36;return l(n+36*e/(e+38))},_=function(e){var t=[];e=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=d(e,r++);if(i>=55296&&i<=56319&&r<n){var o=d(e,r++);56320==(64512&o)?f(t,((1023&i)<<10)+(1023&o)+65536):(f(t,i),r--)}else f(t,i)}return t}(e);var r,n,o=e.length,a=128,c=0,g=72;for(r=0;r<e.length;r++)(n=e[r])<128&&f(t,h(n));var m=t.length,v=m;for(m&&f(t,"-");v<o;){var _=i;for(r=0;r<e.length;r++)(n=e[r])>=a&&n<_&&(_=n);var w=v+1;if(_-a>l((i-c)/w))throw u(s);for(c+=(_-a)*w,a=_,r=0;r<e.length;r++){if((n=e[r])<a&&++c>i)throw u(s);if(n==a){for(var x=c,E=36;;){var O=E<=g?1:E>=g+26?26:E-g;if(x<O)break;var T=x-O,S=36-O;f(t,h(y(O+T%S))),x=l(T/S),E+=36}f(t,h(y(x))),g=b(c,w,v==m),c=0,v++}}c++,a++}return p(t,"")};e.exports=function(e){var t,r,n=[],i=m(g(v(e),a,"."),".");for(t=0;t<i.length;t++)r=i[t],f(n,c(o,r)?"xn--"+_(r):r);return p(n,".")}},7740:(e,t,r)=>{var n=r(9502),i=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},4769:(e,t,r)=>{var n=r(1288),i=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw i("Can't convert number to bigint");return BigInt(t)}},3687:(e,t,r)=>{var n=r(9502),i=r(4005),o=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw o("Wrong length or index");return r}},4088:(e,t,r)=>{var n=r(5974),i=r(9586);e.exports=function(e){return n(i(e))}},9502:(e,t,r)=>{var n=r(5681);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},4005:(e,t,r)=>{var n=r(9502),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},3060:(e,t,r)=>{var n=r(9586),i=Object;e.exports=function(e){return i(n(e))}},5421:(e,t,r)=>{var n=r(4706),i=RangeError;e.exports=function(e,t){var r=n(e);if(r%t)throw i("Wrong offset");return r}},4706:(e,t,r)=>{var n=r(9502),i=RangeError;e.exports=function(e){var t=n(e);if(t<0)throw i("The argument can't be less than 0");return t}},1288:(e,t,r)=>{var n=r(9413),i=r(8759),o=r(2071),a=r(2964),s=r(7999),u=r(211),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var r,u=a(e,l);if(u){if(void 0===t&&(t="default"),r=n(u,e,t),!i(r)||o(r))return r;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},2258:(e,t,r)=>{var n=r(1288),i=r(2071);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},2371:(e,t,r)=>{var n={};n[r(211)("toStringTag")]="z",e.exports="[object z]"===String(n)},4059:(e,t,r)=>{var n=r(375),i=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},9268:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},5412:(e,t,r)=>{"use strict";var n=r(1695),i=r(2086),o=r(9413),a=r(5283),s=r(8315),u=r(3466),c=r(9185),l=r(1855),h=r(5736),d=r(2585),p=r(5806),f=r(4005),g=r(3687),m=r(5421),v=r(2258),y=r(9606),b=r(375),_=r(8759),w=r(2071),x=r(4710),E=r(5516),O=r(7530),T=r(62).f,S=r(6654),P=r(8062).forEach,k=r(7420),A=r(7826),I=r(4399),R=r(3278),j=r(5070),C=R.get,D=R.set,N=R.enforce,L=A.f,M=I.f,F=Math.round,B=i.RangeError,U=c.ArrayBuffer,z=U.prototype,H=c.DataView,W=u.NATIVE_ARRAY_BUFFER_VIEWS,G=u.TYPED_ARRAY_TAG,V=u.TypedArray,q=u.TypedArrayPrototype,Y=u.aTypedArrayConstructor,$=u.isTypedArray,X="BYTES_PER_ELEMENT",K="Wrong length",Z=function(e,t){Y(e);for(var r=0,n=t.length,i=new e(n);n>r;)i[r]=t[r++];return i},J=function(e,t){L(e,t,{get:function(){return C(this)[t]}})},Q=function(e){var t;return E(z,e)||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},ee=function(e,t){return $(e)&&!w(t)&&t in e&&p(+t)&&t>=0},te=function(e,t){return t=v(t),ee(e,t)?h(2,e[t]):M(e,t)},re=function(e,t,r){return t=v(t),!(ee(e,t)&&_(r)&&y(r,"value"))||y(r,"get")||y(r,"set")||r.configurable||y(r,"writable")&&!r.writable||y(r,"enumerable")&&!r.enumerable?L(e,t,r):(e[t]=r.value,e)};a?(W||(I.f=te,A.f=re,J(q,"buffer"),J(q,"byteOffset"),J(q,"byteLength"),J(q,"length")),n({target:"Object",stat:!0,forced:!W},{getOwnPropertyDescriptor:te,defineProperty:re}),e.exports=function(e,t,r){var a=e.match(/\d+$/)[0]/8,u=e+(r?"Clamped":"")+"Array",c="get"+e,h="set"+e,p=i[u],v=p,y=v&&v.prototype,b={},w=function(e,t){L(e,t,{get:function(){return function(e,t){var r=C(e);return r.view[c](t*a+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var i=C(e);r&&(n=(n=F(n))<0?0:n>255?255:255&n),i.view[h](t*a+i.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};W?s&&(v=t((function(e,t,r,n){return l(e,y),j(_(t)?Q(t)?void 0!==n?new p(t,m(r,a),n):void 0!==r?new p(t,m(r,a)):new p(t):$(t)?Z(v,t):o(S,v,t):new p(g(t)),e,v)})),O&&O(v,V),P(T(p),(function(e){e in v||d(v,e,p[e])})),v.prototype=y):(v=t((function(e,t,r,n){l(e,y);var i,s,u,c=0,h=0;if(_(t)){if(!Q(t))return $(t)?Z(v,t):o(S,v,t);i=t,h=m(r,a);var d=t.byteLength;if(void 0===n){if(d%a)throw B(K);if((s=d-h)<0)throw B(K)}else if((s=f(n)*a)+h>d)throw B(K);u=s/a}else u=g(t),i=new U(s=u*a);for(D(e,{buffer:i,byteOffset:h,byteLength:s,length:u,view:new H(i)});c<u;)w(e,c++)})),O&&O(v,V),y=v.prototype=x(q)),y.constructor!==v&&d(y,"constructor",v),N(y).TypedArrayConstructor=v,G&&d(y,G,u);var E=v!=p;b[u]=v,n({global:!0,constructor:!0,forced:E,sham:!W},b),X in v||d(v,X,a),X in y||d(y,X,a),k(u)}):e.exports=function(){}},8315:(e,t,r)=>{var n=r(2086),i=r(3677),o=r(8939),a=r(3466).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,u=n.Int8Array;e.exports=!a||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!o((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},6654:(e,t,r)=>{var n=r(8516),i=r(9413),o=r(1449),a=r(3060),s=r(2871),u=r(3546),c=r(1667),l=r(2814),h=r(3466).aTypedArrayConstructor;e.exports=function(e){var t,r,d,p,f,g,m=o(this),v=a(e),y=arguments.length,b=y>1?arguments[1]:void 0,_=void 0!==b,w=c(v);if(w&&!l(w))for(g=(f=u(v,w)).next,v=[];!(p=i(g,f)).done;)v.push(p.value);for(_&&y>2&&(b=n(b,arguments[2])),r=s(v),d=new(h(m))(r),t=0;r>t;t++)d[t]=_?b(v[t],t):v[t];return d}},5422:(e,t,r)=>{var n=r(8240),i=0,o=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},1876:(e,t,r)=>{var n=r(3193);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8202:(e,t,r)=>{var n=r(5283),i=r(3677);e.exports=n&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},1635:e=>{var t=TypeError;e.exports=function(e,r){if(e<r)throw t("Not enough arguments");return e}},211:(e,t,r)=>{var n=r(2086),i=r(9197),o=r(9606),a=r(5422),s=r(3193),u=r(1876),c=i("wks"),l=n.Symbol,h=l&&l.for,d=u?l:l&&l.withoutSetter||a;e.exports=function(e){if(!o(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&o(l,e)?c[e]=l[e]:c[e]=u&&h?h(t):d(t)}return c[e]}},5769:(e,t,r)=>{"use strict";var n=r(4088),i=r(8669),o=r(7719),a=r(3278),s=r(7826).f,u=r(8432),c=r(3296),l=r(5283),h="Array Iterator",d=a.set,p=a.getterFor(h);e.exports=u(Array,"Array",(function(e,t){d(this,{type:h,target:n(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values");var f=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!c&&l&&"values"!==f.name)try{s(f,"name",{value:"values"})}catch(e){}},3315:(e,t,r)=>{r(8669)("flatMap")},4062:(e,t,r)=>{r(8669)("flat")},1370:(e,t,r)=>{"use strict";var n=r(1695),i=r(3296),o=r(1237),a=r(3677),s=r(563),u=r(930),c=r(8515),l=r(880),h=r(1343),d=o&&o.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){d.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),r=u(e);return this.then(r?function(r){return l(t,e()).then((function(){return r}))}:e,r?function(r){return l(t,e()).then((function(){throw r}))}:e)}}),!i&&u(o)){var p=s("Promise").prototype.finally;d.finally!==p&&h(d,"finally",p,{unsafe:!0})}},2077:(e,t,r)=>{"use strict";var n=r(1695),i=r(4861);n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},7460:(e,t,r)=>{"use strict";var n=r(3448).charAt,i=r(4059),o=r(3278),a=r(8432),s="String Iterator",u=o.set,c=o.getterFor(s);a(String,"String",(function(e){u(this,{type:s,string:i(e),index:0})}),(function(){var e,t=c(this),r=t.string,i=t.index;return i>=r.length?{value:void 0,done:!0}:(e=n(r,i),t.index+=e.length,{value:e,done:!1})}))},911:(e,t,r)=>{"use strict";var n=r(7258),i=r(9413),o=r(8240),a=r(2331),s=r(3677),u=r(6112),c=r(930),l=r(9502),h=r(4005),d=r(4059),p=r(9586),f=r(9966),g=r(2964),m=r(8509),v=r(1189),y=r(211)("replace"),b=Math.max,_=Math.min,w=o([].concat),x=o([].push),E=o("".indexOf),O=o("".slice),T="$0"==="a".replace(/./,"$0"),S=!!/./[y]&&""===/./[y]("a","$0");a("replace",(function(e,t,r){var o=S?"$":"$0";return[function(e,r){var n=p(this),o=null==e?void 0:g(e,y);return o?i(o,e,n,r):i(t,d(n),e,r)},function(e,i){var a=u(this),s=d(e);if("string"==typeof i&&-1===E(i,o)&&-1===E(i,"$<")){var p=r(t,a,s,i);if(p.done)return p.value}var g=c(i);g||(i=d(i));var y=a.global;if(y){var T=a.unicode;a.lastIndex=0}for(var S=[];;){var P=v(a,s);if(null===P)break;if(x(S,P),!y)break;""===d(P[0])&&(a.lastIndex=f(s,h(a.lastIndex),T))}for(var k,A="",I=0,R=0;R<S.length;R++){for(var j=d((P=S[R])[0]),C=b(_(l(P.index),s.length),0),D=[],N=1;N<P.length;N++)x(D,void 0===(k=P[N])?k:String(k));var L=P.groups;if(g){var M=w([j],D,C,s);void 0!==L&&x(M,L);var F=d(n(i,void 0,M))}else F=m(j,s,C,D,L,i);C>=I&&(A+=O(s,I,C)+F,I=C+j.length)}return A+O(s,I)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!T||S)},6160:(e,t,r)=>{"use strict";var n=r(3466),i=r(435),o=r(4769),a=r(375),s=r(9413),u=r(8240),c=r(3677),l=n.aTypedArray,h=n.exportTypedArrayMethod,d=u("".slice);h("fill",(function(e){var t=arguments.length;l(this);var r="Big"===d(a(this),0,3)?o(e):+e;return s(i,this,r,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),c((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e})))},7753:(e,t,r)=>{r(5412)("Float32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},5389:(e,t,r)=>{"use strict";var n=r(2086),i=r(9413),o=r(3466),a=r(2871),s=r(5421),u=r(3060),c=r(3677),l=n.RangeError,h=n.Int8Array,d=h&&h.prototype,p=d&&d.set,f=o.aTypedArray,g=o.exportTypedArrayMethod,m=!c((function(){var e=new Uint8ClampedArray(2);return i(p,e,{length:1,0:3},1),3!==e[1]})),v=m&&o.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new h(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));g("set",(function(e){f(this);var t=s(arguments.length>1?arguments[1]:void 0,1),r=u(e);if(m)return i(p,this,r,t);var n=this.length,o=a(r),c=0;if(o+t>n)throw l("Wrong length");for(;c<o;)this[t+c]=r[c++]}),!m||v)},3807:(e,t,r)=>{"use strict";var n=r(2086),i=r(8240),o=r(3677),a=r(5089),s=r(1147),u=r(3466),c=r(1799),l=r(4172),h=r(1448),d=r(9804),p=u.aTypedArray,f=u.exportTypedArrayMethod,g=n.Uint16Array,m=g&&i(g.prototype.sort),v=!(!m||o((function(){m(new g(2),null)}))&&o((function(){m(new g(2),{})}))),y=!!m&&!o((function(){if(h)return h<74;if(c)return c<67;if(l)return!0;if(d)return d<602;var e,t,r=new g(516),n=Array(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(m(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));f("sort",(function(e){return void 0!==e&&a(e),y?m(this,e):s(p(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!y||v)},8428:(e,t,r)=>{r(5412)("Uint16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},9876:(e,t,r)=>{r(5412)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},4078:(e,t,r)=>{var n=r(2086),i=r(933),o=r(3526),a=r(5769),s=r(2585),u=r(211),c=u("iterator"),l=u("toStringTag"),h=a.values,d=function(e,t){if(e){if(e[c]!==h)try{s(e,c,h)}catch(t){e[c]=h}if(e[l]||s(e,l,t),i[t])for(var r in a)if(e[r]!==a[r])try{s(e,r,a[r])}catch(t){e[r]=a[r]}}};for(var p in i)d(n[p]&&n[p].prototype,p);d(o,"DOMTokenList")},4515:(e,t,r)=>{"use strict";r(5769);var n=r(1695),i=r(2086),o=r(9413),a=r(8240),s=r(5283),u=r(4634),c=r(1343),l=r(6192),h=r(914),d=r(471),p=r(3278),f=r(1855),g=r(930),m=r(9606),v=r(8516),y=r(375),b=r(6112),_=r(8759),w=r(4059),x=r(4710),E=r(5736),O=r(3546),T=r(1667),S=r(1635),P=r(211),k=r(1147),A=P("iterator"),I="URLSearchParams",R="URLSearchParamsIterator",j=p.set,C=p.getterFor(I),D=p.getterFor(R),N=Object.getOwnPropertyDescriptor,L=function(e){if(!s)return i[e];var t=N(i,e);return t&&t.value},M=L("fetch"),F=L("Request"),B=L("Headers"),U=F&&F.prototype,z=B&&B.prototype,H=i.RegExp,W=i.TypeError,G=i.decodeURIComponent,V=i.encodeURIComponent,q=a("".charAt),Y=a([].join),$=a([].push),X=a("".replace),K=a([].shift),Z=a([].splice),J=a("".split),Q=a("".slice),ee=/\+/g,te=Array(4),re=function(e){return te[e-1]||(te[e-1]=H("((?:%[\\da-f]{2}){"+e+"})","gi"))},ne=function(e){try{return G(e)}catch(t){return e}},ie=function(e){var t=X(e,ee," "),r=4;try{return G(t)}catch(e){for(;r;)t=X(t,re(r--),ne);return t}},oe=/[!'()~]|%20/g,ae={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},se=function(e){return ae[e]},ue=function(e){return X(V(e),oe,se)},ce=d((function(e,t){j(this,{type:R,iterator:O(C(e).entries),kind:t})}),"Iterator",(function(){var e=D(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r}),!0),le=function(e){this.entries=[],this.url=null,void 0!==e&&(_(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===q(e,0)?Q(e,1):e:w(e)))};le.prototype={type:I,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,i,a,s,u,c=T(e);if(c)for(r=(t=O(e,c)).next;!(n=o(r,t)).done;){if(a=(i=O(b(n.value))).next,(s=o(a,i)).done||(u=o(a,i)).done||!o(a,i).done)throw W("Expected sequence with length 2");$(this.entries,{key:w(s.value),value:w(u.value)})}else for(var l in e)m(e,l)&&$(this.entries,{key:l,value:w(e[l])})},parseQuery:function(e){if(e)for(var t,r,n=J(e,"&"),i=0;i<n.length;)(t=n[i++]).length&&(r=J(t,"="),$(this.entries,{key:ie(K(r)),value:ie(Y(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],n=0;n<t.length;)e=t[n++],$(r,ue(e.key)+"="+ue(e.value));return Y(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var he=function(){f(this,de);var e=arguments.length>0?arguments[0]:void 0;j(this,new le(e))},de=he.prototype;if(l(de,{append:function(e,t){S(arguments.length,2);var r=C(this);$(r.entries,{key:w(e),value:w(t)}),r.updateURL()},delete:function(e){S(arguments.length,1);for(var t=C(this),r=t.entries,n=w(e),i=0;i<r.length;)r[i].key===n?Z(r,i,1):i++;t.updateURL()},get:function(e){S(arguments.length,1);for(var t=C(this).entries,r=w(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){S(arguments.length,1);for(var t=C(this).entries,r=w(e),n=[],i=0;i<t.length;i++)t[i].key===r&&$(n,t[i].value);return n},has:function(e){S(arguments.length,1);for(var t=C(this).entries,r=w(e),n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){S(arguments.length,1);for(var r,n=C(this),i=n.entries,o=!1,a=w(e),s=w(t),u=0;u<i.length;u++)(r=i[u]).key===a&&(o?Z(i,u--,1):(o=!0,r.value=s));o||$(i,{key:a,value:s}),n.updateURL()},sort:function(){var e=C(this);k(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,r=C(this).entries,n=v(e,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((t=r[i++]).value,t.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),c(de,A,de.entries,{name:"entries"}),c(de,"toString",(function(){return C(this).serialize()}),{enumerable:!0}),h(he,I),n({global:!0,constructor:!0,forced:!u},{URLSearchParams:he}),!u&&g(B)){var pe=a(z.has),fe=a(z.set),ge=function(e){if(_(e)){var t,r=e.body;if(y(r)===I)return t=e.headers?new B(e.headers):new B,pe(t,"content-type")||fe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),x(e,{body:E(0,w(r)),headers:E(0,t)})}return e};if(g(M)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return M(e,arguments.length>1?ge(arguments[1]):{})}}),g(F)){var me=function(e){return f(this,U),new F(e,arguments.length>1?ge(arguments[1]):{})};U.constructor=me,me.prototype=U,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:me})}}e.exports={URLSearchParams:he,getState:C}},8581:(e,t,r)=>{r(4515)},9668:(e,t,r)=>{"use strict";r(7460);var n,i=r(1695),o=r(5283),a=r(4634),s=r(2086),u=r(8516),c=r(8240),l=r(1343),h=r(8371),d=r(1855),p=r(9606),f=r(8675),g=r(1842),m=r(3329),v=r(3448).codeAt,y=r(6983),b=r(4059),_=r(914),w=r(1635),x=r(4515),E=r(3278),O=E.set,T=E.getterFor("URL"),S=x.URLSearchParams,P=x.getState,k=s.URL,A=s.TypeError,I=s.parseInt,R=Math.floor,j=Math.pow,C=c("".charAt),D=c(/./.exec),N=c([].join),L=c(1..toString),M=c([].pop),F=c([].push),B=c("".replace),U=c([].shift),z=c("".split),H=c("".slice),W=c("".toLowerCase),G=c([].unshift),V="Invalid scheme",q="Invalid host",Y="Invalid port",$=/[a-z]/i,X=/[\d+-.a-z]/i,K=/\d/,Z=/^0x/i,J=/^[0-7]+$/,Q=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,ne=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ie=/[\t\n\r]/g,oe=function(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)G(t,e%256),e=R(e/256);return N(t,".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,i=0,o=0;o<8;o++)0!==e[o]?(i>r&&(t=n,r=i),n=null,i=0):(null===n&&(n=o),++i);return i>r&&(t=n,r=i),t}(e),r=0;r<8;r++)i&&0===e[r]||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=L(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},ae={},se=f({},ae,{" ":1,'"':1,"<":1,">":1,"`":1}),ue=f({},se,{"#":1,"?":1,"{":1,"}":1}),ce=f({},ue,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),le=function(e,t){var r=v(e,0);return r>32&&r<127&&!p(t,e)?e:encodeURIComponent(e)},he={ftp:21,file:null,http:80,https:443,ws:80,wss:443},de=function(e,t){var r;return 2==e.length&&D($,C(e,0))&&(":"==(r=C(e,1))||!t&&"|"==r)},pe=function(e){var t;return e.length>1&&de(H(e,0,2))&&(2==e.length||"/"===(t=C(e,2))||"\\"===t||"?"===t||"#"===t)},fe=function(e){return"."===e||"%2e"===W(e)},ge={},me={},ve={},ye={},be={},_e={},we={},xe={},Ee={},Oe={},Te={},Se={},Pe={},ke={},Ae={},Ie={},Re={},je={},Ce={},De={},Ne={},Le=function(e,t,r){var n,i,o,a=b(e);if(t){if(i=this.parse(a))throw A(i);this.searchParams=null}else{if(void 0!==r&&(n=new Le(r,!0)),i=this.parse(a,null,n))throw A(i);(o=P(new S)).bindURL(this),this.searchParams=o}};Le.prototype={type:"URL",parse:function(e,t,r){var i,o,a,s,u,c=this,l=t||ge,h=0,d="",f=!1,v=!1,y=!1;for(e=b(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=B(e,ne,"")),e=B(e,ie,""),i=g(e);h<=i.length;){switch(o=i[h],l){case ge:if(!o||!D($,o)){if(t)return V;l=ve;continue}d+=W(o),l=me;break;case me:if(o&&(D(X,o)||"+"==o||"-"==o||"."==o))d+=W(o);else{if(":"!=o){if(t)return V;d="",l=ve,h=0;continue}if(t&&(c.isSpecial()!=p(he,d)||"file"==d&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=d,t)return void(c.isSpecial()&&he[c.scheme]==c.port&&(c.port=null));d="","file"==c.scheme?l=ke:c.isSpecial()&&r&&r.scheme==c.scheme?l=ye:c.isSpecial()?l=xe:"/"==i[h+1]?(l=be,h++):(c.cannotBeABaseURL=!0,F(c.path,""),l=Ce)}break;case ve:if(!r||r.cannotBeABaseURL&&"#"!=o)return V;if(r.cannotBeABaseURL&&"#"==o){c.scheme=r.scheme,c.path=m(r.path),c.query=r.query,c.fragment="",c.cannotBeABaseURL=!0,l=Ne;break}l="file"==r.scheme?ke:_e;continue;case ye:if("/"!=o||"/"!=i[h+1]){l=_e;continue}l=Ee,h++;break;case be:if("/"==o){l=Oe;break}l=je;continue;case _e:if(c.scheme=r.scheme,o==n)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=m(r.path),c.query=r.query;else if("/"==o||"\\"==o&&c.isSpecial())l=we;else if("?"==o)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=m(r.path),c.query="",l=De;else{if("#"!=o){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=m(r.path),c.path.length--,l=je;continue}c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=m(r.path),c.query=r.query,c.fragment="",l=Ne}break;case we:if(!c.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,l=je;continue}l=Oe}else l=Ee;break;case xe:if(l=Ee,"/"!=o||"/"!=C(d,h+1))continue;h++;break;case Ee:if("/"!=o&&"\\"!=o){l=Oe;continue}break;case Oe:if("@"==o){f&&(d="%40"+d),f=!0,a=g(d);for(var _=0;_<a.length;_++){var w=a[_];if(":"!=w||y){var x=le(w,ce);y?c.password+=x:c.username+=x}else y=!0}d=""}else if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(f&&""==d)return"Invalid authority";h-=g(d).length+1,d="",l=Te}else d+=o;break;case Te:case Se:if(t&&"file"==c.scheme){l=Ie;continue}if(":"!=o||v){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(c.isSpecial()&&""==d)return q;if(t&&""==d&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(d))return s;if(d="",l=Re,t)return;continue}"["==o?v=!0:"]"==o&&(v=!1),d+=o}else{if(""==d)return q;if(s=c.parseHost(d))return s;if(d="",l=Pe,t==Se)return}break;case Pe:if(!D(K,o)){if(o==n||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()||t){if(""!=d){var E=I(d,10);if(E>65535)return Y;c.port=c.isSpecial()&&E===he[c.scheme]?null:E,d=""}if(t)return;l=Re;continue}return Y}d+=o;break;case ke:if(c.scheme="file","/"==o||"\\"==o)l=Ae;else{if(!r||"file"!=r.scheme){l=je;continue}if(o==n)c.host=r.host,c.path=m(r.path),c.query=r.query;else if("?"==o)c.host=r.host,c.path=m(r.path),c.query="",l=De;else{if("#"!=o){pe(N(m(i,h),""))||(c.host=r.host,c.path=m(r.path),c.shortenPath()),l=je;continue}c.host=r.host,c.path=m(r.path),c.query=r.query,c.fragment="",l=Ne}}break;case Ae:if("/"==o||"\\"==o){l=Ie;break}r&&"file"==r.scheme&&!pe(N(m(i,h),""))&&(de(r.path[0],!0)?F(c.path,r.path[0]):c.host=r.host),l=je;continue;case Ie:if(o==n||"/"==o||"\\"==o||"?"==o||"#"==o){if(!t&&de(d))l=je;else if(""==d){if(c.host="",t)return;l=Re}else{if(s=c.parseHost(d))return s;if("localhost"==c.host&&(c.host=""),t)return;d="",l=Re}continue}d+=o;break;case Re:if(c.isSpecial()){if(l=je,"/"!=o&&"\\"!=o)continue}else if(t||"?"!=o)if(t||"#"!=o){if(o!=n&&(l=je,"/"!=o))continue}else c.fragment="",l=Ne;else c.query="",l=De;break;case je:if(o==n||"/"==o||"\\"==o&&c.isSpecial()||!t&&("?"==o||"#"==o)){if(".."===(u=W(u=d))||"%2e."===u||".%2e"===u||"%2e%2e"===u?(c.shortenPath(),"/"==o||"\\"==o&&c.isSpecial()||F(c.path,"")):fe(d)?"/"==o||"\\"==o&&c.isSpecial()||F(c.path,""):("file"==c.scheme&&!c.path.length&&de(d)&&(c.host&&(c.host=""),d=C(d,0)+":"),F(c.path,d)),d="","file"==c.scheme&&(o==n||"?"==o||"#"==o))for(;c.path.length>1&&""===c.path[0];)U(c.path);"?"==o?(c.query="",l=De):"#"==o&&(c.fragment="",l=Ne)}else d+=le(o,ue);break;case Ce:"?"==o?(c.query="",l=De):"#"==o?(c.fragment="",l=Ne):o!=n&&(c.path[0]+=le(o,ae));break;case De:t||"#"!=o?o!=n&&("'"==o&&c.isSpecial()?c.query+="%27":c.query+="#"==o?"%23":le(o,ae)):(c.fragment="",l=Ne);break;case Ne:o!=n&&(c.fragment+=le(o,se))}h++}},parseHost:function(e){var t,r,n;if("["==C(e,0)){if("]"!=C(e,e.length-1))return q;if(t=function(e){var t,r,n,i,o,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,h=0,d=function(){return C(e,h)};if(":"==d()){if(":"!=C(e,1))return;h+=2,l=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=r=0;r<4&&D(ee,d());)t=16*t+I(d(),16),h++,r++;if("."==d()){if(0==r)return;if(h-=r,c>6)return;for(n=0;d();){if(i=null,n>0){if(!("."==d()&&n<4))return;h++}if(!D(K,d()))return;for(;D(K,d());){if(o=I(d(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;h++}u[c]=256*u[c]+i,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;u[c++]=t}else{if(null!==l)return;h++,l=++c}}if(null!==l)for(a=c-l,c=7;0!=c&&a>0;)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s;else if(8!=c)return;return u}(H(e,1,-1)),!t)return q;this.host=t}else if(this.isSpecial()){if(e=y(e),D(te,e))return q;if(t=function(e){var t,r,n,i,o,a,s,u=z(e,".");if(u.length&&""==u[u.length-1]&&u.length--,(t=u.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(i=u[n]))return e;if(o=10,i.length>1&&"0"==C(i,0)&&(o=D(Z,i)?16:8,i=H(i,8==o?1:2)),""===i)a=0;else{if(!D(10==o?Q:8==o?J:ee,i))return e;a=I(i,o)}F(r,a)}for(n=0;n<t;n++)if(a=r[n],n==t-1){if(a>=j(256,5-t))return null}else if(a>255)return null;for(s=M(r),n=0;n<r.length;n++)s+=r[n]*j(256,3-n);return s}(e),null===t)return q;this.host=t}else{if(D(re,e))return q;for(t="",r=g(e),n=0;n<r.length;n++)t+=le(r[n],ae);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(he,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&de(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,r=e.username,n=e.password,i=e.host,o=e.port,a=e.path,s=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",e.includesCredentials()&&(c+=r+(n?":"+n:"")+"@"),c+=oe(i),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+N(a,"/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},setHref:function(e){var t=this.parse(e);if(t)throw A(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Me(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+oe(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",ge)},getUsername:function(){return this.username},setUsername:function(e){var t=g(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=le(t[r],ce)}},getPassword:function(){return this.password},setPassword:function(e){var t=g(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=le(t[r],ce)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?oe(e):oe(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Te)},getHostname:function(){var e=this.host;return null===e?"":oe(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Se)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=b(e))?this.port=null:this.parse(e,Pe))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+N(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Re))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=b(e))?this.query=null:("?"==C(e,0)&&(e=H(e,1)),this.query="",this.parse(e,De)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=b(e))?("#"==C(e,0)&&(e=H(e,1)),this.fragment="",this.parse(e,Ne)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Me=function(e){var t=d(this,Fe),r=w(arguments.length,1)>1?arguments[1]:void 0,n=O(t,new Le(e,!1,r));o||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},Fe=Me.prototype,Be=function(e,t){return{get:function(){return T(this)[e]()},set:t&&function(e){return T(this)[t](e)},configurable:!0,enumerable:!0}};if(o&&(h(Fe,"href",Be("serialize","setHref")),h(Fe,"origin",Be("getOrigin")),h(Fe,"protocol",Be("getProtocol","setProtocol")),h(Fe,"username",Be("getUsername","setUsername")),h(Fe,"password",Be("getPassword","setPassword")),h(Fe,"host",Be("getHost","setHost")),h(Fe,"hostname",Be("getHostname","setHostname")),h(Fe,"port",Be("getPort","setPort")),h(Fe,"pathname",Be("getPathname","setPathname")),h(Fe,"search",Be("getSearch","setSearch")),h(Fe,"searchParams",Be("getSearchParams")),h(Fe,"hash",Be("getHash","setHash"))),l(Fe,"toJSON",(function(){return T(this).serialize()}),{enumerable:!0}),l(Fe,"toString",(function(){return T(this).serialize()}),{enumerable:!0}),k){var Ue=k.createObjectURL,ze=k.revokeObjectURL;Ue&&l(Me,"createObjectURL",u(Ue,k)),ze&&l(Me,"revokeObjectURL",u(ze,k))}_(Me,"URL"),i({global:!0,constructor:!0,forced:!a,sham:!o},{URL:Me})},684:(e,t,r)=>{r(9668)},4170:(e,t,r)=>{"use strict";var n=r(1695),i=r(9413);n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return i(URL.prototype.toString,this)}})},9372:function(e,t){var r="undefined"!=typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function g(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,r,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=f(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=c(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},d.prototype.delete=function(e){delete this.map[c(e)]},d.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},d.prototype.set=function(e,t){this.map[c(e)]=l(t)},d.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),h(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),h(e)},n&&(d.prototype[Symbol.iterator]=d.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var r,n,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),y.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var x=[301,302,303,307,308];w.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function E(e,r){return new Promise((function(n,o){var a=new b(e,r);if(a.signal&&a.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e,t,r={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;n(new w(i,r))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}E.polyfill=!0,e.fetch||(e.fetch=E,e.Headers=d,e.Request=b,e.Response=w),t.Headers=d,t.Request=b,t.Response=w,t.fetch=E,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},5862:e=>{var t=1e3,r=60*t,n=60*r,i=24*n;function o(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,a){a=a||{};var s,u,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(o){var a=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===c&&isFinite(e))return a.long?(s=e,(u=Math.abs(s))>=i?o(s,u,i,"day"):u>=n?o(s,u,n,"hour"):u>=r?o(s,u,r,"minute"):u>=t?o(s,u,t,"second"):s+" ms"):function(e){var o=Math.abs(e);return o>=i?Math.round(e/i)+"d":o>=n?Math.round(e/n)+"h":o>=r?Math.round(e/r)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},6292:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(9374)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},9374:(e,t,r)=>{e.exports=function(e){function t(e){let r,i,o,a=null;function s(...e){if(!s.enabled)return;const n=s,i=Number(new Date),o=i-(r||i);n.diff=o,n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,i)=>{if("%%"===r)return"%";a++;const o=t.formatters[i];if("function"==typeof o){const t=e[a];r=o.call(n,t),e.splice(a,1),a--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{a=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(5862),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},2741:(e,t,r)=>{"use strict";var n=r(4733),i=r(8483),o=r(3822),a=r(2483),s=r(2473),u=r(4412),c=r(7355),l=r(8574),h=r(8750),d=r(2737),p=r(3062),f=r(2395),g=r(5337),m=r(2505),v=r(950),y=d("Date.prototype.getTime"),b=Object.getPrototypeOf,_=d("Object.prototype.toString"),w=h("%Set%",!0),x=d("Map.prototype.has",!0),E=d("Map.prototype.get",!0),O=d("Map.prototype.size",!0),T=d("Set.prototype.add",!0),S=d("Set.prototype.delete",!0),P=d("Set.prototype.has",!0),k=d("Set.prototype.size",!0);function A(e,t,r,n){for(var i,o=f(e);(i=o.next())&&!i.done;)if(D(t,i.value,r,n))return S(e,i.value),!0;return!1}function I(e){return void 0===e?null:"object"!=typeof e?"symbol"!=typeof e&&("string"!=typeof e&&"number"!=typeof e||+e==+e):void 0}function R(e,t,r,n,i,o){var a=I(r);if(null!=a)return a;var s=E(t,a),u=v({},i,{strict:!1});return!(void 0===s&&!x(t,a)||!D(n,s,u,o))&&!x(e,a)&&D(n,s,u,o)}function j(e,t,r){var n=I(r);return null!=n?n:P(t,n)&&!P(e,n)}function C(e,t,r,n,i,o){for(var a,s,u=f(e);(a=u.next())&&!a.done;)if(D(r,s=a.value,i,o)&&D(n,E(t,s),i,o))return S(e,s),!0;return!1}function D(e,t,r,h){var d=r||{};if(d.strict?o(e,t):e===t)return!0;if(l(e)!==l(t))return!1;if(!e||!t||"object"!=typeof e&&"object"!=typeof t)return d.strict?o(e,t):e==t;var g,S=h.has(e),I=h.has(t);if(S&&I){if(h.get(e)===h.get(t))return!0}else g={};return S||h.set(e,g),I||h.set(t,g),function(e,t,r,o){var l,h;if(typeof e!=typeof t)return!1;if(null==e||null==t)return!1;if(_(e)!==_(t))return!1;if(i(e)!==i(t))return!1;if(u(e)!==u(t))return!1;var d=e instanceof Error,g=t instanceof Error;if(d!==g)return!1;if((d||g)&&(e.name!==t.name||e.message!==t.message))return!1;var S=a(e),I=a(t);if(S!==I)return!1;if((S||I)&&(e.source!==t.source||s(e)!==s(t)))return!1;var L=c(e),M=c(t);if(L!==M)return!1;if((L||M)&&y(e)!==y(t))return!1;if(r.strict&&b&&b(e)!==b(t))return!1;if(m(e)!==m(t))return!1;var F=N(e),B=N(t);if(F!==B)return!1;if(F||B){if(e.length!==t.length)return!1;for(l=0;l<e.length;l++)if(e[l]!==t[l])return!1;return!0}if(typeof e!=typeof t)return!1;var U=n(e),z=n(t);if(U.length!==z.length)return!1;for(U.sort(),z.sort(),l=U.length-1;l>=0;l--)if(U[l]!=z[l])return!1;for(l=U.length-1;l>=0;l--)if(!D(e[h=U[l]],t[h],r,o))return!1;var H=p(e),W=p(t);return H===W&&("Set"===H||"Set"===W?function(e,t,r,n){if(k(e)!==k(t))return!1;for(var i,o,a,s=f(e),u=f(t);(i=s.next())&&!i.done;)if(i.value&&"object"==typeof i.value)a||(a=new w),T(a,i.value);else if(!P(t,i.value)){if(r.strict)return!1;if(!j(e,t,i.value))return!1;a||(a=new w),T(a,i.value)}if(a){for(;(o=u.next())&&!o.done;)if(o.value&&"object"==typeof o.value){if(!A(a,o.value,r.strict,n))return!1}else if(!r.strict&&!P(e,o.value)&&!A(a,o.value,r.strict,n))return!1;return 0===k(a)}return!0}(e,t,r,o):"Map"!==H||function(e,t,r,n){if(O(e)!==O(t))return!1;for(var i,o,a,s,u,c,l=f(e),h=f(t);(i=l.next())&&!i.done;)if(s=i.value[0],u=i.value[1],s&&"object"==typeof s)a||(a=new w),T(a,s);else if(void 0===(c=E(t,s))&&!x(t,s)||!D(u,c,r,n)){if(r.strict)return!1;if(!R(e,t,s,u,r,n))return!1;a||(a=new w),T(a,s)}if(a){for(;(o=h.next())&&!o.done;)if(s=o.value[0],c=o.value[1],s&&"object"==typeof s){if(!C(a,e,s,c,r,n))return!1}else if(!(r.strict||e.has(s)&&D(E(e,s),c,r,n)||C(a,e,s,c,v({},r,{strict:!1}),n)))return!1;return 0===k(a)}return!0}(e,t,r,o))}(e,t,d,h)}function N(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0]||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))}e.exports=function(e,t,r){return D(e,t,r,g())}},4412:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},7392:(e,t,r)=>{"use strict";var n=r(4733),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,u=r(1365)(),c=s&&u,l=function(e,t,r,n){var i;(!(t in e)||"function"==typeof(i=n)&&"[object Function]"===o.call(i)&&n())&&(c?s(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},h=function(e,t){var r=arguments.length>2?arguments[2]:{},o=n(t);i&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)l(e,o[s],t[o[s]],r[o[s]])};h.supportsDescriptors=!!c,e.exports=h},4356:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},8815:e=>{!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function r(e){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(e)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function n(e,t){e.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function i(e){var t=e.g.offsetWidth,r=t+100;return e.j.style.width=r+"px",e.i.scrollLeft=r,e.h.scrollLeft=e.h.scrollWidth+100,e.l!==t&&(e.l=t,!0)}function o(e,r){function n(){var e=o;i(e)&&null!==e.g.parentNode&&r(e.l)}var o=e;t(e.h,n),t(e.i,n),i(e)}function a(e,t,r){t=t||{},r=r||window,this.family=e,this.style=t.style||"normal",this.weight=t.weight||"normal",this.stretch=t.stretch||"normal",this.context=r}var s=null,u=null,c=null,l=null;function h(e){return null===l&&(l=!!e.document.fonts),l}function d(e,t){var r=e.style,n=e.weight;if(null===c){var i=document.createElement("div");try{i.style.font="condensed 100px sans-serif"}catch(e){}c=""!==i.style.font}return[r,n,c?e.stretch:"","100px",t].join(" ")}a.prototype.load=function(e,t){var i=this,a=e||"BESbswy",c=0,l=t||3e3,p=(new Date).getTime();return new Promise((function(e,t){if(h(i.context)&&!function(e){return null===u&&(h(e)&&/Apple/.test(window.navigator.vendor)?(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),u=!!e&&603>parseInt(e[1],10)):u=!1),u}(i.context)){var f=new Promise((function(e,t){!function r(){(new Date).getTime()-p>=l?t(Error(l+"ms timeout exceeded")):i.context.document.fonts.load(d(i,'"'+i.family+'"'),a).then((function(t){1<=t.length?e():setTimeout(r,25)}),t)}()})),g=new Promise((function(e,t){c=setTimeout((function(){t(Error(l+"ms timeout exceeded"))}),l)}));Promise.race([g,f]).then((function(){clearTimeout(c),e(i)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function u(){var t;(t=-1!=m&&-1!=v||-1!=m&&-1!=y||-1!=v&&-1!=y)&&((t=m!=v&&m!=y&&v!=y)||(null===s&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(m==b&&v==b&&y==b||m==_&&v==_&&y==_||m==w&&v==w&&y==w)),t=!t),t&&(null!==x.parentNode&&x.parentNode.removeChild(x),clearTimeout(c),e(i))}var h=new r(a),f=new r(a),g=new r(a),m=-1,v=-1,y=-1,b=-1,_=-1,w=-1,x=document.createElement("div");x.dir="ltr",n(h,d(i,"sans-serif")),n(f,d(i,"serif")),n(g,d(i,"monospace")),x.appendChild(h.g),x.appendChild(f.g),x.appendChild(g.g),i.context.document.body.appendChild(x),b=h.g.offsetWidth,_=f.g.offsetWidth,w=g.g.offsetWidth,function e(){if((new Date).getTime()-p>=l)null!==x.parentNode&&x.parentNode.removeChild(x),t(Error(l+"ms timeout exceeded"));else{var r=i.context.document.hidden;!0!==r&&void 0!==r||(m=h.g.offsetWidth,v=f.g.offsetWidth,y=g.g.offsetWidth,u()),c=setTimeout(e,50)}}(),o(h,(function(e){m=e,u()})),n(h,d(i,'"'+i.family+'",sans-serif')),o(f,(function(e){v=e,u()})),n(f,d(i,'"'+i.family+'",serif')),o(g,(function(e){y=e,u()})),n(g,d(i,'"'+i.family+'",monospace'))}))}))},e.exports=a}()},5278:(e,t,r)=>{"use strict";var n=r(2922),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty,a=function(e,t,r){for(var n=0,i=e.length;n<i;n++)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))},s=function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)},u=function(e,t,r){for(var n in e)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))};e.exports=function(e,t,r){if(!n(t))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=r),"[object Array]"===i.call(e)?a(e,t,o):"string"==typeof e?s(e,t,o):u(e,t,o)}},8458:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,i="[object Function]";e.exports=function(e){var o=this;if("function"!=typeof o||n.call(o)!==i)throw new TypeError(t+o);for(var a,s=r.call(arguments,1),u=function(){if(this instanceof a){var t=o.apply(this,s.concat(r.call(arguments)));return Object(t)===t?t:this}return o.apply(e,s.concat(r.call(arguments)))},c=Math.max(0,o.length-s.length),l=[],h=0;h<c;h++)l.push("$"+h);if(a=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(u),o.prototype){var d=function(){};d.prototype=o.prototype,a.prototype=new d,d.prototype=null}return a}},132:(e,t,r)=>{"use strict";var n=r(8458);e.exports=Function.prototype.bind||n},222:e=>{"use strict";var t=function(){return"string"==typeof function(){}.name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(e){r=null}t.functionsHaveConfigurableNames=function(){if(!t()||!r)return!1;var e=r((function(){}),"name");return!!e&&!!e.configurable};var n=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"==typeof n&&""!==function(){}.bind().name},e.exports=t},8750:(e,t,r)=>{"use strict";var n,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var c=function(){throw new a},l=u?function(){try{return c}catch(e){try{return u(arguments,"callee").get}catch(e){return c}}}():c,h=r(679)(),d=Object.getPrototypeOf||function(e){return e.__proto__},p={},f="undefined"==typeof Uint8Array?n:d(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":h?d([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?d(d([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h?d((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h?d((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?d(""[Symbol.iterator]()):n,"%Symbol%":h?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":f,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},m=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=d(i.prototype))}return g[t]=r,r},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=r(132),b=r(7492),_=y.call(Function.call,Array.prototype.concat),w=y.call(Function.apply,Array.prototype.splice),x=y.call(Function.call,String.prototype.replace),E=y.call(Function.call,String.prototype.slice),O=y.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,P=function(e){var t=E(e,0,1),r=E(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return x(e,T,(function(e,t,r,i){n[n.length]=r?x(i,S,"$1"):t||e})),n},k=function(e,t){var r,n=e;if(b(v,n)&&(n="%"+(r=v[n])[0]+"%"),b(g,n)){var o=g[n];if(o===p&&(o=m(n)),void 0===o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===O(/^%?[^%]*%?$/g,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=P(e),n=r.length>0?r[0]:"",o=k("%"+n+"%",t),s=o.name,c=o.value,l=!1,h=o.alias;h&&(n=h[0],w(r,_([0,1],h)));for(var d=1,p=!0;d<r.length;d+=1){var f=r[d],m=E(f,0,1),v=E(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===v||"'"===v||"`"===v)&&m!==v)throw new i("property names with quotes must have matching quotes");if("constructor"!==f&&p||(l=!0),b(g,s="%"+(n+="."+f)+"%"))c=g[s];else if(null!=c){if(!(f in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&d+1>=r.length){var y=u(c,f);c=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[f]}else p=b(c,f),c=c[f];p&&!l&&(g[s]=c)}}return c}},2608:e=>{"use strict";var t="undefined"!=typeof BigInt&&BigInt;e.exports=function(){return"function"==typeof t&&"function"==typeof BigInt&&"bigint"==typeof t(42)&&"bigint"==typeof BigInt(42)}},1365:(e,t,r)=>{"use strict";var n=r(8750)("%Object.defineProperty%",!0),i=function(){if(n)try{return n({},"a",{value:1}),!0}catch(e){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},679:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(8186);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},8186:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},698:(e,t,r)=>{"use strict";var n=r(8186);e.exports=function(){return n()&&!!Symbol.toStringTag}},7492:(e,t,r)=>{"use strict";var n=r(132);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},5839:(e,t,r)=>{"use strict";var n=r(6492),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return n.isMemo(e)?a:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(f){var i=p(r);i&&i!==f&&e(t,i,n)}var a=l(r);h&&(a=a.concat(h(r)));for(var s=u(t),g=u(r),m=0;m<a.length;++m){var v=a[m];if(!(o[v]||n&&n[v]||g&&g[v]||s&&s[v])){var y=d(r,v);try{c(t,v,y)}catch(e){}}}}return t}},8483:(e,t,r)=>{"use strict";var n=r(698)(),i=r(2737)("Object.prototype.toString"),o=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},a=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,e.exports=s?o:a},7810:(e,t,r)=>{"use strict";if(r(2608)()){var n=BigInt.prototype.valueOf;e.exports=function(e){return null!=e&&"boolean"!=typeof e&&"string"!=typeof e&&"number"!=typeof e&&"symbol"!=typeof e&&"function"!=typeof e&&("bigint"==typeof e||function(e){try{return n.call(e),!0}catch(e){}return!1}(e))}}else e.exports=function(){return!1}},240:(e,t,r)=>{"use strict";var n=r(2737),i=n("Boolean.prototype.toString"),o=n("Object.prototype.toString"),a=r(698)();e.exports=function(e){return"boolean"==typeof e||null!==e&&"object"==typeof e&&(a&&Symbol.toStringTag in e?function(e){try{return i(e),!0}catch(e){return!1}}(e):"[object Boolean]"===o(e))}},2922:e=>{"use strict";var t,r,n=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},i((function(){throw 42}),null,t)}catch(e){e!==r&&(i=null)}else i=null;var o=/^\s*class\b/,a=function(e){try{var t=n.call(e);return o.test(t)}catch(e){return!1}},s=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,c="object"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{};e.exports=i?function(e){if(e===c)return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;try{i(e,null,t)}catch(e){if(e!==r)return!1}return!a(e)}:function(e){if(e===c)return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(u)return function(e){try{return!a(e)&&(n.call(e),!0)}catch(e){return!1}}(e);if(a(e))return!1;var t=s.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},7355:(e,t,r)=>{"use strict";var n=Date.prototype.getDay,i=Object.prototype.toString,o=r(698)();e.exports=function(e){return"object"==typeof e&&null!==e&&(o?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Date]"===i.call(e))}},6966:e=>{"use strict";var t,r="function"==typeof Map&&Map.prototype?Map:null,n="function"==typeof Set&&Set.prototype?Set:null;r||(t=function(){return!1});var i=r?Map.prototype.has:null,o=n?Set.prototype.has:null;t||i||(t=function(){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(i.call(e),o)try{o.call(e)}catch(e){return!0}return e instanceof r}catch(e){}return!1}},7691:(e,t,r)=>{"use strict";var n=Number.prototype.toString,i=Object.prototype.toString,o=r(698)();e.exports=function(e){return"number"==typeof e||"object"==typeof e&&(o?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Number]"===i.call(e))}},2483:(e,t,r)=>{"use strict";var n,i,o,a,s=r(2737),u=r(698)();if(u){n=s("Object.prototype.hasOwnProperty"),i=s("RegExp.prototype.exec"),o={};var c=function(){throw o};a={toString:c,valueOf:c},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=c)}var l=s("Object.prototype.toString"),h=Object.getOwnPropertyDescriptor;e.exports=u?function(e){if(!e||"object"!=typeof e)return!1;var t=h(e,"lastIndex");if(!t||!n(t,"value"))return!1;try{i(e,a)}catch(e){return e===o}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===l(e)}},4255:e=>{"use strict";var t,r="function"==typeof Map&&Map.prototype?Map:null,n="function"==typeof Set&&Set.prototype?Set:null;n||(t=function(){return!1});var i=r?Map.prototype.has:null,o=n?Set.prototype.has:null;t||o||(t=function(){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(o.call(e),i)try{i.call(e)}catch(e){return!0}return e instanceof n}catch(e){}return!1}},8559:(e,t,r)=>{"use strict";var n=String.prototype.valueOf,i=Object.prototype.toString,o=r(698)();e.exports=function(e){return"string"==typeof e||"object"==typeof e&&(o?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object String]"===i.call(e))}},2451:(e,t,r)=>{"use strict";var n=Object.prototype.toString;if(r(679)()){var i=Symbol.prototype.toString,o=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==n.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&o.test(i.call(e))}(e)}catch(e){return!1}}}else e.exports=function(){return!1}},387:(e,t,r)=>{"use strict";var n=r(5278),i=r(973),o=r(2737),a=o("Object.prototype.toString"),s=r(698)(),u="undefined"==typeof globalThis?r.g:globalThis,c=i(),l=o("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},h=o("String.prototype.slice"),d={},p=r(8828),f=Object.getPrototypeOf;s&&p&&f&&n(c,(function(e){var t=new u[e];if(Symbol.toStringTag in t){var r=f(t),n=p(r,Symbol.toStringTag);if(!n){var i=f(r);n=p(i,Symbol.toStringTag)}d[e]=n.get}})),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s||!(Symbol.toStringTag in e)){var t=h(a(e),8,-1);return l(c,t)>-1}return!!p&&function(e){var t=!1;return n(d,(function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}})),t}(e)}},349:e=>{"use strict";var t,r="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,n="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;r||(t=function(){return!1});var i=r?r.prototype.has:null,o=n?n.prototype.has:null;t||i||(t=function(){return!1}),e.exports=t||function(e){if(!e||"object"!=typeof e)return!1;try{if(i.call(e,i),o)try{o.call(e,o)}catch(e){return!0}return e instanceof r}catch(e){}return!1}},7812:(e,t,r)=>{"use strict";var n=r(8750),i=r(2737),o=n("%WeakSet%",!0),a=i("WeakSet.prototype.has",!0);if(a){var s=i("WeakMap.prototype.has",!0);e.exports=function(e){if(!e||"object"!=typeof e)return!1;try{if(a(e,a),s)try{s(e,s)}catch(e){return!0}return e instanceof o}catch(e){}return!1}}else e.exports=function(){return!1}},2004:(e,t,r)=>{e=r.nmd(e);var n="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",a="[object Array]",s="[object Boolean]",u="[object Date]",c="[object Error]",l="[object Function]",h="[object Map]",d="[object Number]",p="[object Object]",f="[object Promise]",g="[object RegExp]",m="[object Set]",v="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",w=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,E={};E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E[o]=E[a]=E[b]=E[s]=E[_]=E[u]=E[c]=E[l]=E[h]=E[d]=E[p]=E[g]=E[m]=E[v]=E[y]=!1;var O="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,T="object"==typeof self&&self&&self.Object===Object&&self,S=O||T||Function("return this")(),P=t&&!t.nodeType&&t,k=P&&e&&!e.nodeType&&e,A=k&&k.exports===P,I=A&&O.process,R=function(){try{return I&&I.binding&&I.binding("util")}catch(e){}}(),j=R&&R.isTypedArray;function C(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function D(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function N(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var L,M,F,B=Array.prototype,U=Function.prototype,z=Object.prototype,H=S["__core-js_shared__"],W=U.toString,G=z.hasOwnProperty,V=(L=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"",q=z.toString,Y=RegExp("^"+W.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$=A?S.Buffer:void 0,X=S.Symbol,K=S.Uint8Array,Z=z.propertyIsEnumerable,J=B.splice,Q=X?X.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=$?$.isBuffer:void 0,re=(M=Object.keys,F=Object,function(e){return M(F(e))}),ne=ke(S,"DataView"),ie=ke(S,"Map"),oe=ke(S,"Promise"),ae=ke(S,"Set"),se=ke(S,"WeakMap"),ue=ke(Object,"create"),ce=je(ne),le=je(ie),he=je(oe),de=je(ae),pe=je(se),fe=X?X.prototype:void 0,ge=fe?fe.valueOf:void 0;function me(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ve(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ye(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function be(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ye;++t<r;)this.add(e[t])}function _e(e){var t=this.__data__=new ve(e);this.size=t.size}function we(e,t){for(var r=e.length;r--;)if(Ce(e[r][0],t))return r;return-1}function xe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Q&&Q in Object(e)?function(e){var t=G.call(e,Q),r=e[Q];try{e[Q]=void 0;var n=!0}catch(e){}var i=q.call(e);return n&&(t?e[Q]=r:delete e[Q]),i}(e):function(e){return q.call(e)}(e)}function Ee(e){return Ue(e)&&xe(e)==o}function Oe(e,t,r,n,i){return e===t||(null==e||null==t||!Ue(e)&&!Ue(t)?e!=e&&t!=t:function(e,t,r,n,i,l){var f=Ne(e),y=Ne(t),w=f?a:Ie(e),x=y?a:Ie(t),E=(w=w==o?p:w)==p,O=(x=x==o?p:x)==p,T=w==x;if(T&&Le(e)){if(!Le(t))return!1;f=!0,E=!1}if(T&&!E)return l||(l=new _e),f||ze(e)?Te(e,t,r,n,i,l):function(e,t,r,n,i,o,a){switch(r){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!o(new K(e),new K(t)));case s:case u:case d:return Ce(+e,+t);case c:return e.name==t.name&&e.message==t.message;case g:case v:return e==t+"";case h:var l=D;case m:var p=1&n;if(l||(l=N),e.size!=t.size&&!p)return!1;var f=a.get(e);if(f)return f==t;n|=2,a.set(e,t);var y=Te(l(e),l(t),n,i,o,a);return a.delete(e),y;case"[object Symbol]":if(ge)return ge.call(e)==ge.call(t)}return!1}(e,t,w,r,n,i,l);if(!(1&r)){var S=E&&G.call(e,"__wrapped__"),P=O&&G.call(t,"__wrapped__");if(S||P){var k=S?e.value():e,A=P?t.value():t;return l||(l=new _e),i(k,A,r,n,l)}}return!!T&&(l||(l=new _e),function(e,t,r,n,i,o){var a=1&r,s=Se(e),u=s.length;if(u!=Se(t).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in t:G.call(t,l)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var d=!0;o.set(e,t),o.set(t,e);for(var p=a;++c<u;){var f=e[l=s[c]],g=t[l];if(n)var m=a?n(g,f,l,t,e,o):n(f,g,l,e,t,o);if(!(void 0===m?f===g||i(f,g,r,n,o):m)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(d=!1)}return o.delete(e),o.delete(t),d}(e,t,r,n,i,l))}(e,t,r,n,Oe,i))}function Te(e,t,r,n,i,o){var a=1&r,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var l=-1,h=!0,d=2&r?new be:void 0;for(o.set(e,t),o.set(t,e);++l<s;){var p=e[l],f=t[l];if(n)var g=a?n(f,p,l,t,e,o):n(p,f,l,e,t,o);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!C(t,(function(e,t){if(a=t,!d.has(a)&&(p===e||i(p,e,r,n,o)))return d.push(t);var a}))){h=!1;break}}else if(p!==f&&!i(p,f,r,n,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function Se(e){return function(e,t,r){var n=t(e);return Ne(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))}(e,He,Ae)}function Pe(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function ke(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Be(e)||function(e){return!!V&&V in e}(e))&&(Me(e)?Y:w).test(je(e))}(r)?r:void 0}me.prototype.clear=function(){this.__data__=ue?ue(null):{},this.size=0},me.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},me.prototype.get=function(e){var t=this.__data__;if(ue){var r=t[e];return r===n?void 0:r}return G.call(t,e)?t[e]:void 0},me.prototype.has=function(e){var t=this.__data__;return ue?void 0!==t[e]:G.call(t,e)},me.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ue&&void 0===t?n:t,this},ve.prototype.clear=function(){this.__data__=[],this.size=0},ve.prototype.delete=function(e){var t=this.__data__,r=we(t,e);return!(r<0||(r==t.length-1?t.pop():J.call(t,r,1),--this.size,0))},ve.prototype.get=function(e){var t=this.__data__,r=we(t,e);return r<0?void 0:t[r][1]},ve.prototype.has=function(e){return we(this.__data__,e)>-1},ve.prototype.set=function(e,t){var r=this.__data__,n=we(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},ye.prototype.clear=function(){this.size=0,this.__data__={hash:new me,map:new(ie||ve),string:new me}},ye.prototype.delete=function(e){var t=Pe(this,e).delete(e);return this.size-=t?1:0,t},ye.prototype.get=function(e){return Pe(this,e).get(e)},ye.prototype.has=function(e){return Pe(this,e).has(e)},ye.prototype.set=function(e,t){var r=Pe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},be.prototype.add=be.prototype.push=function(e){return this.__data__.set(e,n),this},be.prototype.has=function(e){return this.__data__.has(e)},_e.prototype.clear=function(){this.__data__=new ve,this.size=0},_e.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},_e.prototype.get=function(e){return this.__data__.get(e)},_e.prototype.has=function(e){return this.__data__.has(e)},_e.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ve){var n=r.__data__;if(!ie||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ye(n)}return r.set(e,t),this.size=r.size,this};var Ae=ee?function(e){return null==e?[]:(e=Object(e),function(t){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var a=t[r];s=a,Z.call(e,s)&&(o[i++]=a)}var s;return o}(ee(e)))}:function(){return[]},Ie=xe;function Re(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||x.test(e))&&e>-1&&e%1==0&&e<t}function je(e){if(null!=e){try{return W.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ce(e,t){return e===t||e!=e&&t!=t}(ne&&Ie(new ne(new ArrayBuffer(1)))!=_||ie&&Ie(new ie)!=h||oe&&Ie(oe.resolve())!=f||ae&&Ie(new ae)!=m||se&&Ie(new se)!=y)&&(Ie=function(e){var t=xe(e),r=t==p?e.constructor:void 0,n=r?je(r):"";if(n)switch(n){case ce:return _;case le:return h;case he:return f;case de:return m;case pe:return y}return t});var De=Ee(function(){return arguments}())?Ee:function(e){return Ue(e)&&G.call(e,"callee")&&!Z.call(e,"callee")},Ne=Array.isArray,Le=te||function(){return!1};function Me(e){if(!Be(e))return!1;var t=xe(e);return t==l||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Fe(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Be(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ue(e){return null!=e&&"object"==typeof e}var ze=j?function(e){return function(t){return e(t)}}(j):function(e){return Ue(e)&&Fe(e.length)&&!!E[xe(e)]};function He(e){return null!=(t=e)&&Fe(t.length)&&!Me(t)?function(e){var t=Ne(e),r=!t&&De(e),n=!t&&!r&&Le(e),i=!t&&!r&&!n&&ze(e),o=t||r||n||i,a=o?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],s=a.length;for(var u in e)!G.call(e,u)||o&&("length"==u||n&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Re(u,s))||a.push(u);return a}(e):function(e){if(r=(t=e)&&t.constructor,t!==("function"==typeof r&&r.prototype||z))return re(e);var t,r,n=[];for(var i in Object(e))G.call(e,i)&&"constructor"!=i&&n.push(i);return n}(e);var t}e.exports=function(e,t){return Oe(e,t)}},8389:(e,t,r)=>{var n="Expected a function",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt,c="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,l="object"==typeof self&&self&&self.Object===Object&&self,h=c||l||Function("return this")(),d=Object.prototype.toString,p=Math.max,f=Math.min,g=function(){return h.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var r=a.test(e);return r||s.test(e)?u(e.slice(2),r?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,r){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError(n);return m(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),function(e,t,r){var i,o,a,s,u,c,l=0,h=!1,d=!1,y=!0;if("function"!=typeof e)throw new TypeError(n);function b(t){var r=i,n=o;return i=o=void 0,l=t,s=e.apply(n,r)}function _(e){return l=e,u=setTimeout(x,t),h?b(e):s}function w(e){var r=e-c;return void 0===c||r>=t||r<0||d&&e-l>=a}function x(){var e=g();if(w(e))return E(e);u=setTimeout(x,function(e){var r=t-(e-c);return d?f(r,a-(e-l)):r}(e))}function E(e){return u=void 0,y&&i?b(e):(i=o=void 0,s)}function O(){var e=g(),r=w(e);if(i=arguments,o=this,c=e,r){if(void 0===u)return _(c);if(d)return u=setTimeout(x,t),b(c)}return void 0===u&&(u=setTimeout(x,t)),s}return t=v(t)||0,m(r)&&(h=!!r.leading,a=(d="maxWait"in r)?p(v(r.maxWait)||0,t):a,y="trailing"in r?!!r.trailing:y),O.cancel=function(){void 0!==u&&clearTimeout(u),l=0,i=c=o=u=void 0},O.flush=function(){return void 0===u?s:E(g())},O}(e,t,{leading:i,maxWait:t,trailing:o})}},2525:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e){for(var o,a,s=i(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))r.call(o,c)&&(s[c]=o[c]);if(t){a=t(o);for(var l=0;l<a.length;l++)n.call(o,a[l])&&(s[a[l]]=o[a[l]])}}return s}},6524:(e,t,r)=>{var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&i&&"function"==typeof i.get?i.get:null,a=n&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&u&&"function"==typeof u.get?u.get:null,l=s&&Set.prototype.forEach,h="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,g=Object.prototype.toString,m=Function.prototype.toString,v=String.prototype.match,y=String.prototype.slice,b=String.prototype.replace,_=String.prototype.toUpperCase,w=String.prototype.toLowerCase,x=RegExp.prototype.test,E=Array.prototype.concat,O=Array.prototype.join,T=Array.prototype.slice,S=Math.floor,P="function"==typeof BigInt?BigInt.prototype.valueOf:null,k=Object.getOwnPropertySymbols,A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,I="function"==typeof Symbol&&"object"==typeof Symbol.iterator,R="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,j=Object.prototype.propertyIsEnumerable,C=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function D(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||x.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-S(-e):S(e);if(n!==e){var i=String(n),o=y.call(t,i.length+1);return b.call(i,r,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,r,"$&_")}var N=r(6553),L=N.custom,M=H(L)?L:null;function F(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function B(e){return b.call(String(e),/"/g,"&quot;")}function U(e){return!("[object Array]"!==V(e)||R&&"object"==typeof e&&R in e)}function z(e){return!("[object RegExp]"!==V(e)||R&&"object"==typeof e&&R in e)}function H(e){if(I)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!A)return!1;try{return A.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,n,i){var s=r||{};if(G(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(G(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!G(s,"customInspect")||s.customInspect;if("boolean"!=typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(G(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(G(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var g=s.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return Y(t,s);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var _=String(t);return g?D(t,_):_}if("bigint"==typeof t){var x=String(t)+"n";return g?D(t,x):x}var S=void 0===s.depth?5:s.depth;if(void 0===n&&(n=0),n>=S&&S>0&&"object"==typeof t)return U(t)?"[Array]":"[Object]";var k,L=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=O.call(Array(e.indent+1)," ")}return{base:r,prev:O.call(Array(t+1),r)}}(s,n);if(void 0===i)i=[];else if(q(i,t)>=0)return"[Circular]";function W(t,r,o){if(r&&(i=T.call(i)).push(r),o){var a={depth:s.depth};return G(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,n+1,i)}return e(t,s,n+1,i)}if("function"==typeof t&&!z(t)){var $=function(e){if(e.name)return e.name;var t=v.call(m.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),ee=Q(t,W);return"[Function"+($?": "+$:" (anonymous)")+"]"+(ee.length>0?" { "+O.call(ee,", ")+" }":"")}if(H(t)){var te=I?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):A.call(t);return"object"!=typeof t||I?te:X(te)}if((k=t)&&"object"==typeof k&&("undefined"!=typeof HTMLElement&&k instanceof HTMLElement||"string"==typeof k.nodeName&&"function"==typeof k.getAttribute)){for(var re="<"+w.call(String(t.nodeName)),ne=t.attributes||[],ie=0;ie<ne.length;ie++)re+=" "+ne[ie].name+"="+F(B(ne[ie].value),"double",s);return re+=">",t.childNodes&&t.childNodes.length&&(re+="..."),re+"</"+w.call(String(t.nodeName))+">"}if(U(t)){if(0===t.length)return"[]";var oe=Q(t,W);return L&&!function(e){for(var t=0;t<e.length;t++)if(q(e[t],"\n")>=0)return!1;return!0}(oe)?"["+J(oe,L)+"]":"[ "+O.call(oe,", ")+" ]"}if(function(e){return!("[object Error]"!==V(e)||R&&"object"==typeof e&&R in e)}(t)){var ae=Q(t,W);return"cause"in Error.prototype||!("cause"in t)||j.call(t,"cause")?0===ae.length?"["+String(t)+"]":"{ ["+String(t)+"] "+O.call(ae,", ")+" }":"{ ["+String(t)+"] "+O.call(E.call("[cause]: "+W(t.cause),ae),", ")+" }"}if("object"==typeof t&&u){if(M&&"function"==typeof t[M]&&N)return N(t,{depth:S-n});if("symbol"!==u&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var se=[];return a.call(t,(function(e,r){se.push(W(r,t,!0)+" => "+W(e,t))})),Z("Map",o.call(t),se,L)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var ue=[];return l.call(t,(function(e){ue.push(W(e,t))})),Z("Set",c.call(t),ue,L)}if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{h.call(e,h);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return K("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{h.call(e,h)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return K("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(t))return K("WeakRef");if(function(e){return!("[object Number]"!==V(e)||R&&"object"==typeof e&&R in e)}(t))return X(W(Number(t)));if(function(e){if(!e||"object"!=typeof e||!P)return!1;try{return P.call(e),!0}catch(e){}return!1}(t))return X(W(P.call(t)));if(function(e){return!("[object Boolean]"!==V(e)||R&&"object"==typeof e&&R in e)}(t))return X(f.call(t));if(function(e){return!("[object String]"!==V(e)||R&&"object"==typeof e&&R in e)}(t))return X(W(String(t)));if(!function(e){return!("[object Date]"!==V(e)||R&&"object"==typeof e&&R in e)}(t)&&!z(t)){var ce=Q(t,W),le=C?C(t)===Object.prototype:t instanceof Object||t.constructor===Object,he=t instanceof Object?"":"null prototype",de=!le&&R&&Object(t)===t&&R in t?y.call(V(t),8,-1):he?"Object":"",pe=(le||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(de||he?"["+O.call(E.call([],de||[],he||[]),": ")+"] ":"");return 0===ce.length?pe+"{}":L?pe+"{"+J(ce,L)+"}":pe+"{ "+O.call(ce,", ")+" }"}return String(t)};var W=Object.prototype.hasOwnProperty||function(e){return e in this};function G(e,t){return W.call(e,t)}function V(e){return g.call(e)}function q(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function Y(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Y(y.call(e,0,t.maxStringLength),t)+n}return F(b.call(b.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,$),"single",t)}function $(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+_.call(t.toString(16))}function X(e){return"Object("+e+")"}function K(e){return e+" { ? }"}function Z(e,t,r,n){return e+" ("+t+") {"+(n?J(r,n):O.call(r,", "))+"}"}function J(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+O.call(e,","+r)+"\n"+t.prev}function Q(e,t){var r=U(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=G(e,i)?t(e[i],e):""}var o,a="function"==typeof k?k(e):[];if(I){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var u in e)G(e,u)&&(r&&String(Number(u))===u&&u<e.length||I&&o["$"+u]instanceof Symbol||(x.call(/[^\w$]/,u)?n.push(t(u,e)+": "+t(e[u],e)):n.push(u+": "+t(e[u],e))));if("function"==typeof k)for(var c=0;c<a.length;c++)j.call(e,a[c])&&n.push("["+t(a[c])+"]: "+t(e[a[c]],e));return n}},836:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,r){return 0===e&&0===r?1/e==1/r:e===r||!(!t(e)||!t(r))}},3822:(e,t,r)=>{"use strict";var n=r(7392),i=r(4573),o=r(836),a=r(1800),s=r(7894),u=i(a(),Object);n(u,{getPolyfill:a,implementation:o,shim:s}),e.exports=u},1800:(e,t,r)=>{"use strict";var n=r(836);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},7894:(e,t,r)=>{"use strict";var n=r(1800),i=r(7392);e.exports=function(){var e=n();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},9538:(e,t,r)=>{"use strict";var n;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=r(1030),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{h(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===o.call(e),n=a(e),s=t&&"[object String]"===o.call(e),d=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var f=c&&r;if(s&&e.length>0&&!i.call(e,0))for(var g=0;g<e.length;++g)d.push(String(g));if(n&&e.length>0)for(var m=0;m<e.length;++m)d.push(String(m));else for(var v in e)f&&"prototype"===v||!i.call(e,v)||d.push(String(v));if(u)for(var y=function(e){if("undefined"==typeof window||!p)return h(e);try{return h(e)}catch(e){return!1}}(e),b=0;b<l.length;++b)y&&"constructor"===l[b]||!i.call(e,l[b])||d.push(l[b]);return d}}e.exports=n},4733:(e,t,r)=>{"use strict";var n=Array.prototype.slice,i=r(1030),o=Object.keys,a=o?function(e){return o(e)}:r(9538),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?s(n.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},1030:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},5752:(e,t,r)=>{"use strict";var n=r(4733),i=r(8186)(),o=r(2737),a=Object,s=o("Array.prototype.push"),u=o("Object.prototype.propertyIsEnumerable"),c=i?Object.getOwnPropertySymbols:null;e.exports=function(e){if(null==e)throw new TypeError("target must be an object");var t=a(e);if(1===arguments.length)return t;for(var r=1;r<arguments.length;++r){var o=a(arguments[r]),l=n(o),h=i&&(Object.getOwnPropertySymbols||c);if(h)for(var d=h(o),p=0;p<d.length;++p){var f=d[p];u(o,f)&&s(l,f)}for(var g=0;g<l.length;++g){var m=l[g];if(u(o,m)){var v=o[m];t[m]=v}}}return t}},950:(e,t,r)=>{"use strict";var n=r(7392),i=r(4573),o=r(5752),a=r(1028),s=r(6305),u=i.apply(a()),c=function(){return u(Object,arguments)};n(c,{getPolyfill:a,implementation:o,shim:s}),e.exports=c},1028:(e,t,r)=>{"use strict";var n=r(5752);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var i=Object.assign({},r),o="";for(var a in i)o+=a;return e!==o}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?n:Object.assign:n}},6305:(e,t,r)=>{"use strict";var n=r(7392),i=r(1028);e.exports=function(){var e=i();return n(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},3967:(e,t,r)=>{"use strict";e.exports=r(4365)},4365:(e,t,r)=>{"use strict";var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(2147),n.BufferWriter=r(5055),n.Reader=r(2074),n.BufferReader=r(69),n.util=r(8835),n.rpc=r(7876),n.roots=r(4007),n.configure=i,i()},2074:(e,t,r)=>{"use strict";e.exports=u;var n,i=r(8835),o=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var c,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},h=function(){return i.Buffer?function(e){return(u.create=function(e){return i.Buffer.isBuffer(e)?new n(e):l(e)})(e)}:l};function d(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw s(this,8);return new o(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}u.create=h(),u.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,u.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return p(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|p(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},u.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){n=e,u.create=h(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(u.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},69:(e,t,r)=>{"use strict";e.exports=o;var n=r(2074);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(8835);function o(e){n.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},4007:e=>{"use strict";e.exports={}},7876:(e,t,r)=>{"use strict";t.Service=r(1380)},1380:(e,t,r)=>{"use strict";e.exports=i;var n=r(8835);function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return n.asPromise(e,s,t,r,i,o);if(s.rpcImpl)try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,r){if(e)return s.emit("error",e,t),a(e);if(null!==r){if(!(r instanceof i))try{r=i[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",r,t),a(null,r)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},4600:(e,t,r)=>{"use strict";e.exports=i;var n=r(8835);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?o:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},8835:function(e,t,r){"use strict";var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&i(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=r(7383),n.base64=r(3417),n.EventEmitter=r(7516),n.float=r(9787),n.inquire=r(2795),n.utf8=r(1893),n.pool=r(4476),n.LongBits=r(4600),n.isNode=Boolean(void 0!==r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),n.global=n.isNode&&r.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},2147:(e,t,r)=>{"use strict";e.exports=h;var n,i=r(8835),o=i.LongBits,a=i.base64,s=i.utf8;function u(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function c(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function h(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}var d=function(){return i.Buffer?function(){return(h.create=function(){return new n})()}:function(){return new h}};function p(e,t,r){t[r]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function m(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}h.create=d(),h.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(h.alloc=i.pool(h.alloc,i.Array.prototype.subarray)),h.prototype._push=function(e,t,r){return this.tail=this.tail.next=new u(e,t,r),this.len+=t,this},f.prototype=Object.create(u.prototype),f.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},h.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},h.prototype.int32=function(e){return e<0?this._push(g,10,o.fromNumber(e)):this.uint32(e)},h.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},h.prototype.uint64=function(e){var t=o.from(e);return this._push(g,t.length(),t)},h.prototype.int64=h.prototype.uint64,h.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(g,t.length(),t)},h.prototype.bool=function(e){return this._push(p,1,e?1:0)},h.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},h.prototype.sfixed32=h.prototype.fixed32,h.prototype.fixed64=function(e){var t=o.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},h.prototype.sfixed64=h.prototype.fixed64,h.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},h.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var v=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};h.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(i.isString(e)){var r=h.alloc(t=a.length(e));a.decode(e,r,0),e=r}return this.uint32(t)._push(v,t,e)},h.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(p,1,0)},h.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new u(c,0,0),this.len=0,this},h.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},h.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},h.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},h._configure=function(e){n=e,h.create=d(),n._configure()}},5055:(e,t,r)=>{"use strict";e.exports=o;var n=r(2147);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(8835);function o(){n.call(this)}function a(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},o._configure()},1426:(e,t,r)=>{"use strict";r(2525);var n=r(7363),i=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,o={},c=null,l=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,n)&&!u.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},4246:(e,t,r)=>{"use strict";e.exports=r(1426)},9948:(e,t,r)=>{"use strict";var n=r(222).functionsHaveConfigurableNames(),i=Object,o=TypeError;e.exports=function(){if(null!=this&&this!==i(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e},n&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},2473:(e,t,r)=>{"use strict";var n=r(7392),i=r(4573),o=r(9948),a=r(2046),s=r(3289),u=i(a());n(u,{getPolyfill:a,implementation:o,shim:s}),e.exports=u},2046:(e,t,r)=>{"use strict";var n=r(9948),i=r(7392).supportsDescriptors,o=Object.getOwnPropertyDescriptor;e.exports=function(){if(i&&"gim"===/a/gim.flags){var e=o(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(r,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return n}},3289:(e,t,r)=>{"use strict";var n=r(7392).supportsDescriptors,i=r(2046),o=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,u=Object.getPrototypeOf,c=/a/;e.exports=function(){if(!n||!u)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=i(),t=u(c),r=o(t,"flags");return r&&r.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},4445:e=>{e.exports=function(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],h=t[c];if(!1===(i=r?r.call(n,l,h,c):void 0)||void 0===i&&l!==h)return!1}return!0}},5337:(e,t,r)=>{"use strict";var n=r(8750),i=r(2737),o=r(6524),a=n("%TypeError%"),s=n("%WeakMap%",!0),u=n("%Map%",!0),c=i("WeakMap.prototype.get",!0),l=i("WeakMap.prototype.set",!0),h=i("WeakMap.prototype.has",!0),d=i("Map.prototype.get",!0),p=i("Map.prototype.set",!0),f=i("Map.prototype.has",!0),g=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,n={assert:function(e){if(!n.has(e))throw new a("Side channel does not contain "+o(e))},get:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(e)return c(e,n)}else if(u){if(t)return d(t,n)}else if(r)return function(e,t){var r=g(e,t);return r&&r.value}(r,n)},has:function(n){if(s&&n&&("object"==typeof n||"function"==typeof n)){if(e)return h(e,n)}else if(u){if(t)return f(t,n)}else if(r)return function(e,t){return!!g(e,t)}(r,n);return!1},set:function(n,i){s&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new s),l(e,n,i)):u?(t||(t=new u),p(t,n,i)):(r||(r={key:{},next:null}),function(e,t,r){var n=g(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(r,n,i))}};return n}},8574:(e,t,r)=>{"use strict";var n=r(8559),i=r(7691),o=r(240),a=r(2451),s=r(7810);e.exports=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e?null:n(e)?"String":i(e)?"Number":o(e)?"Boolean":a(e)?"Symbol":s(e)?"BigInt":void 0}},2505:(e,t,r)=>{"use strict";var n=r(5278),i=r(973),o=r(2737),a=o("Object.prototype.toString"),s=r(698)(),u="undefined"==typeof globalThis?r.g:globalThis,c=i(),l=o("String.prototype.slice"),h={},d=r(8828),p=Object.getPrototypeOf;s&&d&&p&&n(c,(function(e){if("function"==typeof u[e]){var t=new u[e];if(Symbol.toStringTag in t){var r=p(t),n=d(r,Symbol.toStringTag);if(!n){var i=p(r);n=d(i,Symbol.toStringTag)}h[e]=n.get}}}));var f=r(387);e.exports=function(e){return!!f(e)&&(s&&Symbol.toStringTag in e?function(e){var t=!1;return n(h,(function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}})),t}(e):l(a(e),8,-1))}},7363:e=>{"use strict";e.exports=React},6492:e=>{"use strict";e.exports=ReactIs},6553:()=>{},973:(e,t,r)=>{"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof i[n[t]]&&(e[e.length]=n[t]);return e}},8828:(e,t,r)=>{"use strict";var n=r(8750)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},2395:(e,t,r)=>{"use strict";var n=r(8483);if(r(679)()||r(8186)()){var i=Symbol.iterator;e.exports=function(e){return null!=e&&void 0!==e[i]?e[i]():n(e)?Array.prototype[i].call(e):void 0}}else{var o=r(4356),a=r(8559),s=r(8750),u=s("%Map%",!0),c=s("%Set%",!0),l=r(2737),h=l("Array.prototype.push"),d=l("String.prototype.charCodeAt"),p=l("String.prototype.slice"),f=function(e){var t=0;return{next:function(){var r,n=t>=e.length;return n||(r=e[t],t+=1),{done:n,value:r}}}},g=function(e,t){if(o(e)||n(e))return f(e);if(a(e)){var r=0;return{next:function(){var t=function(e,t){if(t+1>=e.length)return t+1;var r=d(e,t);if(r<55296||r>56319)return t+1;var n=d(e,t+1);return n<56320||n>57343?t+1:t+2}(e,r),n=p(e,r,t);return r=t,{done:t>e.length,value:n}}}}return t&&void 0!==e["_es6-shim iterator_"]?e["_es6-shim iterator_"]():void 0};if(u||c){var m=r(6966),v=r(4255),y=l("Map.prototype.forEach",!0),b=l("Set.prototype.forEach",!0);if("undefined"==typeof process||!process.versions||!process.versions.node)var _=l("Map.prototype.iterator",!0),w=l("Set.prototype.iterator",!0),x=function(e){var t=!1;return{next:function(){try{return{done:t,value:t?void 0:e.next()}}catch(e){return t=!0,{done:!0,value:void 0}}}}};var E=l("Map.prototype.@@iterator",!0)||l("Map.prototype._es6-shim iterator_",!0),O=l("Set.prototype.@@iterator",!0)||l("Set.prototype._es6-shim iterator_",!0);e.exports=function(e){return function(e){if(m(e)){if(_)return x(_(e));if(E)return E(e);if(y){var t=[];return y(e,(function(e,r){h(t,[r,e])})),f(t)}}if(v(e)){if(w)return x(w(e));if(O)return O(e);if(b){var r=[];return b(e,(function(e){h(r,e)})),f(r)}}}(e)||g(e)}}else e.exports=function(e){if(null!=e)return g(e,!0)}}},3062:(e,t,r)=>{"use strict";var n=r(6966),i=r(4255),o=r(349),a=r(7812);e.exports=function(e){if(e&&"object"==typeof e){if(n(e))return"Map";if(i(e))return"Set";if(o(e))return"WeakMap";if(a(e))return"WeakSet"}return!1}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={},_global;_global="undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{},_global.SENTRY_RELEASE={id:"frontend-reader3@308"},_global.SENTRY_RELEASES=_global.SENTRY_RELEASES||{},_global.SENTRY_RELEASES["frontend-reader3@frontend"]={id:"frontend-reader3@308"},(()=>{"use strict";var e,t=new Uint8Array(16);function r(){if(!e&&!(e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}const n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,i=function(e){return"string"==typeof e&&n.test(e)};for(var o=[],a=0;a<256;++a)o.push((a+256).toString(16).substr(1));const s=function(e,t,n){var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=a[s];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase();if(!i(r))throw TypeError("Stringified UUID is invalid");return r}(a)};function u(){return s()}var c=null;function l(){if("undefined"!=typeof document&&void 0!==document.cookie){var e=document.cookie.split(";").filter((e=>e.includes("iutk=")));if(e.length)return e[0].split("=")[1].trim()}return null}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class f{constructor(e,t){p(this,"_wrapper",void 0),p(this,"_post",void 0),p(this,"_postBatchedTimeoutId",void 0),p(this,"_batchedQueue",[]),p(this,"_queueLength",(()=>this._batchedQueue.length)),p(this,"_addToQueue",(e=>{this._batchedQueue.push(d(d({},e),{},{version:"1.0.0"}))})),p(this,"_startPostTimerIfNeeded",(()=>{void 0===this._postBatchedTimeoutId&&(this._postBatchedTimeoutId=setTimeout((()=>{this._postAllQueued()}),2e3))})),p(this,"_postAllQueued",(()=>{void 0!==this._postBatchedTimeoutId&&(clearTimeout(this._postBatchedTimeoutId),this._postBatchedTimeoutId=void 0),0!==this._queueLength()&&(this._post(d(d({},this._wrapper.getMonitorPingbackWrapper()),{},{data:this._batchedQueue})),this._batchedQueue=[])})),p(this,"monitor",(e=>{this._addToQueue(e),this._postAllQueued()})),p(this,"monitorBatched",(e=>{this._addToQueue(e),this._queueLength()>=20?this._postAllQueued():this._startPostTimerIfNeeded()})),p(this,"flush",(()=>{this._postAllQueued()})),this._wrapper=e,this._post=t}}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=[2e3,3e3,4e3,6e3,8e3,12e3];class v{constructor(e){g(this,"_readerPingbackHelper",void 0),g(this,"_eventsAfterDocumentRead",[]),g(this,"_documentReadTimeoutId",void 0),g(this,"_documentReadTriggered",!1),g(this,"_pageReadLastPages",null),g(this,"_pageReadStartTime",Date.now()),g(this,"_pageReadLastEndTime",Date.now()),g(this,"_delays",null),g(this,"_pageReadTimeTimeoutId",void 0),g(this,"_idleTimeoutId",void 0),g(this,"_setUpPageReadTimers",(()=>{this._delays=m.slice(0),this._pageReadStartTime=this._pageReadLastEndTime=Date.now(),this._startPageReadTimer()})),g(this,"_getReaderSize",(()=>this._readerPingbackHelper._model&&this._readerPingbackHelper._model.is_fullscreen?"fullscreen":"normal")),g(this,"_startPageReadTimer",(()=>{this._pageReadTimeTimeoutId=setTimeout((()=>{this._pageReadTimeTimeoutId=void 0,this._trackPageReadTime(),this._startPageReadTimer()}),this._getNextPageReadTimeout())})),g(this,"_startIdleTimer",(()=>{this._idleTimeoutId=setTimeout((()=>{this._idleTimeoutId=void 0,void 0!==this._pageReadTimeTimeoutId&&(this._pageReadTimeTimeoutId&&clearTimeout(this._pageReadTimeTimeoutId),this._pageReadTimeTimeoutId=void 0,this._trackPageReadTime())}),6e5)})),g(this,"_resetIdleTimer",(()=>{void 0!==this._idleTimeoutId?(this._idleTimeoutId&&clearTimeout(this._idleTimeoutId),this._idleTimeoutId=void 0):this._readerPingbackHelper.viewportHasUserAttention()&&(this._pageReadLastEndTime=(new Date).getTime(),this._delays?this._startPageReadTimer():this._setUpPageReadTimers()),this._startIdleTimer()})),g(this,"_clearTimers",(()=>{void 0!==this._idleTimeoutId&&(this._idleTimeoutId&&clearTimeout(this._idleTimeoutId),this._idleTimeoutId=void 0),void 0!==this._pageReadTimeTimeoutId&&(this._pageReadTimeTimeoutId&&clearTimeout(this._pageReadTimeTimeoutId),this._pageReadTimeTimeoutId=void 0,this._trackPageReadTime()),void 0!==this._documentReadTimeoutId&&(this._documentReadTimeoutId&&clearTimeout(this._documentReadTimeoutId),this._documentReadTimeoutId=void 0)})),g(this,"_getNextPageReadTimeout",(()=>{var e=this._delays?this._delays.shift():NaN;if(void 0===e||isNaN(e)){var t=m.length;return m[t-1]+.2*((new Date).getTime()-this._pageReadStartTime)}return e})),g(this,"_trackDocumentImpression",(()=>{this._readerPingbackHelper.updateSignal({type:"document_impression"}),this._readerPingbackHelper.timeoutPingback()})),g(this,"_trackDocumentRead",(()=>{for(;this._eventsAfterDocumentRead.length>0;)this._readerPingbackHelper.updateSignal(this._eventsAfterDocumentRead.shift());this._readerPingbackHelper.updateSignal({type:"document_read"}),this._readerPingbackHelper.executePingback(),this._documentReadTriggered=!0,this._documentReadTimeoutId=void 0})),g(this,"_trackPageImpression",(e=>{e.forEach((e=>{this._readerPingbackHelper.updateSignal({type:"page_impression",page:e})})),this._readerPingbackHelper.timeoutPingback()})),g(this,"_maybeTrackPageRead",(()=>{var e=this._readerPingbackHelper.getCurrentPages(),t=JSON.stringify(e);this._pageReadLastPages!==t&&(this._pageReadLastPages=t,e.forEach((e=>{var t={type:"page_read_v2",page:e,reader_size:this._getReaderSize()};this._documentReadTriggered?this._readerPingbackHelper.updateSignal(t):this._eventsAfterDocumentRead.push(t)})),this._readerPingbackHelper.timeoutPingback())})),g(this,"_trackPageReadTime",(()=>{var e=(new Date).getTime(),t=this._readerPingbackHelper.getCurrentPages(),r=Math.floor((e-this._pageReadLastEndTime)/t.length);r<=0||(t.forEach((e=>{var t={type:"page_read_time_v2",time_increment:r,page:e,reader_size:this._getReaderSize()};this._documentReadTriggered?this._readerPingbackHelper.updateSignal(t):this._eventsAfterDocumentRead.push(t)})),this._pageReadLastEndTime=e,this._readerPingbackHelper.timeoutPingback())})),g(this,"_maybeStartDocumentReadTimer",(()=>{void 0!==this._documentReadTimeoutId||this._documentReadTriggered||(this._documentReadTimeoutId=setTimeout((()=>{this._trackDocumentRead()}),2e3))})),g(this,"documentLoad",(e=>{this._readerPingbackHelper.initializeModel(e),this._trackDocumentImpression(),this._trackPageImpression(e.pages),this._readerPingbackHelper.viewportHasUserAttention()&&(this._maybeStartDocumentReadTimer(),this._maybeTrackPageRead(),this._setUpPageReadTimers()),this._startIdleTimer()})),g(this,"documentUnLoad",(()=>{this.flush(),this._readerPingbackHelper.clearModel()})),g(this,"userInteracted",(()=>{this._readerPingbackHelper.updateModelOnUserInteracted(),this._resetIdleTimer(),this._readerPingbackHelper.viewportHasUserAttention()&&(this._maybeStartDocumentReadTimer(),this._maybeTrackPageRead(),this._setUpPageReadTimers()),void 0!==this._documentReadTimeoutId&&(this._documentReadTimeoutId&&clearTimeout(this._documentReadTimeoutId),this._documentReadTimeoutId=void 0,this._trackDocumentRead())})),g(this,"pageChange",(e=>{this._resetIdleTimer(),void 0!==this._documentReadTimeoutId&&(this._documentReadTimeoutId&&clearTimeout(this._documentReadTimeoutId),this._documentReadTimeoutId=void 0,this._trackDocumentRead()),void 0!==this._pageReadTimeTimeoutId&&(this._pageReadTimeTimeoutId&&clearTimeout(this._pageReadTimeTimeoutId),this._pageReadTimeTimeoutId=void 0,this._trackPageReadTime()),this._readerPingbackHelper.updateModelOnPageChange(e),this._trackPageImpression(e.pages),this._readerPingbackHelper.viewportHasUserAttention()&&(this._maybeTrackPageRead(),this._setUpPageReadTimers())})),g(this,"zoom",(()=>{this._resetIdleTimer()})),g(this,"resize",(e=>{this._resetIdleTimer(),this._readerPingbackHelper.updateModelOnResize(e),this._readerPingbackHelper.viewportHasUserAttention()?(this._maybeStartDocumentReadTimer(),void 0===this._pageReadTimeTimeoutId&&this._setUpPageReadTimers(),this._maybeTrackPageRead()):(this._documentReadTimeoutId&&(clearTimeout(this._documentReadTimeoutId),this._documentReadTimeoutId=void 0),this._pageReadTimeTimeoutId&&(clearTimeout(this._pageReadTimeTimeoutId),this._pageReadTimeTimeoutId=void 0,this._trackPageReadTime()))})),g(this,"flush",(()=>{this._clearTimers(),this._eventsAfterDocumentRead=[],this._readerPingbackHelper.executePingback()})),this._readerPingbackHelper=e}}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class b{constructor(e){y(this,"_readerPingbackHelper",void 0),y(this,"clippingAction",(e=>{this._readerPingbackHelper.updateSignal({type:"clipping_action",clippingId:e.clippingId,action:e.action,on_page:e.onPage,creator:e.creator,url:e.url,page:e.page,service:e.service,videoid:e.videoid,opened_in_reader:e.opened_in_reader}),this._readerPingbackHelper.timeoutPingback()})),this._readerPingbackHelper=e}}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){return{version:"1.3.3",username:e.getUsername(),ui_language:e.getLanguage(),location:e.getLocation(),referrer:e.getReferrer(),source:e.getSource(),contexts:[]}}class O{constructor(e,t,r){x(this,"_wrapper",void 0),x(this,"_post",void 0),x(this,"_environment",void 0),x(this,"_signal",void 0),x(this,"_model",void 0),x(this,"_timeoutId",void 0),x(this,"initializeModel",(e=>{this._model||(this._model={doc_id:e.revisionId+"-"+e.publicationId,doc_creator:"user"===e.documentPath.type?e.documentPath.username.toLowerCase():"",doc_name:"user"===e.documentPath.type?e.documentPath.documentName.toLowerCase():"",pages:e.pages,pageNumber:e.pageNumber,ad_id:e.adpageId||null,ad_token:e.adpageToken||null,is_embed:e.isEmbed,embed_id:e.embedId||null,display_size:this._environment.getBrowserSize(),is_fullscreen:e.isFullscreen,stream_origin:e.streamOrigin||null,stream_ranking:e.streamRanking||null,user_interacted:!1})})),x(this,"clearModel",(()=>{this.executePingback(),this._model=void 0})),x(this,"updateModelOnPageChange",(e=>{this._model&&(this._model.pages=e.pages)})),x(this,"updateModelOnResize",(e=>{this._model&&(this._model.display_size=e.displaySize,this._model.is_fullscreen=e.isFullscreen)})),x(this,"updateModelOnUserInteracted",(()=>{this._model&&(this._model.user_interacted=!0)})),x(this,"_executePingbackIfPlatformHasChanged",(()=>{var e=this._signal;if(e){var t=E(this._environment);["version","username","location","referrer","source"].find((r=>e.data[r]!==t[r]))&&this.executePingback()}})),x(this,"viewportHasUserAttention",(()=>!!this._model&&(!this._model.is_embed||this._model.is_fullscreen||this._model.user_interacted))),x(this,"updateSignal",(e=>{var t=this._model;if(t){this._executePingbackIfPlatformHasChanged();var r=this._signal||w(w({},this._wrapper.getReaderPingbackWrapper()),{},{data:E(this._environment)});this._signal=r,function(e,t){var r=e.data.contexts.length;if(0===r)return!0;var n=!1;return["doc_id","doc_creator","doc_name","ad_id","ad_token","embed_id","display_size","stream_origin","stream_ranking"].forEach((i=>{n=n||e.data.contexts[r-1][i]!==t[i]})),n=n||e.data.contexts[r-1].pages.toString()!==t.pages.toString()}(r,t)&&r.data.contexts.push({doc_id:t.doc_id,doc_creator:t.doc_creator,doc_name:t.doc_name,pages:t.pages,ad_id:t.ad_id,ad_token:t.ad_token,embed_id:t.embed_id,display_size:t.display_size,stream_origin:t.stream_origin,stream_ranking:t.stream_ranking,events:[]});var n=r.data.contexts.length;n>0&&r.data.contexts[n-1].events.push(e)}})),x(this,"getCurrentPages",(()=>this._model?this._model.pages:[])),x(this,"timeoutPingback",(()=>{if(this._signal){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=void 0);for(var e=0,t=this._signal.data.contexts.length-1;t>=0;t--)e+=this._signal.data.contexts[t].events.length;e>=20?this.executePingback():this._timeoutId=setTimeout((()=>{this.executePingback()}),1500)}})),x(this,"executePingback",(()=>{this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=void 0),this._signal&&(this._post(this._signal),this._signal=void 0)})),this._wrapper=e,this._post=t,this._environment=r}}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class S{constructor(e){T(this,"_readerPingbackHelper",void 0),T(this,"moreContentDocumentShow",(e=>{this._readerPingbackHelper.updateSignal({type:"more_content_document_impression",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),page:e.pageNumber,stream_origin:e.streamOrigin,stream_ranking:e.streamRanking}),this._readerPingbackHelper.timeoutPingback()})),T(this,"moreContentDocumentClick",(e=>{this._readerPingbackHelper.updateSignal({type:"more_content_document_click",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),stream_origin:e.streamOrigin,stream_ranking:e.streamRanking}),this._readerPingbackHelper.executePingback()})),this._readerPingbackHelper=e}}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class I{constructor(e,t,r){A(this,"_wrapper",void 0),A(this,"_post",void 0),A(this,"_environment",void 0),A(this,"_getSignalData",(e=>({version:"2.2.2",username:e?null:this._environment.getUsername(),ui_language:this._environment.getLanguage(),location:this._environment.getLocation(),referrer:this._environment.getReferrer(),contexts:[]}))),A(this,"downloadAnonymously",(e=>{var t={type:"document_download",doc_id:e.revisionId+"-"+e.publicationId,doc_creator:"user"===e.documentPath.type?e.documentPath.username.toLowerCase():"",doc_name:"user"===e.documentPath.type?e.documentPath.documentName.toLowerCase():""};this._post(k(k({},this._wrapper.getWebsitePingbackWrapper()),{},{data:k(k({},this._getSignalData(!0)),{},{contexts:[{browser_size:this._environment.getBrowserSize(),events:[t]}]})}))})),this._wrapper=e,this._post=t,this._environment=r}}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class j{constructor(e,t){R(this,"_origin",void 0),R(this,"_iutk",void 0),R(this,"_getPingbackWrapper",(e=>({version:"2.2.0",origin:this._origin,iutk:this._iutk,type:e}))),R(this,"getMonitorPingbackWrapper",(()=>this._getPingbackWrapper("monitor"))),R(this,"getWebsitePingbackWrapper",(()=>this._getPingbackWrapper("website"))),R(this,"getReaderPingbackWrapper",(()=>this._getPingbackWrapper("reader"))),this._origin=e,this._iutk=t}}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class L{constructor(e){N(this,"_monitorHandler",void 0),N(this,"_seeMoreHandler",void 0),N(this,"_linkHandler",void 0),N(this,"_documentHandler",void 0),N(this,"_websiteHandler",void 0),N(this,"readerEndPoint",void 0);var t={getUsername:()=>e.username,getLanguage:()=>e.language,getLocation:()=>e.location,getReferrer:()=>e.referrer,getSource:()=>e.source,getWidth:()=>e.width,getHeight:()=>e.height,getBrowserSize:()=>t.getWidth()+"x"+t.getHeight()},r=t=>{if(!e.monitorEventsOnly||"monitor"===t.type){var r=new XMLHttpRequest;r.open("POST",e.pingbackOrigin+"/ping",!0),r.withCredentials=!0,r.setRequestHeader("Accept","application/json"),r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),r.send(JSON.stringify(t))}},n=function(){if(null===c){var e;try{null===(e=l())&&(function(){if("undefined"!=typeof document){var e=u(),t=(r=/t?issuu.com$/.exec(document.domain||""))?r[0]:null;document.cookie="iutk="+e+(t?";domain="+t:"")+";path=/;max-age=15552000;samesite=none;secure"}var r}(),e=l())}catch(t){e=null}c=null===e?"00000000-0000-0000-0000-000000000000":e}return c}(),i=new j(e.origin+"_tracking-buildin",n),o=new O(i,r,t);this.readerEndPoint=e.readerEndPoint,this._monitorHandler=new f(i,r),this._seeMoreHandler=new S(o),this._linkHandler=new b(o),this._documentHandler=new v(o),this._websiteHandler=new I(i,r,t)}onEvent(e){switch(e.type){case"DOCUMENT_LOAD_MESSAGE":this._documentHandler.documentLoad(e.data);break;case"USER_INTERACTED_MESSAGE":this._documentHandler.userInteracted();break;case"PAGE_CHANGE_MESSAGE":this._documentHandler.pageChange(e.data);break;case"ZOOM_MESSAGE":this._documentHandler.zoom();break;case"RESIZE_MESSAGE":this._documentHandler.resize(e.data);break;case"DOCUMENT_DOWNLOAD_MESSAGE":this._websiteHandler.downloadAnonymously(e.data);break;case"CLIPPING_ACTION_MESSAGE":this._linkHandler.clippingAction(e.data);break;case"MORE_CONTENT_DOCUMENT_SHOW_MESSAGE":this._seeMoreHandler.moreContentDocumentShow(e.data);break;case"MORE_CONTENT_DOCUMENT_CLICK_MESSAGE":this._seeMoreHandler.moreContentDocumentClick(e.data);break;case"MONITOR_BATCHED_MESSAGE":this._monitorHandler.monitorBatched(e.data);break;case"MONITOR_MESSAGE":this._monitorHandler.monitor(e.data);break;case"MONITOR_TRAFFIC_SOURCE":this._monitorHandler.monitorBatched({type:"rattlesnakes.reader3."+this.readerEndPoint+".documentimpression"});break;case"MONITOR_DROPPED_FRAMES":var t=e.data,r=t.webgl?"3d":"2d";this._monitorHandler.monitorBatched(D(D({},t),{},{type:"reader3-dropped-frames."+r})),this._monitorHandler.monitorBatched(D(D({},t),{},{type:"reader3-dropped-frames."+r+".endpoint."+this.readerEndPoint}));break;case"MONITOR_TIME_TO_COVER":var n=e.data;this._monitorHandler.monitorBatched({type:"reader3-time-to-cover",ms_to_cover:n})}}}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(){try{var e;return(null===(e=document.cookie.match(/\bsite.model.username=([^;]+);/))||void 0===e?void 0:e[1])||null}catch(e){return null}}class B{constructor(e){M(this,"metricsEvent",(()=>{})),M(this,"streamData",void 0),M(this,"isEmbed",void 0),M(this,"adpageId",void 0),M(this,"embedId",void 0),M(this,"readerEndPoint",void 0),M(this,"_isTrackerReady",!1),M(this,"_interactedWithReader",!1),M(this,"_previousPages",[]),M(this,"_previousZoom",1),this.metricsEvent=function(e){var{location:t,referrer:r,monitorEventsOnly:n,readerEndPoint:i,pingbackOrigin:o,source:a}=e,s="reader3-v2.0.308_"+i+"-v1.0.308",u={pingbackOrigin:o,monitorEventsOnly:n,width:window.innerWidth,height:window.innerHeight,username:F(),location:t,referrer:r,source:a,origin:s,language:"en",readerEndPoint:i},c=new L(u);return e=>{c.onEvent(e)}}(e),this.streamData=e.streamData||{origin:null,ranking:null},this.isEmbed=e.isEmbed,this.adpageId=e.adpageId,this.readerEndPoint=e.readerEndPoint,this.embedId=e.embedId}monitor(e,t,r){void 0===r&&(r=!1);var n=Object.assign({type:e},t);this.metricsEvent({type:r?"MONITOR_MESSAGE":"MONITOR_BATCHED_MESSAGE",data:n})}onDocumentLoaded(e,t,r){var{publicationId:n,revisionId:i,documentPath:o}=e;this._previousPages=t,this._isTrackerReady=!0,this.metricsEvent({type:"DOCUMENT_LOAD_MESSAGE",data:{isEmbed:this.isEmbed,isFullscreen:r,revisionId:i,publicationId:n,documentPath:o,pages:t,pageNumber:t[0],embedId:this.embedId,adpageId:this.adpageId,streamOrigin:this.streamData.origin,streamRanking:this.streamData.ranking}}),this.metricsEvent({type:"MONITOR_TRAFFIC_SOURCE"})}onActivity(e){this._isTrackerReady&&e&&!this._interactedWithReader&&(this._interactedWithReader=!0,this.metricsEvent({type:"USER_INTERACTED_MESSAGE"}))}onPageChanged(e){this._isTrackerReady&&this._previousPages.join()!==e.join()&&(this._previousPages=e,this.metricsEvent({type:"PAGE_CHANGE_MESSAGE",data:{pages:e}}))}onZoom(e){this._isTrackerReady&&this._previousZoom!==e&&(this._previousZoom=e,this.metricsEvent({type:"ZOOM_MESSAGE"}))}onResize(e,t){this._isTrackerReady&&this.metricsEvent({type:"RESIZE_MESSAGE",data:{displaySize:e,isFullscreen:t}})}onDownload(e){var{revisionId:t,publicationId:r,documentPath:n}=e;this.metricsEvent({type:"DOCUMENT_DOWNLOAD_MESSAGE",data:{anonymous:!0,revisionId:t,publicationId:r,documentPath:n}})}onClippingActionGotoPage(e,t,r){this._isTrackerReady&&this.metricsEvent({type:"CLIPPING_ACTION_MESSAGE",data:{clippingId:e,action:"gotoPage",onPage:t,page:r,creator:"publisher"}})}onClippingActionOpenUrl(e,t,r){this._isTrackerReady&&this.metricsEvent({type:"CLIPPING_ACTION_MESSAGE",data:{clippingId:e,action:"openUrl",onPage:t,creator:"publisher",url:r}})}onTimeToCover(e){this.metricsEvent({type:"MONITOR_TIME_TO_COVER",data:e})}onFrameDrop(e){this.metricsEvent({type:"MONITOR_DROPPED_FRAMES",data:{dropped:Math.round(e.droppedFrames),dropped_per_sec:Math.round(Math.min(e.droppedFrames/e.duration*1e3,e.droppedFrames)),duration_in_ms:Math.round(e.duration),webgl:e.webgl}})}onMoreContentDocumentClick(e){this._isTrackerReady&&this.metricsEvent({type:"MORE_CONTENT_DOCUMENT_CLICK_MESSAGE",data:e})}onMoreContentDocumentShow(e){this._isTrackerReady&&this.metricsEvent({type:"MORE_CONTENT_DOCUMENT_SHOW_MESSAGE",data:e})}}__webpack_require__(4078);var U,z=__webpack_require__(4246),H=e=>{var{documentPath:t,mainOrigin:r,initialPageNumber:n,embedId:i}=e,o=r+"/"+("user"===t.type?t.username+"/docs/"+t.documentName:"d/"+t.publicationId);return n>1&&(o=o+"/"+n),i?o=o+"?e="+encodeURIComponent(i):o+="?e=0",(0,z.jsx)("div",{className:"bot-reader",children:(0,z.jsx)("a",{href:o,rel:"noreferrer",target:"_blank",children:"Read on issuu"})})},W=(__webpack_require__(9876),__webpack_require__(6160),__webpack_require__(5389),__webpack_require__(3807),__webpack_require__(4170),__webpack_require__(3967)),G=W.Reader,V=W.Writer,q=W.util,Y=W.roots.default||(W.roots.default={}),$=Y.smartnav=(()=>{var e={};return e.BoundingBox=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.top=0,e.prototype.right=0,e.prototype.bottom=0,e.prototype.left=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=V.create()),null!=e.top&&Object.hasOwnProperty.call(e,"top")&&t.uint32(13).float(e.top),null!=e.right&&Object.hasOwnProperty.call(e,"right")&&t.uint32(21).float(e.right),null!=e.bottom&&Object.hasOwnProperty.call(e,"bottom")&&t.uint32(29).float(e.bottom),null!=e.left&&Object.hasOwnProperty.call(e,"left")&&t.uint32(37).float(e.left),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof G||(e=G.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Y.smartnav.BoundingBox;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.top=e.float();break;case 2:n.right=e.float();break;case 3:n.bottom=e.float();break;case 4:n.left=e.float();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof G||(e=new G(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.top&&e.hasOwnProperty("top")&&"number"!=typeof e.top?"top: number expected":null!=e.right&&e.hasOwnProperty("right")&&"number"!=typeof e.right?"right: number expected":null!=e.bottom&&e.hasOwnProperty("bottom")&&"number"!=typeof e.bottom?"bottom: number expected":null!=e.left&&e.hasOwnProperty("left")&&"number"!=typeof e.left?"left: number expected":null},e.fromObject=function(e){if(e instanceof Y.smartnav.BoundingBox)return e;var t=new Y.smartnav.BoundingBox;return null!=e.top&&(t.top=Number(e.top)),null!=e.right&&(t.right=Number(e.right)),null!=e.bottom&&(t.bottom=Number(e.bottom)),null!=e.left&&(t.left=Number(e.left)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.top=0,r.right=0,r.bottom=0,r.left=0),null!=e.top&&e.hasOwnProperty("top")&&(r.top=t.json&&!isFinite(e.top)?String(e.top):e.top),null!=e.right&&e.hasOwnProperty("right")&&(r.right=t.json&&!isFinite(e.right)?String(e.right):e.right),null!=e.bottom&&e.hasOwnProperty("bottom")&&(r.bottom=t.json&&!isFinite(e.bottom)?String(e.bottom):e.bottom),null!=e.left&&e.hasOwnProperty("left")&&(r.left=t.json&&!isFinite(e.left)?String(e.left):e.left),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},e}(),e.Image=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=V.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof G||(e=G.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Y.smartnav.Image;e.pos<r;){var i=e.uint32();e.skipType(7&i)}return n},e.decodeDelimited=function(e){return e instanceof G||(e=new G(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof Y.smartnav.Image?e:new Y.smartnav.Image},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},e}(),e.Text=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.fontSize=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=V.create()),null!=e.fontSize&&Object.hasOwnProperty.call(e,"fontSize")&&t.uint32(13).float(e.fontSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof G||(e=G.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Y.smartnav.Text;e.pos<r;){var i=e.uint32();i>>>3==1?n.fontSize=e.float():e.skipType(7&i)}return n},e.decodeDelimited=function(e){return e instanceof G||(e=new G(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.fontSize&&e.hasOwnProperty("fontSize")&&"number"!=typeof e.fontSize?"fontSize: number expected":null},e.fromObject=function(e){if(e instanceof Y.smartnav.Text)return e;var t=new Y.smartnav.Text;return null!=e.fontSize&&(t.fontSize=Number(e.fontSize)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.fontSize=0),null!=e.fontSize&&e.hasOwnProperty("fontSize")&&(r.fontSize=t.json&&!isFinite(e.fontSize)?String(e.fontSize):e.fontSize),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},e}(),e.Block=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.boundingBox=null,e.prototype.image=null,e.prototype.text=null,Object.defineProperty(e.prototype,"blockType",{get:q.oneOfGetter(t=["image","text"]),set:q.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=V.create()),null!=e.boundingBox&&Object.hasOwnProperty.call(e,"boundingBox")&&Y.smartnav.BoundingBox.encode(e.boundingBox,t.uint32(10).fork()).ldelim(),null!=e.image&&Object.hasOwnProperty.call(e,"image")&&Y.smartnav.Image.encode(e.image,t.uint32(18).fork()).ldelim(),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&Y.smartnav.Text.encode(e.text,t.uint32(26).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof G||(e=G.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Y.smartnav.Block;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.boundingBox=Y.smartnav.BoundingBox.decode(e,e.uint32());break;case 2:n.image=Y.smartnav.Image.decode(e,e.uint32());break;case 3:n.text=Y.smartnav.Text.decode(e,e.uint32());break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof G||(e=new G(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.boundingBox&&e.hasOwnProperty("boundingBox")){var r=Y.smartnav.BoundingBox.verify(e.boundingBox);if(r)return"boundingBox."+r}if(null!=e.image&&e.hasOwnProperty("image")){t.blockType=1;var n=Y.smartnav.Image.verify(e.image);if(n)return"image."+n}if(null!=e.text&&e.hasOwnProperty("text")){if(1===t.blockType)return"blockType: multiple values";t.blockType=1;var i=Y.smartnav.Text.verify(e.text);if(i)return"text."+i}return null},e.fromObject=function(e){if(e instanceof Y.smartnav.Block)return e;var t=new Y.smartnav.Block;if(null!=e.boundingBox){if("object"!=typeof e.boundingBox)throw TypeError(".smartnav.Block.boundingBox: object expected");t.boundingBox=Y.smartnav.BoundingBox.fromObject(e.boundingBox)}if(null!=e.image){if("object"!=typeof e.image)throw TypeError(".smartnav.Block.image: object expected");t.image=Y.smartnav.Image.fromObject(e.image)}if(null!=e.text){if("object"!=typeof e.text)throw TypeError(".smartnav.Block.text: object expected");t.text=Y.smartnav.Text.fromObject(e.text)}return t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.boundingBox=null),null!=e.boundingBox&&e.hasOwnProperty("boundingBox")&&(r.boundingBox=Y.smartnav.BoundingBox.toObject(e.boundingBox,t)),null!=e.image&&e.hasOwnProperty("image")&&(r.image=Y.smartnav.Image.toObject(e.image,t),t.oneofs&&(r.blockType="image")),null!=e.text&&e.hasOwnProperty("text")&&(r.text=Y.smartnav.Text.toObject(e.text,t),t.oneofs&&(r.blockType="text")),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},e}(),e.Page=function(){function e(e){if(this.blocks=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.pageNumber=0,e.prototype.width=0,e.prototype.height=0,e.prototype.blocks=q.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=V.create()),null!=e.pageNumber&&Object.hasOwnProperty.call(e,"pageNumber")&&t.uint32(8).uint32(e.pageNumber),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(21).float(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(29).float(e.height),null!=e.blocks&&e.blocks.length)for(var r=0;r<e.blocks.length;++r)Y.smartnav.Block.encode(e.blocks[r],t.uint32(34).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof G||(e=G.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Y.smartnav.Page;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.pageNumber=e.uint32();break;case 2:n.width=e.float();break;case 3:n.height=e.float();break;case 4:n.blocks&&n.blocks.length||(n.blocks=[]),n.blocks.push(Y.smartnav.Block.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof G||(e=new G(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.pageNumber&&e.hasOwnProperty("pageNumber")&&!q.isInteger(e.pageNumber))return"pageNumber: integer expected";if(null!=e.width&&e.hasOwnProperty("width")&&"number"!=typeof e.width)return"width: number expected";if(null!=e.height&&e.hasOwnProperty("height")&&"number"!=typeof e.height)return"height: number expected";if(null!=e.blocks&&e.hasOwnProperty("blocks")){if(!Array.isArray(e.blocks))return"blocks: array expected";for(var t=0;t<e.blocks.length;++t){var r=Y.smartnav.Block.verify(e.blocks[t]);if(r)return"blocks."+r}}return null},e.fromObject=function(e){if(e instanceof Y.smartnav.Page)return e;var t=new Y.smartnav.Page;if(null!=e.pageNumber&&(t.pageNumber=e.pageNumber>>>0),null!=e.width&&(t.width=Number(e.width)),null!=e.height&&(t.height=Number(e.height)),e.blocks){if(!Array.isArray(e.blocks))throw TypeError(".smartnav.Page.blocks: array expected");t.blocks=[];for(var r=0;r<e.blocks.length;++r){if("object"!=typeof e.blocks[r])throw TypeError(".smartnav.Page.blocks: object expected");t.blocks[r]=Y.smartnav.Block.fromObject(e.blocks[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.blocks=[]),t.defaults&&(r.pageNumber=0,r.width=0,r.height=0),null!=e.pageNumber&&e.hasOwnProperty("pageNumber")&&(r.pageNumber=e.pageNumber),null!=e.width&&e.hasOwnProperty("width")&&(r.width=t.json&&!isFinite(e.width)?String(e.width):e.width),null!=e.height&&e.hasOwnProperty("height")&&(r.height=t.json&&!isFinite(e.height)?String(e.height):e.height),e.blocks&&e.blocks.length){r.blocks=[];for(var n=0;n<e.blocks.length;++n)r.blocks[n]=Y.smartnav.Block.toObject(e.blocks[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},e}(),e.Asset=function(){function e(e){if(this.pages=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.pages=q.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=V.create()),null!=e.pages&&e.pages.length)for(var r=0;r<e.pages.length;++r)Y.smartnav.Page.encode(e.pages[r],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof G||(e=G.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Y.smartnav.Asset;e.pos<r;){var i=e.uint32();i>>>3==1?(n.pages&&n.pages.length||(n.pages=[]),n.pages.push(Y.smartnav.Page.decode(e,e.uint32()))):e.skipType(7&i)}return n},e.decodeDelimited=function(e){return e instanceof G||(e=new G(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.pages&&e.hasOwnProperty("pages")){if(!Array.isArray(e.pages))return"pages: array expected";for(var t=0;t<e.pages.length;++t){var r=Y.smartnav.Page.verify(e.pages[t]);if(r)return"pages."+r}}return null},e.fromObject=function(e){if(e instanceof Y.smartnav.Asset)return e;var t=new Y.smartnav.Asset;if(e.pages){if(!Array.isArray(e.pages))throw TypeError(".smartnav.Asset.pages: array expected");t.pages=[];for(var r=0;r<e.pages.length;++r){if("object"!=typeof e.pages[r])throw TypeError(".smartnav.Asset.pages: object expected");t.pages[r]=Y.smartnav.Page.fromObject(e.pages[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.pages=[]),e.pages&&e.pages.length){r.pages=[];for(var n=0;n<e.pages.length;++n)r.pages[n]=Y.smartnav.Page.toObject(e.pages[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},e}(),e})();!function(e){e[e.FORWARD=0]="FORWARD",e[e.BACKWARD=1]="BACKWARD"}(U||(U={}));var X=(e,t,r,n,i)=>n-i<=e.verticalSnapThreshold/t.zoom?e.padding.top-i*r:t.zoom*n-r*n+t.offsetY,K=(e,t,r)=>{var{width:n,padding:i}=e;return(n-(i.left+i.right))/(r-t)},Z=(e,t)=>{var{width:r,height:n}=e,{zoom:i,offsetX:o,offsetY:a}=t;return{top:-a/i,right:(r-o)/i,bottom:(n-a)/i,left:-o/i}},J=(e,t,r,n,i,o)=>({zoom:n,offsetX:e.padding.left-i*n,offsetY:X(e,r,n,t.y,o)});function Q(){console.debug(...arguments)}var ee,te,re=(e,t,r,n,i,o,a,s)=>{var u,c,l,h,d,p,f,g=o.shift();if(g){Q("unidirectionalExpansion: oldExpansion=",e,", direction=",a);var m="text"===g.type?Math.min(e.minFontSize,g.fontSize):e.minFontSize,v=Math.min(e.left,g.boundingBox.left),y=Math.max(e.right,g.boundingBox.right),b=K(t,v,y);Q("unidirectionalExpansion: considering left="+v+", right="+y);var _=J(t,r,n,b,v,i.boundingBox.top),w=Z(t,_),x=m*b,E=x>=t.minEffectiveFontSize,O=!s||((e,t)=>{var r=e.boundingBox;return r.top>=t.top&&r.bottom<=t.bottom&&r.left>=t.left&&r.right<=t.right})(s,w),T=0===a?((e,t)=>{var r=e.boundingBox;return r.top>=t.top&&r.top<=t.bottom&&r.left>=t.left&&r.right<=t.right})(g,w):((e,t)=>{var r=e.boundingBox;return r.bottom>=t.top&&r.bottom<=t.bottom&&r.left>=t.left&&r.right<=t.right})(g,w),S=((e,t)=>{var r=e.boundingBox,n=t.boundingBox;return(Math.min(r.right,n.right)-Math.max(r.left,n.left))/(Math.max(r.right,n.right)-Math.min(r.left,n.left))>=.6})(i,g),P=(u=g,c=e=>{var t=e.boundingBox;return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}},l=c(i),d=(h=c(u)).x-l.x,p=h.y-l.y,(f=180*Math.atan2(p,d)/Math.PI)>=-90&&f<=135);return Q("unidirectionalExpansion: ","effectiveFontSize=",x,"satisfiesFontSize=",E,"satisfiesOldVisibility=",O,"satisfiesThisVisibility=",T,"satisfiesColumn=",S,"satisfiesFlow=",P),E&&O&&T&&S?(Q("unidirectionalExpansion: all criteria are satisfied"),re({zoom:b,left:v,right:y,minFontSize:m},t,r,n,i,o,a,g)):(Q("unidirectionalExpansion: criteria not satisfied and not continuing"),e)}return Q("unidirectionalExpansion: no more blocks"),e},ne=(e,t,r,n,i,o,a)=>{var s={zoom:n,left:o.boundingBox.left,right:o.boundingBox.right,minFontSize:o.fontSize},u=a.slice(i+1),c=re(s,e,t,r,o,u,0),l=a.slice(0,i).reverse();return re(c,e,t,r,o,l,1)};class ie extends Error{}class oe extends Error{}class ae extends Error{}function se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(te=ee||(ee={})).DocumentNotLoad="The document could not be loaded.",te.LicensingNotLoaded="Licenses failed loading",te.ClippingNotLoad="The Clippings could not be loaded.",te.DocumentIdMissing="documentId is not found!",te.JsonNotLoad="XHR could not load JSON",te.PreviewDisableLicenseCheck="Disable license check in Publisher Preview mode",te.PaywallPreviewDisableLicenseCheck="Disable license check in paywallPreview mode",te.SmartzoomNotLoaded="Smartzoom failed to load";var ue="FetchNetworkError";class ce extends Error{constructor(e,t){void 0===t&&(t=-1),super(),se(this,"sentry_extra",void 0),se(this,"code",void 0),this.stack=(new Error).stack,this.message=e,this.name=ue,this.code=t,t>0&&(this.sentry_extra={HTTPStatusCode:t}),0!==t&&403!==t||(this.message+=" (--client-only--)")}}var le="BackendModelError";class he extends Error{constructor(e,t){super(),se(this,"sentry_extra",void 0),se(this,"code",void 0),this.stack=(new Error).stack,this.name=le,this.code=t,this.message=-1===t?e:e+" (documentStatus: "+t+") (--client-only--)"}}function de(e,t){var{withCredentials:r=!1,timeout:n}=void 0===t?{}:t;return new Promise(((t,i)=>{var o=new XMLHttpRequest;o.open("GET",e,!0),o.withCredentials=r,n&&(o.timeout=n),o.onreadystatechange=()=>{if(o.readyState===XMLHttpRequest.DONE)if(200===o.status)try{t(JSON.parse(o.responseText))}catch(e){i(new ce("Could not deserialize loaded JSON: "+e))}else i(new ce(ee.JsonNotLoad,o.status))},o.send()}))}function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){ge(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function me(e){return{licenses:null,description:"",userDisplayName:"user"===e.type?e.username:"",title:"user"===e.type?e.documentName:"",access:"public",downloadable:!1}}function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function be(){return e=>{var t,r,{origins:n,documentPath:i,metrics:o,sessionId:a,isRobot:s=!1}=e;function u(){t=function(e,t){var r=((e,t)=>"user"===t.type?e+"/"+t.username+"/"+t.documentName+"/reader3_4.json":e+"/d/"+t.publicationId+"/reader3_4.json")(e,t);return de(r).then((e=>{var{status:r,document:n}=e;if(0!==r||!n)throw new he(ee.DocumentNotLoad,r);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){ye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({documentPath:t},n)}))}(n.reader3,i),r=s?Promise.resolve(me(i)):function(e,t,r,n){var i=e+"/call/backend-reader3/dynamic"+("user"===t.type?"/"+t.username+"/"+t.documentName:"-v2/"+t.publicationId),o=Date.now(),a=()=>Math.round(Date.now()-o);return de(i,{timeout:5e3,readerSessionHeader:r}).then((e=>(n&&n.monitor("reader3-dynamicapi-stats",{success:1,success_time:a()}),e))).catch((e=>{if(n&&n.monitor("reader3-dynamicapi-stats",{failure:1,failure_time:a()}),e.name===ue&&404===e.code)throw new he(ee.DocumentNotLoad,-1);return{metadata:{},licenses:null}})).then((e=>{var{metadata:r={},licenses:n}=e;return fe(fe({},me(t)),{},{licenses:n},r)}))}(n.api,i,a,o)}return u(),{reset:function(){u()},whenDocumentBaseFetched:function(){return t.then((e=>({pageCount:e.pages.length,pages:e.pages.map(((e,t)=>{var{height:r,width:n,layersInfo:i,imageUri:o,isPagePaywalled:a,dominantColor:s=null}=e;return{pageNumber:t+1,height:r,width:n,layersInfo:i,imageUri:o,isPagePaywalled:a,dominantColor:s}})),isPaywalled:e.isPaywallPreview,originalPublishDate:e.originalPublishDate,publicationId:e.publicationId,revisionId:e.revisionId})))},whenDocumentExtraFetched:function(){return Promise.all([t,r]).then((e=>{var[t,r]=e;return{publicationId:t.publicationId,revisionId:t.revisionId,documentPath:i,access:r.access,description:r.description,downloadable:r.downloadable,title:r.title,userDisplayName:r.userDisplayName,contentRating:r.contentRating}}))},whenDocumentTextFetched:function(){return t.then((e=>{var{textInfo:t}=e;return{textInfoPath:t.uri,textInfoSize:t.size,textInfoVersion:t.version}}))},whenDocumentLinksFetched:function(){return s?Promise.resolve({}):function(e,t){return new Promise((r=>{var n="user"===t.type?"/"+t.username+"/"+t.documentName:"-v2/"+t.publicationId;de(e+"/call/backend-reader3/links"+n).then((e=>{r(e)}),(()=>{r({})}))}))}(n.api,i)},whenLicensesFetched:function(){return r.then((e=>{var{licenses:t}=e;if(!t)throw new Error(ee.LicensingNotLoaded);return Object.keys(t)}))},whenSmartnavFetched:function(){return t.then((e=>{var{smartzoomUri:t}=e;return t?async function(e){var t,r,n=await fetch(e);if(!n.ok){if(403===n.status)throw new ie("Assets missing for "+e);throw new oe("Invalid response for "+e)}try{return t=await n.arrayBuffer(),r=$.Asset.decode(new Uint8Array(t)),(e=>{function t(e){var t=e.blockType,r=e.boundingBox;return"image"===t?{type:"image",boundingBox:r}:"text"===t?{type:"text",fontSize:e[t].fontSize,boundingBox:r}:{type:"unknown",boundingBox:r}}return e.map((function(e){var{pageNumber:r,width:n,height:i,blocks:o}=e;return{pageNumber:r,width:n,height:i,blocks:o.map(t)}}))})($.Asset.toObject(r,{enums:String,longs:Number,oneofs:!0,defaults:!0}).pages)}catch(e){throw e instanceof Error?new ae(e.message):e}}("https://"+t):[]}))}}}}be();var _e=be();__webpack_require__(911);var we='<svg width="43" height="36"><g fill="currentColor" fill-rule="evenodd"><path d="M42.93 18.5a1 1 0 0 0-.4-.9L30.28 8.36a1.02 1.02 0 0 0-1.41.2c-.34.46-.25 1.09.19 1.43l11.3 8.51-11.3 8.52a1 1 0 0 0-.2 1.42c.34.45.99.53 1.42.2l12.27-9.24a1 1 0 0 0 .4-.9zm-42.46 0a1 1 0 0 1 .4-.9l12.26-9.24a1.02 1.02 0 0 1 1.41.2 1 1 0 0 1-.19 1.43L3.05 18.5l11.3 8.52a1 1 0 0 1 .2 1.42c-.34.45-.99.53-1.42.2L.86 19.4a1 1 0 0 1-.4-.9z"/><rect transform="rotate(14 22.02 17.9)" x="21.04" y="-.1" width="1.96" height="36" rx=".98"/></g></svg>',xe='<svg width="36" height="31"><g fill="currentColor" fill-rule="evenodd"><path d="M32.33 30.77H3.27a3.05 3.05 0 0 1-2.63-4.59L15.5 1.46A3.02 3.02 0 0 1 18.13 0c1.07 0 2.07.57 2.64 1.46l14.5 24.12a3.4 3.4 0 0 1 .03 3.46 3.3 3.3 0 0 1-2.97 1.73zM18.13 2.29a.75.75 0 0 0-.63.34L2.67 27.38c-.2.33-.07.6 0 .73.06.13.23.37.63.37h29.03c.57 0 .87-.4.97-.57.1-.17.3-.6 0-1.1L18.77 2.66a.72.72 0 0 0-.64-.36z"/><path d="M18.13 20.82c-.63 0-1.16-.53-1.16-1.16v-8.15c0-.63.53-1.16 1.16-1.16.64 0 1.17.53 1.17 1.16v8.15c0 .67-.5 1.17-1.17 1.17zm0 4.23c-.63 0-1.16-.53-1.16-1.17v-.66c0-.63.53-1.16 1.16-1.16.64 0 1.17.53 1.17 1.16v.67c0 .66-.5 1.16-1.17 1.16z"/></g></svg>',Ee=e=>{var{embedId:t,reloadDocument:r,sessionId:n,error:i}=e,o=i.name===le?function(e){var t={message:"Something went wrong",icon:(0,z.jsx)("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:we}}),retry:{},errorId:{}};switch(e){case 6:t.message="The content you are trying to view is not currently available.",t.icon=(0,z.jsx)("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:xe}}),t.retry.display="none",t.errorId.display="none";break;case 4:case 8:case 10:t.message="Sorry, this publication is not available",t.retry.display="none",t.errorId.display="none"}return t}(i.code):function(e,t){return{message:t+" ("+(e=e||"undefined")+")",icon:(0,z.jsx)("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:we}}),retry:{display:"none"},errorId:{}}}(t,i.message);return(0,z.jsxs)("div",{className:"failed",children:[o.icon,(0,z.jsx)("h1",{className:"failed__message",children:o.message}),(0,z.jsx)("div",{className:"failed__retry-link-container",style:o.retry,children:(0,z.jsx)("a",{className:"failed__retry-link",href:"#",onClick:e=>{e.preventDefault(),r&&r()},children:"Try again"})}),(0,z.jsxs)("div",{className:"failed__help",children:[(0,z.jsxs)("div",{className:"failed__error-token",style:o.errorId,children:["Error ID: ",n]}),(0,z.jsx)("div",{className:"failed__spacer",style:o.errorId}),(0,z.jsx)("div",{className:"failed__support-link-container",children:(0,z.jsx)("a",{className:"failed__support-link",href:"http://help.issuu.com",rel:"noreferrer",target:"_blank",children:"help.issuu.com"})})]})]})},Oe="#000000",Te="#ffffff",Se="#e5e5e5",Pe="#808080",ke="#333333",Ae="#ffffff",Ie="12px",Re="0.5rem",je="0.75rem",Ce="0.5rem",De="1rem",Ne=__webpack_require__(7363),Le=__webpack_require__.n(Ne);const Me=styled;var Fe=__webpack_require__.n(Me),Be=window.ENV||{},Ue=(Be.ISSUU_ENV_NAME,Be.SCHEME),ze=Be.API_DNS,He=Be.EMBED_DNS,We=Be.IMAGE_DNS,Ge=Be.MAIN_DNS,Ve=Be.PHOTO_DNS,qe=Be.PINGBACK_DNS,Ye=Be.READER3_DNS,$e=(Be.STATIC_DNS,Be.GOOGLE_ANALYTICS_ID,Be.QUANTCAST_ID);function Xe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Be.MIXPANEL_ID,__webpack_require__(684),__webpack_require__(8581);var Ke={autoFlip:"doAutoflipPages",hideIssuuLogo:"hideIssuuLogo",enableSeeMore:"showOtherPublicationsAsSuggestions",hideShare:"hideShareButton",fullscreenBackgroundColor:"backgroundColorFullscreen",fullscreenBackgroundImage:"backgroundImageUrl",fullscreenBackgroundPosition:"backgroundImagePosition",fullscreenLogo:"logoImageUrl",layout:"pageLayout",documentId:"documentId",backgroundColor:"backgroundColor",legacyViewMode:"viewMode",adId:"adId",identifier:"identifier",delayTracking:"delayTracking",streamOrigin:"streamOrigin",streamRanking:"streamRanking",publicationId:"pubId"},Ze=e=>({identifier:e||"control"});function Je(){return""+Ue+qe}function Qe(){return""+Ue+Ge}function et(){return{api:""+Ue+ze,main:""+Ue+Ge,image:""+Ue+We,photo:""+Ue+Ve,reader3:""+Ue+Ye,pingback:""+Ue+qe}}window._qevents=window._qevents||[];class tt{constructor(e){var t,r,{quantcastId:n}=e;r=void 0,(t="_quantcastId")in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r,this._quantcastId=n}destroy(){}track(){window.__qc&&(window.__qc.qpixelsent=[]);try{window._qevents&&window._qevents.push({qacct:this._quantcastId})}catch(e){}}}function rt(){if("function"==typeof window.requestIdleCallback&&"function"==typeof window.cancelIdleCallback)return{rIC:(e,t)=>window.requestIdleCallback(e,t),cIC:e=>window.cancelIdleCallback(e)};var e=null,t=!1,r=-1,n=!1,i=0,o=33,a=33,s={didTimeout:!1,timeRemaining(){var e=i-performance.now();return e>0?e:0}},u="__rIC$"+Math.random().toString(36).slice(2),c=function(e){n=!1;var r=e-i+a;r<a&&o<a?(r<8&&(r=8),a=r<o?o:r):o=r,i=e+a,t||(t=!0,window.postMessage(u,"*"))},l=function(o){if(o.source===window&&o.data===u){t=!1;var a=performance.now();if(i-a<=0){if(!(-1!==r&&r<=a))return void(n||(n=!0,requestAnimationFrame(c)));s.didTimeout=!0}else s.didTimeout=!1;r=-1;var h=e;e=null,window.removeEventListener("message",l,!1),null!==h&&h(s)}};return window.addEventListener("message",l,!1),{rIC:function(t,i){return e=t,i&&"number"==typeof i.timeout&&(r=performance.now()+i.timeout),n||(n=!0,requestAnimationFrame(c)),0},cIC:function(){e=null,t=!1,r=-1}}}var nt=/^(?:Mediapartners-Google|Yahoo|MSNPTC|Baiduspider|Yandex|proximic|Ezooms)|bot\/|Yahoo! Slurp|Ask Jeeves\/Teoma|spider|crawl|ia_archiver|heritrix\//i;function it(e){return nt.test(e)}var ot=/^((www|e|dev-html)\.)?t?issuu\.com$/;function at(e,t){if(e&&!t){var r=new URL(e).hostname,n=encodeURIComponent(r);if(!ot.test(r))return"utm_medium=referral&utm_source="+n}return""}function st(e,t){return void 0===t&&(t="?"),e?""+t+e:""}var ut='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 14"><path fill="currentColor" d="M8.488 3.64a3.31 3.31 0 0 0-3.31 3.32 3.32 3.32 0 0 0 3.24 3.4 3.31 3.31 0 0 0 3.31-3.33 3.32 3.32 0 0 0-3.24-3.39zm-.05 5.06a1.68 1.68 0 0 1-1.64-1.72 1.66 1.66 0 1 1 3.31.03c0 .94-.75 1.7-1.67 1.69z"/><path fill="currentColor" d="M8.408.42h-5.9c-.3 0-.54.25-.54.55v6.05c0 3.64 2.88 6.6 6.44 6.6a6.52 6.52 0 0 0 6.44-6.6c0-3.64-2.89-6.6-6.44-6.6zm-4.42 6.5a4.52 4.52 0 0 1 4.5-4.53 4.53 4.53 0 0 1 4.43 4.63 4.52 4.52 0 0 1-4.5 4.53 4.53 4.53 0 0 1-4.43-4.62v-.01zM19.838.46c.56 0 1.03.48 1.03 1.06 0 .58-.47 1.06-1.03 1.06-.57 0-1.04-.48-1.04-1.06 0-.58.47-1.06 1.04-1.06zm0 12.1a.87.87 0 0 1-.89-.9V4.8a.88.88 0 1 1 1.77 0v6.86c0 .5-.36.9-.88.9zm6.37.08a4.82 4.82 0 0 1-2.99-.98.98.98 0 0 1-.37-.75c0-.39.3-.64.68-.64.3 0 .48.12.7.27.5.39 1.21.75 2.12.75 1.01 0 1.56-.38 1.56-.98 0-.65-.53-.9-1.85-1.27-2.3-.64-3.16-1.45-3.16-2.83 0-1.45 1.3-2.4 3.33-2.4.78 0 1.64.2 2.34.54.5.26.86.56.86.95 0 .35-.19.67-.68.67-.24 0-.48-.11-.77-.27a3.63 3.63 0 0 0-1.78-.44c-.94 0-1.58.25-1.58.93 0 .65.56.86 1.91 1.27 2.04.6 3.09 1.15 3.09 2.72 0 1.42-1.17 2.46-3.4 2.46m8.51 0a4.82 4.82 0 0 1-3-.98.97.97 0 0 1-.37-.75c0-.39.3-.64.68-.64.3 0 .49.12.7.27.5.39 1.22.75 2.12.75 1.02 0 1.56-.38 1.56-.98 0-.65-.52-.9-1.84-1.27-2.31-.64-3.16-1.45-3.16-2.83 0-1.45 1.3-2.4 3.33-2.4.77 0 1.64.2 2.33.54.5.26.87.56.87.95 0 .35-.2.67-.68.67a1.6 1.6 0 0 1-.77-.27 3.63 3.63 0 0 0-1.79-.44c-.94 0-1.58.25-1.58.93 0 .65.57.86 1.92 1.27 2.03.6 3.09 1.15 3.09 2.72 0 1.42-1.17 2.46-3.41 2.46m5.12-4.03V4.8c0-.5.39-.9.88-.9s.88.4.88.9v4.03c0 1.21.92 2.15 2.16 2.15 1.25 0 2.19-.94 2.19-2.15V4.8c0-.5.4-.9.88-.9.49 0 .88.4.88.9v3.8a3.91 3.91 0 0 1-3.95 4.03 3.9 3.9 0 0 1-3.93-4.03m9.84.01V4.8c0-.5.4-.9.89-.9s.88.4.88.9v4.03c0 1.21.92 2.15 2.16 2.15 1.24 0 2.19-.94 2.19-2.15V4.8c0-.5.4-.9.88-.9.49 0 .88.4.88.9v3.8a3.91 3.91 0 0 1-3.95 4.03 3.9 3.9 0 0 1-3.93-4.03"/></svg>',ct="reader3-features.LINK_BELOW_EMBED_OPEN",lt="reader3-features.LINK_BELOW_EMBED_YCPT",ht=Fe().a(["color:",";&:hover{color:",";}"],Ae,Se),dt=Fe()(ht)(["height:30px;width:60px;svg{display:block;height:100%;width:100%;}"]),pt=Fe().div(["align-items:center;display:flex;"]),ft=Fe().span(["padding:0 5px 0 0;"]),gt=Fe().div(["align-items:center;background-color:rgba(0,0,0,0.7);color:",";display:flex;font-size:",";height:30px;justify-content:space-between;line-height:",";padding:0 10px;white-space:nowrap;"],Ae,Ie,"18px"),mt=e=>{var{metrics:t,mainOrigin:r,embedTrackingQuery:n}=e,i=(0,Ne.useRef)({}),o=e=>{t&&(t.monitor(e,{usageRepeat:1,usageFirst:i.current[e]?0:1}),i.current[e]=!0)},a=r+"/features"+st(n),s=r+"/tryissuu"+st(n);return(0,Ne.useEffect)((()=>{t&&(t.monitor(ct,{opportunity:1}),t.monitor(lt,{opportunity:1}))}),[t]),(0,z.jsxs)(gt,{children:[(0,z.jsxs)(pt,{children:[(0,z.jsx)(ft,{children:"Powered by"}),(0,z.jsx)(dt,{dangerouslySetInnerHTML:{__html:ut},href:a,onClick:()=>{o(ct)},rel:"noreferrer",target:"_blank"})]}),(0,z.jsx)(ht,{href:s,onClick:()=>{o(lt)},rel:"noreferrer",target:"_blank",children:"Publish for Free"})]})},vt="@reader3/paywall/PAYWALL_PUBLICATION_LOADING",yt="@reader3/paywall/PAYWALL_PUBLICATION_LOADED",bt="@reader3/paywall/PAYWALL_PUBLICATION_LOADING_ERROR",_t={status:"NOTLOADED",isNotAvailable:!1,isPaid:!1,publicationPriceAmount:0,publicationPriceCurrency:"USD",readPurchasedPath:null};function wt(e,t){switch(void 0===e&&(e=_t),t.type){case vt:return Object.assign({},e,{status:"LOADING"});case bt:return Object.assign({},e,{status:"ERROR"});case yt:return{status:"LOADED",isNotAvailable:!!t.isNotAvailable,isPaid:!!t.currentUserPurchased,publicationPriceAmount:t.priceAmount,publicationPriceCurrency:t.priceCurrency,readPurchasedPath:t.readPurchasedPath};default:return e}}var xt=function(){return xt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},xt.apply(this,arguments)};function Et(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function Ot(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Et(arguments[t]));return e}var Tt=__webpack_require__(3870);function St(){var e=(0,Tt.R)(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var r=new Uint16Array(8);t.getRandomValues(r),r[3]=4095&r[3]|16384,r[4]=16383&r[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var Pt,kt=__webpack_require__(287),At=((0,Tt.R)(),["debug","info","warn","error","log","assert"]);Pt={enable:function(){},disable:function(){}},At.forEach((function(e){Pt[e]=function(){}}));var It=__webpack_require__(4844),Rt=Object.prototype.toString;function jt(e){return function(e){return"[object Object]"===Rt.call(e)}(e)}function Ct(e){return Boolean(e&&e.then&&"function"==typeof e.then)}var Dt=function(){function e(e){var t=this;this._state=0,this._handlers=[],this._resolve=function(e){t._setResult(1,e)},this._reject=function(e){t._setResult(2,e)},this._setResult=function(e,r){0===t._state&&(Ct(r)?r.then(t._resolve,t._reject):(t._state=e,t._value=r,t._executeHandlers()))},this._executeHandlers=function(){if(0!==t._state){var e=t._handlers.slice();t._handlers=[],e.forEach((function(e){e[0]||(1===t._state&&e[1](t._value),2===t._state&&e[2](t._value),e[0]=!0)}))}};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}return e.prototype.then=function(t,r){var n=this;return new e((function(e,i){n._handlers.push([!1,function(r){if(t)try{e(t(r))}catch(e){i(e)}else e(r)},function(t){if(r)try{e(r(t))}catch(e){i(e)}else i(t)}]),n._executeHandlers()}))},e.prototype.catch=function(e){return this.then((function(e){return e}),e)},e.prototype.finally=function(t){var r=this;return new e((function(e,n){var i,o;return r.then((function(e){o=!1,i=e,t&&t()}),(function(e){o=!0,i=e,t&&t()})).then((function(){o?n(i):e(i)}))}))},e}(),Nt=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return e.clone=function(t){var r=new e;return t&&(r._breadcrumbs=Ot(t._breadcrumbs),r._tags=xt({},t._tags),r._extra=xt({},t._extra),r._contexts=xt({},t._contexts),r._user=t._user,r._level=t._level,r._span=t._span,r._session=t._session,r._transactionName=t._transactionName,r._fingerprint=t._fingerprint,r._eventProcessors=Ot(t._eventProcessors),r._requestSession=t._requestSession),r},e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.getRequestSession=function(){return this._requestSession},e.prototype.setRequestSession=function(e){return this._requestSession=e,this},e.prototype.setTags=function(e){return this._tags=xt(xt({},this._tags),e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var r;return this._tags=xt(xt({},this._tags),((r={})[e]=t,r)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=xt(xt({},this._extra),e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var r;return this._extra=xt(xt({},this._extra),((r={})[e]=t,r)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this.setTransactionName(e)},e.prototype.setContext=function(e,t){var r;return null===t?delete this._contexts[e]:this._contexts=xt(xt({},this._contexts),((r={})[e]=t,r)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var e=this.getSpan();return e&&e.transaction},e.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if("function"==typeof t){var r=t(this);return r instanceof e?r:this}return t instanceof e?(this._tags=xt(xt({},this._tags),t._tags),this._extra=xt(xt({},this._extra),t._extra),this._contexts=xt(xt({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):jt(t)&&(this._tags=xt(xt({},this._tags),t.tags),this._extra=xt(xt({},this._extra),t.extra),this._contexts=xt(xt({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var r="number"==typeof t?Math.min(t,100):100;if(r<=0)return this;var n=xt({timestamp:(0,kt.yW)()},e);return this._breadcrumbs=Ot(this._breadcrumbs,[n]).slice(-r),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(e,t){if(this._extra&&Object.keys(this._extra).length&&(e.extra=xt(xt({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=xt(xt({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=xt(xt({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=xt(xt({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=xt({trace:this._span.getTraceContext()},e.contexts);var r=this._span.transaction&&this._span.transaction.name;r&&(e.tags=xt({transaction:r},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=Ot(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors(Ot((0,Tt.Y)("globalEventProcessors",(function(){return[]})),this._eventProcessors),e,t)},e.prototype.setSDKProcessingMetadata=function(e){return this._sdkProcessingMetadata=xt(xt({},this._sdkProcessingMetadata),e),this},e.prototype._notifyEventProcessors=function(e,t,r,n){var i=this;return void 0===n&&(n=0),new Dt((function(o,a){var s=e[n];if(null===t||"function"!=typeof s)o(t);else{var u=s(xt({},t),r);Ct(u)?u.then((function(t){return i._notifyEventProcessors(e,t,r,n+1).then(o)})).then(null,a):i._notifyEventProcessors(e,u,r,n+1).then(o).then(null,a)}}))},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(t){t(e)})),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e}();function Lt(e){var t,r;if(jt(e)){var n={};try{for(var i=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e)),o=i.next();!o.done;o=i.next()){var a=o.value;void 0!==e[a]&&(n[a]=Lt(e[a]))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}return Array.isArray(e)?e.map(Lt):e}var Mt=function(){function e(e){this.errors=0,this.sid=St(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var t=(0,kt.ph)();this.timestamp=t,this.started=t,e&&this.update(e)}return e.prototype.update=function(e){if(void 0===e&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),this.did||e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||(0,kt.ph)(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=32===e.sid.length?e.sid:St()),void 0!==e.init&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),"number"==typeof e.started&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if("number"==typeof e.duration)this.duration=e.duration;else{var t=this.timestamp-this.started;this.duration=t>=0?t:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),"number"==typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},e.prototype.close=function(e){e?this.update({status:e}):"ok"===this.status?this.update({status:"exited"}):this.update()},e.prototype.toJSON=function(){return Lt({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},e}(),Ft=function(){function e(e,t,r){void 0===t&&(t=new Nt),void 0===r&&(r=4),this._version=r,this._stack=[{}],this.getStackTop().scope=t,e&&this.bindClient(e)}return e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=Nt.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},e.prototype.popScope=function(){return!(this.getStack().length<=1||!this.getStack().pop())},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var r=this._lastEventId=t&&t.event_id?t.event_id:St(),n=t;if(!t){var i=void 0;try{throw new Error("Sentry syntheticException")}catch(e){i=e}n={originalException:e,syntheticException:i}}return this._invokeClient("captureException",e,xt(xt({},n),{event_id:r})),r},e.prototype.captureMessage=function(e,t,r){var n=this._lastEventId=r&&r.event_id?r.event_id:St(),i=r;if(!r){var o=void 0;try{throw new Error(e)}catch(e){o=e}i={originalException:e,syntheticException:o}}return this._invokeClient("captureMessage",e,t,xt(xt({},i),{event_id:n})),n},e.prototype.captureEvent=function(e,t){var r=t&&t.event_id?t.event_id:St();return"transaction"!==e.type&&(this._lastEventId=r),this._invokeClient("captureEvent",e,xt(xt({},t),{event_id:r})),r},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var r=this.getStackTop(),n=r.scope,i=r.client;if(n&&i){var o=i.getOptions&&i.getOptions()||{},a=o.beforeBreadcrumb,s=void 0===a?null:a,u=o.maxBreadcrumbs,c=void 0===u?100:u;if(!(c<=0)){var l=(0,kt.yW)(),h=xt({timestamp:l},e),d=s?function(e){var t=(0,Tt.R)();if(!("console"in t))return e();var r=t.console,n={};At.forEach((function(e){var i=r[e]&&r[e].__sentry_original__;e in t.console&&i&&(n[e]=r[e],r[e]=i)}));try{return e()}finally{Object.keys(n).forEach((function(e){r[e]=n[e]}))}}((function(){return s(h,t)})):h;null!==d&&n.addBreadcrumb(d,c)}}},e.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},e.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},e.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},e.prototype.setTag=function(e,t){var r=this.getScope();r&&r.setTag(e,t)},e.prototype.setExtra=function(e,t){var r=this.getScope();r&&r.setExtra(e,t)},e.prototype.setContext=function(e,t){var r=this.getScope();r&&r.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop(),r=t.scope,n=t.client;r&&n&&e(r)},e.prototype.run=function(e){var t=Ut(this);try{e(this)}finally{Ut(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(e){return null}},e.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},e.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(e){if(void 0===e&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var e=this.getStackTop(),t=e&&e.scope,r=t&&t.getSession();r&&r.close(),this._sendSessionUpdate(),t&&t.setSession()},e.prototype.startSession=function(e){var t=this.getStackTop(),r=t.scope,n=t.client,i=n&&n.getOptions()||{},o=i.release,a=i.environment,s=((0,Tt.R)().navigator||{}).userAgent,u=new Mt(xt(xt(xt({release:o,environment:a},r&&{user:r.getUser()}),s&&{userAgent:s}),e));if(r){var c=r.getSession&&r.getSession();c&&"ok"===c.status&&c.update({status:"exited"}),this.endSession(),r.setSession(u)}return u},e.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),t=e.scope,r=e.client;if(t){var n=t.getSession&&t.getSession();n&&r&&r.captureSession&&r.captureSession(n)}},e.prototype._invokeClient=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=this.getStackTop(),o=i.scope,a=i.client;a&&a[e]&&(t=a)[e].apply(t,Ot(r,[o]))},e.prototype._callExtensionMethod=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Bt(),i=n.__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[e])return i.extensions[e].apply(this,t)},e}();function Bt(){var e=(0,Tt.R)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function Ut(e){var t=Bt(),r=Wt(t);return Gt(t,e),r}function zt(){var e=Bt();return Ht(e)&&!Wt(e).isOlderThan(4)||Gt(e,new Ft),(0,It.KV)()?function(e){try{var t=Bt().__SENTRY__,r=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!r)return Wt(e);if(!Ht(r)||Wt(r).isOlderThan(4)){var n=Wt(e).getStackTop();Gt(r,new Ft(n.client,Nt.clone(n.scope)))}return Wt(r)}catch(t){return Wt(e)}}(e):Wt(e)}function Ht(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function Wt(e){return(0,Tt.Y)("hub",(function(){return new Ft}),e)}function Gt(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}function Vt(e,t){return function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=zt();if(n&&n[e])return n[e].apply(n,Ot(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}("captureException",e,{captureContext:t,originalException:e,syntheticException:new Error("Sentry syntheticException")})}var qt=Le().createContext(null),Yt=function(e){e()},$t=function(){return Yt},Xt={notify:function(){},get:function(){return[]}};function Kt(e,t){var r,n=Xt;function i(){a.onStateChange&&a.onStateChange()}function o(){r||(r=t?t.addNestedSub(i):e.subscribe(i),n=function(){var e=$t(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],r=t;r;)e.push(r),r=r.next;return e},subscribe:function(e){var n=!0,i=r={callback:e,next:null,prev:r};return i.prev?i.prev.next=i:t=i,function(){n&&null!==t&&(n=!1,i.next?i.next.prev=i.prev:r=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),n.subscribe(e)},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(r)},trySubscribe:o,tryUnsubscribe:function(){r&&(r(),r=void 0,n.clear(),n=Xt)},getListeners:function(){return n}};return a}var Zt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?Ne.useLayoutEffect:Ne.useEffect;const Jt=function(e){var t=e.store,r=e.context,n=e.children,i=(0,Ne.useMemo)((function(){var e=Kt(t);return{store:t,subscription:e}}),[t]),o=(0,Ne.useMemo)((function(){return t.getState()}),[t]);Zt((function(){var e=i.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,o]);var a=r||qt;return Le().createElement(a.Provider,{value:i},n)};function Qt(){return Qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qt.apply(this,arguments)}function er(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}var tr=__webpack_require__(5839),rr=__webpack_require__.n(tr),nr=__webpack_require__(6492),ir=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],or=["reactReduxForwardedRef"],ar=[],sr=[null,null];function ur(e,t){var r=e[1];return[t.payload,r+1]}function cr(e,t,r){Zt((function(){return e.apply(void 0,t)}),r)}function lr(e,t,r,n,i,o,a){e.current=n,t.current=i,r.current=!1,o.current&&(o.current=null,a())}function hr(e,t,r,n,i,o,a,s,u,c){if(e){var l=!1,h=null,d=function(){if(!l){var e,r,d=t.getState();try{e=n(d,i.current)}catch(e){r=e,h=e}r||(h=null),e===o.current?a.current||u():(o.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:r}}))}};return r.onStateChange=d,r.trySubscribe(),d(),function(){if(l=!0,r.tryUnsubscribe(),r.onStateChange=null,h)throw h}}}var dr=function(){return[null,0]};function pr(e,t){void 0===t&&(t={});var r=t,n=r.getDisplayName,i=void 0===n?function(e){return"ConnectAdvanced("+e+")"}:n,o=r.methodName,a=void 0===o?"connectAdvanced":o,s=r.renderCountProp,u=void 0===s?void 0:s,c=r.shouldHandleStateChanges,l=void 0===c||c,h=r.storeKey,d=void 0===h?"store":h,p=(r.withRef,r.forwardRef),f=void 0!==p&&p,g=r.context,m=void 0===g?qt:g,v=er(r,ir),y=m;return function(t){var r=t.displayName||t.name||"Component",n=i(r),o=Qt({},v,{getDisplayName:i,methodName:a,renderCountProp:u,shouldHandleStateChanges:l,storeKey:d,displayName:n,wrappedComponentName:r,WrappedComponent:t}),s=v.pure,c=s?Ne.useMemo:function(e){return e()};function h(r){var n=(0,Ne.useMemo)((function(){var e=r.reactReduxForwardedRef,t=er(r,or);return[r.context,e,t]}),[r]),i=n[0],a=n[1],s=n[2],u=(0,Ne.useMemo)((function(){return i&&i.Consumer&&(0,nr.isContextConsumer)(Le().createElement(i.Consumer,null))?i:y}),[i,y]),h=(0,Ne.useContext)(u),d=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(h)&&Boolean(h.store);var p=d?r.store:h.store,f=(0,Ne.useMemo)((function(){return function(t){return e(t.dispatch,o)}(p)}),[p]),g=(0,Ne.useMemo)((function(){if(!l)return sr;var e=Kt(p,d?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[p,d,h]),m=g[0],v=g[1],b=(0,Ne.useMemo)((function(){return d?h:Qt({},h,{subscription:m})}),[d,h,m]),_=(0,Ne.useReducer)(ur,ar,dr),w=_[0][0],x=_[1];if(w&&w.error)throw w.error;var E=(0,Ne.useRef)(),O=(0,Ne.useRef)(s),T=(0,Ne.useRef)(),S=(0,Ne.useRef)(!1),P=c((function(){return T.current&&s===O.current?T.current:f(p.getState(),s)}),[p,w,s]);cr(lr,[O,E,S,s,P,T,v]),cr(hr,[l,p,m,f,O,E,S,T,v,x],[p,m,f]);var k=(0,Ne.useMemo)((function(){return Le().createElement(t,Qt({},P,{ref:a}))}),[a,t,P]);return(0,Ne.useMemo)((function(){return l?Le().createElement(u.Provider,{value:b},k):k}),[u,k,b])}var p=s?Le().memo(h):h;if(p.WrappedComponent=t,p.displayName=h.displayName=n,f){var g=Le().forwardRef((function(e,t){return Le().createElement(p,Qt({},e,{reactReduxForwardedRef:t}))}));return g.displayName=n,g.WrappedComponent=t,rr()(g,t)}return rr()(p,t)}}function fr(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function gr(e,t){if(fr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!fr(e[r[i]],t[r[i]]))return!1;return!0}function mr(e){return function(t,r){var n=e(t,r);function i(){return n}return i.dependsOnOwnProps=!1,i}}function vr(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function yr(e){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=vr(e);var i=n(t,r);return"function"==typeof i&&(n.mapToProps=i,n.dependsOnOwnProps=vr(i),i=n(t,r)),i},n}}const br=[function(e){return"function"==typeof e?yr(e):void 0},function(e){return e?void 0:mr((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?mr((function(t){return function(e,t){var r={},n=function(n){var i=e[n];"function"==typeof i&&(r[n]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)n(i);return r}(e,t)})):void 0}],_r=[function(e){return"function"==typeof e?yr(e):void 0},function(e){return e?void 0:mr((function(){return{}}))}];function wr(e,t,r){return Qt({},r,e,t)}const xr=[function(e){return"function"==typeof e?function(e){return function(t,r){r.displayName;var n,i=r.pure,o=r.areMergedPropsEqual,a=!1;return function(t,r,s){var u=e(t,r,s);return a?i&&o(u,n)||(n=u):(a=!0,n=u),n}}}(e):void 0},function(e){return e?void 0:function(){return wr}}];var Er=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Or(e,t,r,n){return function(i,o){return r(e(i,o),t(n,o),o)}}function Tr(e,t,r,n,i){var o,a,s,u,c,l=i.areStatesEqual,h=i.areOwnPropsEqual,d=i.areStatePropsEqual,p=!1;return function(i,f){return p?function(i,p){var f,g,m=!h(p,a),v=!l(i,o);return o=i,a=p,m&&v?(s=e(o,a),t.dependsOnOwnProps&&(u=t(n,a)),c=r(s,u,a)):m?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(u=t(n,a)),c=r(s,u,a)):v?(f=e(o,a),g=!d(f,s),s=f,g&&(c=r(s,u,a)),c):c}(i,f):(s=e(o=i,a=f),u=t(n,a),c=r(s,u,a),p=!0,c)}}function Sr(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,i=t.initMergeProps,o=er(t,Er),a=r(e,o),s=n(e,o),u=i(e,o);return(o.pure?Tr:Or)(a,s,u,e,o)}var Pr=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function kr(e,t,r){for(var n=t.length-1;n>=0;n--){var i=t[n](e);if(i)return i}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function Ar(e,t){return e===t}function Ir(e){var t=void 0===e?{}:e,r=t.connectHOC,n=void 0===r?pr:r,i=t.mapStateToPropsFactories,o=void 0===i?_r:i,a=t.mapDispatchToPropsFactories,s=void 0===a?br:a,u=t.mergePropsFactories,c=void 0===u?xr:u,l=t.selectorFactory,h=void 0===l?Sr:l;return function(e,t,r,i){void 0===i&&(i={});var a=i,u=a.pure,l=void 0===u||u,d=a.areStatesEqual,p=void 0===d?Ar:d,f=a.areOwnPropsEqual,g=void 0===f?gr:f,m=a.areStatePropsEqual,v=void 0===m?gr:m,y=a.areMergedPropsEqual,b=void 0===y?gr:y,_=er(a,Pr),w=kr(e,o,"mapStateToProps"),x=kr(t,s,"mapDispatchToProps"),E=kr(r,c,"mergeProps");return n(h,Qt({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:x,initMergeProps:E,pure:l,areStatesEqual:p,areOwnPropsEqual:g,areStatePropsEqual:v,areMergedPropsEqual:b},_))}}const Rr=Ir();function jr(){return(0,Ne.useContext)(qt)}function Cr(e){void 0===e&&(e=qt);var t=e===qt?jr:function(){return(0,Ne.useContext)(e)};return function(){return t().store}}var Dr=Cr();function Nr(e){void 0===e&&(e=qt);var t=e===qt?Dr:Cr(e);return function(){return t().dispatch}}var Lr=Nr(),Mr=function(e,t){return e===t};function Fr(e){void 0===e&&(e=qt);var t=e===qt?jr:function(){return(0,Ne.useContext)(e)};return function(e,r){void 0===r&&(r=Mr);var n=t(),i=function(e,t,r,n){var i,o=(0,Ne.useReducer)((function(e){return e+1}),0)[1],a=(0,Ne.useMemo)((function(){return Kt(r,n)}),[r,n]),s=(0,Ne.useRef)(),u=(0,Ne.useRef)(),c=(0,Ne.useRef)(),l=(0,Ne.useRef)(),h=r.getState();try{if(e!==u.current||h!==c.current||s.current){var d=e(h);i=void 0!==l.current&&t(d,l.current)?l.current:d}else i=l.current}catch(e){throw s.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+s.current.stack+"\n\n"),e}return Zt((function(){u.current=e,c.current=h,l.current=i,s.current=void 0})),Zt((function(){function e(){try{var e=r.getState();if(e===c.current)return;var n=u.current(e);if(t(n,l.current))return;l.current=n,c.current=e}catch(e){s.current=e}o()}return a.onStateChange=e,a.trySubscribe(),e(),function(){return a.tryUnsubscribe()}}),[r,a]),i}(e,r,n.store,n.subscription);return(0,Ne.useDebugValue)(i),i}}var Br=Fr();const Ur=ReactDOM;var zr,Hr=__webpack_require__.n(Ur);function Wr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gr(Object(r),!0).forEach((function(t){Wr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}zr=Ur.unstable_batchedUpdates,Yt=zr;var Yr="function"==typeof Symbol&&Symbol.observable||"@@observable",$r=function(){return Math.random().toString(36).substring(7).split("").join(".")},Xr={INIT:"@@redux/INIT"+$r(),REPLACE:"@@redux/REPLACE"+$r(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+$r()}};function Kr(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Zr(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(qr(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(qr(1));return r(Zr)(e,t)}if("function"!=typeof e)throw new Error(qr(2));var i=e,o=t,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function l(){if(u)throw new Error(qr(3));return o}function h(e){if("function"!=typeof e)throw new Error(qr(4));if(u)throw new Error(qr(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(qr(6));t=!1,c();var r=s.indexOf(e);s.splice(r,1),a=null}}}function d(e){if(!Kr(e))throw new Error(qr(7));if(void 0===e.type)throw new Error(qr(8));if(u)throw new Error(qr(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,r=0;r<t.length;r++)(0,t[r])();return e}function p(e){if("function"!=typeof e)throw new Error(qr(10));i=e,d({type:Xr.REPLACE})}function f(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(qr(11));function r(){e.next&&e.next(l())}return r(),{unsubscribe:t(r)}}})[Yr]=function(){return this},e}return d({type:Xr.INIT}),(n={dispatch:d,subscribe:h,getState:l,replaceReducer:p})[Yr]=f,n}function Jr(e,t){return function(){return t(e.apply(this,arguments))}}function Qr(e,t){if("function"==typeof e)return Jr(e,t);if("object"!=typeof e||null===e)throw new Error(qr(16));var r={};for(var n in e){var i=e[n];"function"==typeof i&&(r[n]=Jr(i,t))}return r}function en(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function tn(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(i){return"function"==typeof i?i(r,n,e):t(i)}}}}var rn=tn();rn.withExtraArgument=tn;const nn=rn;__webpack_require__(1370);var on=__webpack_require__(9372),an=__webpack_require__.n(on),sn=__webpack_require__(6292),un=__webpack_require__.n(sn);function cn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(r),!0).forEach((function(t){hn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var dn,pn={error:un()("@issuu/request:error"),info:un()("@issuu/request:info")};pn.info.log=console.log.bind(console);try{dn=!0}catch(e){dn=!0}var fn=e=>Object.keys(e).reduce(((t,r)=>t+(r+"=")+e[r]+"; "),"").slice(0,-2),gn=e=>Object.keys(e).map((t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t]))).join("&"),mn="@issuu/tracking-micro",vn={error:(0,sn.debug)(mn+":13.1.2:error"),info:(0,sn.debug)(mn+":13.1.2:info")};vn.info.log=console.log.bind(console);const yn=vn;var bn=(e,t)=>e.reduce(((e,r)=>(e[r]=t.get(r)||null,e)),{});function _n(e,t,r,n){var i=new URLSearchParams(t),o=bn(r,i);if(r.some((e=>o[e])))o[n]=Date.now(),e.register(o);else{var a=parseInt(e.get_property(n),10)||0;Date.now()-a>6048e5&&(e.unregister(n),Object.keys(o).forEach((t=>e.unregister(t))))}}function wn(e){return void 0!==e.mixpanel&&"function"==typeof e.mixpanel.get_property&&"function"==typeof e.mixpanel.register&&"function"==typeof e.mixpanel.unregister}class xn{constructor(e){var t=this;if(this.window=e,this.queue=[],e.mixpanel&&wn(e))this.setupMixpanelSuperProps(e.mixpanel);else var r=setInterval((()=>{if(e.mixpanel&&wn(e)){clearInterval(r);var t=this.queue.map((e=>this.mixpanelTracker(e.event,e.payload,e.options)));this.queue=[],this.setupMixpanelSuperProps(e.mixpanel),Promise.all(t).then((()=>{this.tracker.initialized=!0}))}}),100);this.tracker={track:function(r,n,i){return void 0===i&&(i={}),e.mixpanel&&wn(e)?t.mixpanelTracker(r,n,i):t.mixpanelTrackerQueue(r,n,i)},getDistinctId:()=>{var t,r;return null===(t=e.mixpanel)||void 0===t||null===(r=t.get_distinct_id)||void 0===r?void 0:r.call(t)},reset:()=>{var t,r;return null===(t=e.mixpanel)||void 0===t||null===(r=t.reset)||void 0===r?void 0:r.call(t)},initialized:!!e.mixpanel}}getCookie(e){if(void 0!==this.window.document){var t=new RegExp("(?:(?:^|.*;\\s*)"+e+"\\s*\\=\\s*([^;]*).*$)|^.*$");return this.window.document.cookie.replace(t,"$1")}}setupMixpanelSuperProps(e){_n(e,this.window.location.search,["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],"utm_timestamp"),_n(e,this.window.location.search,["embed_id","embed_domain","embed_context","embed_cta"],"embed_timestamp")}async getUserPlan(e,t){var{force:r}=void 0===t?{}:t;return this.cachedUserPlan&&!r?this.cachedUserPlan:(this.cachedUserPlanPromise||(this.cachedUserPlanPromise=function(e,t){void 0===t&&(t={});var r=t.headers;return t.noCache&&(r=ln(ln({},r),{},{"Cache-Control":"no-cache"})),function(e,t){void 0===t&&(t={});var r,n=Date.now();if(t.fetch)r=t.fetch;else{if(void 0===an())throw new Error('No usable fetch function found. Use a polyfill or provide it as "fetch" option');r=an()}var i=t.method||"GET",o=t.cookies||{};if(t.req&&t.req.cookies){var a=t.req.cookies;for(var s of(o=ln(ln({},o),{},{"site.model.username":a["site.model.username"],"site.model.token":a["site.model.token"]}),Object.keys(a).filter((e=>e.startsWith("x-issuu-")))))o[s]=a[s]}var u,c=ln({Cookie:fn(o),"Content-Type":t.urlEncoded?"application/x-www-form-urlencoded":"application/json"},t.headers),l=e;if("GET"===i&&(t.body||t.noCache)){var h=t.body||{};t.noCache&&(h=ln(ln({},h),{},{_:Date.now()})),l=e.indexOf("?")>-1?e+"&"+gn(h):e+"?"+gn(h)}"GET"!==i&&t.urlEncoded?u=(e=>gn(e).replace(/%20/g,"+"))(t.body||{}):"GET"!==i&&(u=JSON.stringify(t.body||{}));var d="undefined"!=typeof AbortController?new AbortController:void 0,p=t.timeout||(dn?4e3:void 0),f=p?null==d?void 0:d.signal:void 0,g=p?setTimeout((()=>{null==d||d.abort()}),p):void 0;return r(l,{credentials:"same-origin",method:i,headers:c,body:u,signal:f}).catch((e=>(pn.error(i+" "+l+" ERROR_REQUEST "+e.message),"AbortError"===e.name?Promise.reject({type:"ERROR_TIMEOUT",url:l}):Promise.reject({type:"ERROR_REQUEST",url:l,options:t,nativeError:e,nativeErrorMessage:e.message})))).then((e=>e.text().then((t=>{if(!e.ok){var r;r=401===e.status?"ERROR_401_UNAUTHORIZED":403===e.status?"ERROR_403_FORBIDDEN":404===e.status?"ERROR_404_NOT_FOUND":"ERROR_API",pn.error(i+" "+l+" "+r+" "+e.status+": "+e.statusText+", response: %o",t);var n={payload:t};try{n=JSON.parse(t)}catch(e){}return Promise.reject(ln(ln({},n),{},{type:r,url:l}))}return t})).then((e=>{if(t.textResponse)return e||"";if(!e)return{};try{return JSON.parse(e)}catch(e){return pn.error(i+" "+l+" ERROR_JSON_DECODE "+e.message,e),Promise.reject({type:"ERROR_JSON_DECODE",url:l,nativeError:e,nativeErrorMessage:e.message})}})).then((t=>{var r=Date.now()-n;return pn.info(i+" "+l+" "+e.status+" "+r+"ms"),t})))).finally((()=>g&&clearTimeout(g)))}(e,ln(ln({},t),{},{headers:r}))}("/res/licensing/"+e+"/publisher_plan").then((e=>"ok"===e.rsp.stat?e.rsp._content.plan:"free")).catch((e=>(yn.error("could not get user license, %o",e),"free"))).then((e=>(this.cachedUserPlanPromise=void 0,this.cachedUserPlan=e,e)))),this.cachedUserPlanPromise)}async mixpanelTrackerQueue(e,t,r){return void 0===r&&(r={}),t?this.queue.push({event:e,payload:t,options:r}):this.queue.push({event:e,options:r}),Promise.resolve()}async mixpanelTracker(e,t,r){void 0===r&&(r={});try{var n=this.getCookie("site.model.username"),i=this.getCookie("site.model.token"),o=null;n&&i&&!r.noPlanInfo&&(o=await this.getUserPlan(n,{force:r.forcePlanCheck}));var a={};return n&&Object.assign(a,{username:n}),o&&Object.assign(a,{current_plan:o}),Object.assign(a,t||{},(s=this.window.location.search,u=new URLSearchParams(s),bn(["issuu_product","issuu_subproduct","issuu_context","issuu_cta"],u))),async function(e,t){var r;return Promise.race([t,new Promise((e=>{r=setTimeout(e,100)}))]).then((()=>{clearTimeout(r)}))}(0,new Promise((t=>{var r,n,i=null===(r=this.window.mixpanel)||void 0===r||null===(n=r.track)||void 0===n?void 0:n.call(r,e,a,t);i?yn.info('tracking "'+i.event+'" with payload %o',i.properties):yn.info('(deffered) tracking "'+e+'" with payload %o',a)})))}catch(e){yn.error("error while attempting to track, %o",e)}var s,u}}var En,On="TRACKED_EVENTS_MIXPANEL",Tn=(En=[],function(e){if(e.fake){var t=(e,t,r)=>(En.push({event:e,payload:t,options:r}),Promise.resolve());return t.queue=En,{track:t,getDistinctId:()=>{},initialized:!1,reset:()=>{}}}return window.loadMixpanel&&window.loadMixpanel(),(r=window).mp_issuu_t||(r.mp_issuu_t=new xn(r).tracker),r.mp_issuu_t;var r}),Sn=()=>{var e=document.cookie.split(/\s*;\s*/).reduce(((e,t)=>{var[r,n]=decodeURIComponent(t).split(/\s*=\s*/,2);return e[r]=n,e}),{});return"string"==typeof e.iutk&&parseInt(e.iutk.slice(0,8),16)%1e3<10};const Pn=Tn;function kn(e){return e.split("").map((e=>function(e){return function(e){var t=e.charCodeAt(0);return 65280<=t&&t<=65374}(e)?function(e){var t=e.charCodeAt(0);return 65296<=t&&t<=65305||65313<=t&&t<=65338||65345<=t&&t<=65370?String.fromCharCode(255&t+32):e}(e):function(e){return e.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(/[ẚæⱥ]/g,"a").replace(/[ƀɓƃᵬ]/g,"b").replace(/[ȼƈɕ]/g,"c").replace(/[đɖɗƌᵭȡð]/g,"d").replace(/[əǝɇɚɝ]/g,"e").replace(/[ƒᵮ]/g,"f").replace(/[ǥɠ]/g,"g").replace(/[ħⱨ]/g,"h").replace(/[ɨı]/g,"i").replace(/[ɉȷʝɟʄ]/g,"j").replace(/[ƙⱪ]/g,"k").replace(/[łŀƚⱡɫɬɭȴ]/g,"l").replace(/[ɱ]/g,"m").replace(/[ɲƞɳȵ]/g,"n").replace(/[øɵ]/g,"o").replace(/[ᵽƥ]/g,"p").replace(/[ʠɋ]/g,"q").replace(/[ɍᵲɼɽɾᵳ]/g,"r").replace(/[ßſʂ]/g,"s").replace(/[þŧⱦᵵƫƭʈȶ]/g,"t").replace(/[ʉ]/g,"u").replace(/[ʋ]/g,"v").replace(/[ʏɏƴ]/g,"y").replace(/[ƶȥʐʑⱬʒƺ]/g,"z")}(e)}(e))).join("")}var An=/[-/\\^$*+?.()|[\]{}]/,In=/\S/;function Rn(e,t,r){var{start:n,end:i,blocks:o}=function(e,t,r){for(var n=[],i=0;i<r.length;i++){var o=r[i].text.length;if(n.length||e<o?n.push(r[i]):e-=o,n.length&&t<=o)return{start:e,end:t,blocks:n};t-=o}throw new Error("index out of range")}(e,e+t,r);return o.map(((e,t)=>{var r=0===t?n:0,a=t===o.length-1?i:e.charOffsets.length-1,s=e.charOffsets[r];return{x:s,y:0,width:e.charOffsets[a]-s,height:e.height,matrix:e.matrix}}))}var jn=__webpack_require__(8815),Cn=__webpack_require__.n(jn);class Dn extends Error{constructor(e){super(e),this.skipTracking=!1}}var Nn={},Ln=null,Mn=0,Fn=function(){try{return new Worker(URL.createObjectURL(new Blob(["("+(()=>{self.addEventListener("message",(e=>{var{url:t,id:r}=e.data;try{fetch(t,{mode:"cors"}).then((e=>e.blob())).then((e=>createImageBitmap(e))).then((e=>self.postMessage({id:r,bitmap:e},"/",[e]))).catch((e=>self.postMessage({id:r,error:e.toString()})))}catch(e){e instanceof Error&&self.postMessage({id:r,error:e.toString()})}}))}).toString()+")()"])))}catch(e){return null}}();function Bn(e){return function(e){return function(e,t){if(Mn>=5)return Promise.reject("Too many timeouts");var r=null,n=new Promise(((e,t)=>{r=setTimeout((()=>{Mn++,t(new Error("Worker image decoder timeout"))}),2e3)}));return Promise.race([t,n]).then((e=>(r&&clearTimeout(r),e)),(e=>(r&&clearTimeout(r),Promise.reject(e))))}(0,new Promise(((t,r)=>{if(!Fn)return r("Unable to create Worker with Blob");var n="id_"+Math.random();function i(e){var a=e.data;a.id===n&&(null==Fn||Fn.removeEventListener("message",i),null==Fn||Fn.removeEventListener("error",o),"bitmap"in a?t(a.bitmap):r(a.error))}function o(e){null==Fn||Fn.removeEventListener("message",i),null==Fn||Fn.removeEventListener("error",o),r(e)}Fn.addEventListener("message",i),Fn.addEventListener("error",o),Fn.postMessage({url:e,id:n})})))}(e).catch((()=>function(e){return new Promise(((t,r)=>{var n=new Image;"data"!==e.substr(0,4)&&(n.crossOrigin="Anonymous"),n.onload=()=>{"function"==typeof createImageBitmap?createImageBitmap(n).then((e=>t(e))):t(n)},n.onerror=()=>r(new TypeError("Could not load image")),n.src=e}))}(e))).catch((()=>function(e){return new Promise(((t,r)=>{var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=()=>{200===n.status?"function"==typeof createImageBitmap?createImageBitmap(n.response).then((e=>{t(e)}),(()=>{r(new TypeError("[loadImageWithXHR] Could not create image bitmap"))})):r(new TypeError("[loadImageWithXHR] createImageBitmap not support")):r(new TypeError("[loadImageWithXHR] Could not load image "+n.status))},n.onerror=()=>{r(new TypeError("[loadImageWithXHR] Could not load image"))},n.send()}))}(e)))}function Un(e,t){return new Promise((function r(n,i,o,a){return void 0===o&&(o=1),void 0===a&&(a=100),e().then((e=>n([e,o]))).catch((e=>{o<t?setTimeout((()=>r(n,i,o+1,5*a)),a):i([e,o])}))}))}function zn(e,t,r,n){return{page:e,width:r,height:n,layers:[{type:"image",image:0,width:r,height:n}],images:[t],fonts:[]}}function Hn(e,t){return fetch(e,{mode:"cors",credentials:t?"include":"omit"}).then((e=>e.json()))}function Wn(e,t){return Un((()=>Hn(e,t)),3).then((e=>{var[t,r]=e;return[t,r]}))}function Gn(e){var t=new Uint8Array(e.length);return new Promise((r=>{function n(i){for(var o=Math.min(t.length,i+1e4),a=i;a<o;a++)t[a]=255&e.charCodeAt(a);o<t.length?setTimeout((()=>n(o)),0):r(t)}setTimeout((()=>n(0)),0)}))}var Vn,qn,Yn,$n,Xn=(e,t)=>function(){var e=new XMLHttpRequest;if("string"==typeof e.responseType)try{return e.responseType="arraybuffer","arraybuffer"===e.responseType}catch(e){return!1}return!1}()?function(e,t){return new Promise(((r,n)=>{var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.withCredentials=t,i.onload=()=>{var e=i.response;return e?r(new Uint8Array(e)):n()},i.onerror=()=>n(),i.send()}))}(e,t):function(e,t){return new Promise(((r,n)=>{var i=new XMLHttpRequest;if(i.open("GET",e,!0),i.withCredentials=t,!i.overrideMimeType)return n("cannot load binary files");i.overrideMimeType("text/plain; charset=x-user-defined"),i.onreadystatechange=()=>{if(4===i.readyState)return 200===i.status?r(i.responseText):n()},i.send()})).then(Gn)}(e,t),Kn=W.Reader,Zn=W.Writer,Jn=W.util,Qn=W.roots.default||(W.roots.default={});function ei(e){for(var t=[],r=0;r<e.length;r+=32768)t.push(String.fromCharCode.apply(null,Array.from(e.subarray(r,r+32768))));return btoa(t.join(""))}function ti(e){switch(e){case Qn.layers.BlendType.Normal:return"source-over";case Qn.layers.BlendType.Multiply:return"multiply";case Qn.layers.BlendType.Screen:return"screen";case Qn.layers.BlendType.Overlay:case Qn.layers.BlendType.Darken:return"overlay";case Qn.layers.BlendType.Lighten:return"lighten";case Qn.layers.BlendType.Colordodge:return"color-dodge";case Qn.layers.BlendType.Colorburn:return"color-burn";case Qn.layers.BlendType.Hardlight:return"hard-light";case Qn.layers.BlendType.Softlight:return"soft-light";case Qn.layers.BlendType.Difference:return"difference";case Qn.layers.BlendType.Exclusion:return"exclusion";case Qn.layers.BlendType.Hue:return"hue";case Qn.layers.BlendType.Saturation:return"saturation";case Qn.layers.BlendType.Color:return"color";case Qn.layers.BlendType.Luminosity:return"luminosity"}}function ri(e){return[e>>16&255,e>>8&255,e>>0&255,(e>>24&255)/255]}function ni(e){if(e.image){var t;if("number"!=typeof e.image.width||"number"!=typeof e.image.height)throw new Error("Invalid layer "+JSON.stringify(e));return{type:"image",image:null!==(t=e.image.image)&&void 0!==t?t:0,width:e.image.width,height:e.image.height}}if(e.rect){var r;if(null===(r=e.rect)||void 0===r||!r.box||"number"!=typeof e.rect.color||"number"!=typeof e.rect.blend)throw new Error("Invalid layer "+JSON.stringify(e));return{type:"rect",box:e.rect.box,color:ri(e.rect.color),blend:ti(e.rect.blend)}}if(e.line){var n;if(null===(n=e.line)||void 0===n||!n.coord||"number"!=typeof e.line.color||"number"!=typeof e.line.blend)throw new Error("Invalid layer "+JSON.stringify(e));return{type:"line",coords:e.line.coord,color:ri(e.line.color),blend:ti(e.line.blend)}}if(e.text){var i;if(!("string"==typeof(null===(i=e.text)||void 0===i?void 0:i.text)&&"number"==typeof e.text.font&&"number"==typeof e.text.size&&"number"==typeof e.text.color&&e.text.matrix&&e.text.originx&&e.text.originy&&e.text.scale))throw new Error("Invalid layer "+JSON.stringify(e));return{type:"text",text:e.text.text,font:e.text.font,size:e.text.size,color:ri(e.text.color),matrix:e.text.matrix,originx:e.text.originx,originy:e.text.originy,scale:e.text.scale}}throw new Error('Unknown layer type: "'+JSON.stringify(e)+'"')}function ii(e,t){return Un((()=>Xn(e,t)),3).then((e=>{var[t,r]=e,n=Qn.layers.Page.decode(t);return[{layers:n.layer.map(ni),encodedImages:n.image.map((e=>{if(e.resource instanceof Uint8Array)return{type:"embed",resource:ei(e.resource)};if(e.url)return{type:"url",url:e.url};throw new Error("Invalid image "+JSON.stringify(e))})),encodedFonts:n.font.map((e=>{if("number"!=typeof e.weight||!(e.resource instanceof Uint8Array))throw new Error("Invalid font "+JSON.stringify(e));return{weight:e.weight,type:"embed",resource:ei(e.resource)}})),width:n.width,height:n.height,page:n.page,version:n.version,usable:n.usable},r]}))}function oi(e){var{url:t,pageNumber:r,width:n,height:i,loadStatsTracker:o}=e;return null==o||o.onPageLoadStart(r,"image"),function(e,t,r,n){return Un((()=>Bn(e)),3).then((e=>{var[i,o]=e;return[zn(t,i,r,n),o]}))}(t,r,n,i).then((e=>{var[t,n]=e;return n>1?null==o||o.onPageLoadSuccessAfterRetry(r,"image"):null==o||o.onPageLoadSuccess(r,"image"),t})).catch((e=>(null==o||o.onPageLoadFailure(r,"image"),Promise.reject(e))))}function ai(e){for(var t=0,r=e.length,n=[];t<r-1;++t){var i=e.charCodeAt(t);i>=55296&&i<=56319&&(i=e.charCodeAt(t+1))>=56320&&i<=57343?(n.push(e.slice(t,t+2)),++t):n.push(e.charAt(t))}return n.push(e.charAt(t)),n}function si(){try{return performance.now()}catch(e){return Date.now()}}function ui(e){var t,r=[];return null===(t=e.page)||void 0===t||t.forEach((e=>{if("number"==typeof e.pageNumber&&"number"==typeof e.width&&"number"==typeof e.height&&e.textBlock){var t=[];e.textBlock.forEach((e=>{var r;if("number"==typeof e.height&&e.matrix&&"string"==typeof e.text){var n=(null===(r=e.charOffset)||void 0===r?void 0:r.reduce(((e,t)=>(e.push((e[e.length-1]||0)+t),e)),[]))||[];n.push(n[n.length-1]),t.push({text:kn(e.text)+"\n",height:e.height,matrix:e.matrix,charOffsets:n})}})),r.push({pageNumber:e.pageNumber,textBlocks:t,text:e.textBlock.reduce(((e,t)=>""+e+t.text+"\n"),""),width:e.width,height:e.height})}})),{pages:r}}function ci(e){return ui(Qn.text.Document.decode(e))}Qn.layers=((Yn={}).BlendType=(Vn={},(qn=Object.create(Vn))[Vn[0]="Normal"]=0,qn[Vn[1]="Multiply"]=1,qn[Vn[2]="Screen"]=2,qn[Vn[3]="Overlay"]=3,qn[Vn[4]="Darken"]=4,qn[Vn[5]="Lighten"]=5,qn[Vn[6]="Colordodge"]=6,qn[Vn[7]="Colorburn"]=7,qn[Vn[8]="Hardlight"]=8,qn[Vn[9]="Softlight"]=9,qn[Vn[10]="Difference"]=10,qn[Vn[11]="Exclusion"]=11,qn[Vn[12]="Hue"]=12,qn[Vn[13]="Saturation"]=13,qn[Vn[14]="Color"]=14,qn[Vn[15]="Luminosity"]=15,qn),Yn.ImageLayer=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.image=0,e.prototype.width=0,e.prototype.height=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Zn.create()),null!=e.image&&Object.hasOwnProperty.call(e,"image")&&t.uint32(8).uint32(e.image),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(16).uint32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(24).uint32(e.height),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Kn||(e=Kn.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Qn.layers.ImageLayer;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.image=e.uint32();break;case 2:n.width=e.uint32();break;case 3:n.height=e.uint32();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Kn||(e=new Kn(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.image&&e.hasOwnProperty("image")&&!Jn.isInteger(e.image)?"image: integer expected":null!=e.width&&e.hasOwnProperty("width")&&!Jn.isInteger(e.width)?"width: integer expected":null!=e.height&&e.hasOwnProperty("height")&&!Jn.isInteger(e.height)?"height: integer expected":null},e.fromObject=function(e){if(e instanceof Qn.layers.ImageLayer)return e;var t=new Qn.layers.ImageLayer;return null!=e.image&&(t.image=e.image>>>0),null!=e.width&&(t.width=e.width>>>0),null!=e.height&&(t.height=e.height>>>0),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.image=0,r.width=0,r.height=0),null!=e.image&&e.hasOwnProperty("image")&&(r.image=e.image),null!=e.width&&e.hasOwnProperty("width")&&(r.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(r.height=e.height),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},e}(),Yn.TextLayer=function(){function e(e){if(this.matrix=[],this.originx=[],this.originy=[],this.scale=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.text="",e.prototype.font=0,e.prototype.size=0,e.prototype.color=0,e.prototype.matrix=Jn.emptyArray,e.prototype.originx=Jn.emptyArray,e.prototype.originy=Jn.emptyArray,e.prototype.scale=Jn.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Zn.create()),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(10).string(e.text),null!=e.font&&Object.hasOwnProperty.call(e,"font")&&t.uint32(16).uint32(e.font),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(29).float(e.size),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(32).uint32(e.color),null!=e.matrix&&e.matrix.length){t.uint32(42).fork();for(var r=0;r<e.matrix.length;++r)t.float(e.matrix[r]);t.ldelim()}if(null!=e.originx&&e.originx.length){t.uint32(50).fork();for(var n=0;n<e.originx.length;++n)t.float(e.originx[n]);t.ldelim()}if(null!=e.originy&&e.originy.length){t.uint32(58).fork();for(var i=0;i<e.originy.length;++i)t.float(e.originy[i]);t.ldelim()}if(null!=e.scale&&e.scale.length){t.uint32(66).fork();for(var o=0;o<e.scale.length;++o)t.float(e.scale[o]);t.ldelim()}return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Kn||(e=Kn.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Qn.layers.TextLayer;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.text=e.string();break;case 2:n.font=e.uint32();break;case 3:n.size=e.float();break;case 4:n.color=e.uint32();break;case 5:if(n.matrix&&n.matrix.length||(n.matrix=[]),2==(7&i))for(var o=e.uint32()+e.pos;e.pos<o;)n.matrix.push(e.float());else n.matrix.push(e.float());break;case 6:if(n.originx&&n.originx.length||(n.originx=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)n.originx.push(e.float());else n.originx.push(e.float());break;case 7:if(n.originy&&n.originy.length||(n.originy=[]),2==(7&i))for(var s=e.uint32()+e.pos;e.pos<s;)n.originy.push(e.float());else n.originy.push(e.float());break;case 8:if(n.scale&&n.scale.length||(n.scale=[]),2==(7&i))for(var u=e.uint32()+e.pos;e.pos<u;)n.scale.push(e.float());else n.scale.push(e.float());break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Kn||(e=new Kn(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.text&&e.hasOwnProperty("text")&&!Jn.isString(e.text))return"text: string expected";if(null!=e.font&&e.hasOwnProperty("font")&&!Jn.isInteger(e.font))return"font: integer expected";if(null!=e.size&&e.hasOwnProperty("size")&&"number"!=typeof e.size)return"size: number expected";if(null!=e.color&&e.hasOwnProperty("color")&&!Jn.isInteger(e.color))return"color: integer expected";if(null!=e.matrix&&e.hasOwnProperty("matrix")){if(!Array.isArray(e.matrix))return"matrix: array expected";for(var t=0;t<e.matrix.length;++t)if("number"!=typeof e.matrix[t])return"matrix: number[] expected"}if(null!=e.originx&&e.hasOwnProperty("originx")){if(!Array.isArray(e.originx))return"originx: array expected";for(var r=0;r<e.originx.length;++r)if("number"!=typeof e.originx[r])return"originx: number[] expected"}if(null!=e.originy&&e.hasOwnProperty("originy")){if(!Array.isArray(e.originy))return"originy: array expected";for(var n=0;n<e.originy.length;++n)if("number"!=typeof e.originy[n])return"originy: number[] expected"}if(null!=e.scale&&e.hasOwnProperty("scale")){if(!Array.isArray(e.scale))return"scale: array expected";for(var i=0;i<e.scale.length;++i)if("number"!=typeof e.scale[i])return"scale: number[] expected"}return null},e.fromObject=function(e){if(e instanceof Qn.layers.TextLayer)return e;var t=new Qn.layers.TextLayer;if(null!=e.text&&(t.text=String(e.text)),null!=e.font&&(t.font=e.font>>>0),null!=e.size&&(t.size=Number(e.size)),null!=e.color&&(t.color=e.color>>>0),e.matrix){if(!Array.isArray(e.matrix))throw TypeError(".layers.TextLayer.matrix: array expected");t.matrix=[];for(var r=0;r<e.matrix.length;++r)t.matrix[r]=Number(e.matrix[r])}if(e.originx){if(!Array.isArray(e.originx))throw TypeError(".layers.TextLayer.originx: array expected");t.originx=[];for(var n=0;n<e.originx.length;++n)t.originx[n]=Number(e.originx[n])}if(e.originy){if(!Array.isArray(e.originy))throw TypeError(".layers.TextLayer.originy: array expected");t.originy=[];for(var i=0;i<e.originy.length;++i)t.originy[i]=Number(e.originy[i])}if(e.scale){if(!Array.isArray(e.scale))throw TypeError(".layers.TextLayer.scale: array expected");t.scale=[];for(var o=0;o<e.scale.length;++o)t.scale[o]=Number(e.scale[o])}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.matrix=[],r.originx=[],r.originy=[],r.scale=[]),t.defaults&&(r.text="",r.font=0,r.size=0,r.color=0),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),null!=e.font&&e.hasOwnProperty("font")&&(r.font=e.font),null!=e.size&&e.hasOwnProperty("size")&&(r.size=t.json&&!isFinite(e.size)?String(e.size):e.size),null!=e.color&&e.hasOwnProperty("color")&&(r.color=e.color),e.matrix&&e.matrix.length){r.matrix=[];for(var n=0;n<e.matrix.length;++n)r.matrix[n]=t.json&&!isFinite(e.matrix[n])?String(e.matrix[n]):e.matrix[n]}if(e.originx&&e.originx.length){r.originx=[];for(var i=0;i<e.originx.length;++i)r.originx[i]=t.json&&!isFinite(e.originx[i])?String(e.originx[i]):e.originx[i]}if(e.originy&&e.originy.length){r.originy=[];for(var o=0;o<e.originy.length;++o)r.originy[o]=t.json&&!isFinite(e.originy[o])?String(e.originy[o]):e.originy[o]}if(e.scale&&e.scale.length){r.scale=[];for(var a=0;a<e.scale.length;++a)r.scale[a]=t.json&&!isFinite(e.scale[a])?String(e.scale[a]):e.scale[a]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},e}(),Yn.RectLayer=function(){function e(e){if(this.box=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.color=0,e.prototype.blend=0,e.prototype.box=Jn.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Zn.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(8).uint32(e.color),null!=e.blend&&Object.hasOwnProperty.call(e,"blend")&&t.uint32(16).int32(e.blend),null!=e.box&&e.box.length){t.uint32(26).fork();for(var r=0;r<e.box.length;++r)t.float(e.box[r]);t.ldelim()}return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Kn||(e=Kn.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Qn.layers.RectLayer;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.color=e.uint32();break;case 2:n.blend=e.int32();break;case 3:if(n.box&&n.box.length||(n.box=[]),2==(7&i))for(var o=e.uint32()+e.pos;e.pos<o;)n.box.push(e.float());else n.box.push(e.float());break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Kn||(e=new Kn(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.color&&e.hasOwnProperty("color")&&!Jn.isInteger(e.color))return"color: integer expected";if(null!=e.blend&&e.hasOwnProperty("blend"))switch(e.blend){default:return"blend: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:}if(null!=e.box&&e.hasOwnProperty("box")){if(!Array.isArray(e.box))return"box: array expected";for(var t=0;t<e.box.length;++t)if("number"!=typeof e.box[t])return"box: number[] expected"}return null},e.fromObject=function(e){if(e instanceof Qn.layers.RectLayer)return e;var t=new Qn.layers.RectLayer;switch(null!=e.color&&(t.color=e.color>>>0),e.blend){case"Normal":case 0:t.blend=0;break;case"Multiply":case 1:t.blend=1;break;case"Screen":case 2:t.blend=2;break;case"Overlay":case 3:t.blend=3;break;case"Darken":case 4:t.blend=4;break;case"Lighten":case 5:t.blend=5;break;case"Colordodge":case 6:t.blend=6;break;case"Colorburn":case 7:t.blend=7;break;case"Hardlight":case 8:t.blend=8;break;case"Softlight":case 9:t.blend=9;break;case"Difference":case 10:t.blend=10;break;case"Exclusion":case 11:t.blend=11;break;case"Hue":case 12:t.blend=12;break;case"Saturation":case 13:t.blend=13;break;case"Color":case 14:t.blend=14;break;case"Luminosity":case 15:t.blend=15}if(e.box){if(!Array.isArray(e.box))throw TypeError(".layers.RectLayer.box: array expected");t.box=[];for(var r=0;r<e.box.length;++r)t.box[r]=Number(e.box[r])}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.box=[]),t.defaults&&(r.color=0,r.blend=t.enums===String?"Normal":0),null!=e.color&&e.hasOwnProperty("color")&&(r.color=e.color),null!=e.blend&&e.hasOwnProperty("blend")&&(r.blend=t.enums===String?Qn.layers.BlendType[e.blend]:e.blend),e.box&&e.box.length){r.box=[];for(var n=0;n<e.box.length;++n)r.box[n]=t.json&&!isFinite(e.box[n])?String(e.box[n]):e.box[n]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},e}(),Yn.LineLayer=function(){function e(e){if(this.coord=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.color=0,e.prototype.blend=0,e.prototype.coord=Jn.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Zn.create()),null!=e.color&&Object.hasOwnProperty.call(e,"color")&&t.uint32(8).uint32(e.color),null!=e.blend&&Object.hasOwnProperty.call(e,"blend")&&t.uint32(16).int32(e.blend),null!=e.coord&&e.coord.length){t.uint32(26).fork();for(var r=0;r<e.coord.length;++r)t.float(e.coord[r]);t.ldelim()}return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Kn||(e=Kn.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Qn.layers.LineLayer;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.color=e.uint32();break;case 2:n.blend=e.int32();break;case 3:if(n.coord&&n.coord.length||(n.coord=[]),2==(7&i))for(var o=e.uint32()+e.pos;e.pos<o;)n.coord.push(e.float());else n.coord.push(e.float());break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Kn||(e=new Kn(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.color&&e.hasOwnProperty("color")&&!Jn.isInteger(e.color))return"color: integer expected";if(null!=e.blend&&e.hasOwnProperty("blend"))switch(e.blend){default:return"blend: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:}if(null!=e.coord&&e.hasOwnProperty("coord")){if(!Array.isArray(e.coord))return"coord: array expected";for(var t=0;t<e.coord.length;++t)if("number"!=typeof e.coord[t])return"coord: number[] expected"}return null},e.fromObject=function(e){if(e instanceof Qn.layers.LineLayer)return e;var t=new Qn.layers.LineLayer;switch(null!=e.color&&(t.color=e.color>>>0),e.blend){case"Normal":case 0:t.blend=0;break;case"Multiply":case 1:t.blend=1;break;case"Screen":case 2:t.blend=2;break;case"Overlay":case 3:t.blend=3;break;case"Darken":case 4:t.blend=4;break;case"Lighten":case 5:t.blend=5;break;case"Colordodge":case 6:t.blend=6;break;case"Colorburn":case 7:t.blend=7;break;case"Hardlight":case 8:t.blend=8;break;case"Softlight":case 9:t.blend=9;break;case"Difference":case 10:t.blend=10;break;case"Exclusion":case 11:t.blend=11;break;case"Hue":case 12:t.blend=12;break;case"Saturation":case 13:t.blend=13;break;case"Color":case 14:t.blend=14;break;case"Luminosity":case 15:t.blend=15}if(e.coord){if(!Array.isArray(e.coord))throw TypeError(".layers.LineLayer.coord: array expected");t.coord=[];for(var r=0;r<e.coord.length;++r)t.coord[r]=Number(e.coord[r])}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.coord=[]),t.defaults&&(r.color=0,r.blend=t.enums===String?"Normal":0),null!=e.color&&e.hasOwnProperty("color")&&(r.color=e.color),null!=e.blend&&e.hasOwnProperty("blend")&&(r.blend=t.enums===String?Qn.layers.BlendType[e.blend]:e.blend),e.coord&&e.coord.length){r.coord=[];for(var n=0;n<e.coord.length;++n)r.coord[n]=t.json&&!isFinite(e.coord[n])?String(e.coord[n]):e.coord[n]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},e}(),Yn.Font=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resource=Jn.newBuffer([]),e.prototype.weight=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Zn.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&t.uint32(10).bytes(e.resource),null!=e.weight&&Object.hasOwnProperty.call(e,"weight")&&t.uint32(16).uint32(e.weight),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Kn||(e=Kn.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Qn.layers.Font;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.resource=e.bytes();break;case 2:n.weight=e.uint32();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Kn||(e=new Kn(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.resource&&e.hasOwnProperty("resource")&&!(e.resource&&"number"==typeof e.resource.length||Jn.isString(e.resource))?"resource: buffer expected":null!=e.weight&&e.hasOwnProperty("weight")&&!Jn.isInteger(e.weight)?"weight: integer expected":null},e.fromObject=function(e){if(e instanceof Qn.layers.Font)return e;var t=new Qn.layers.Font;return null!=e.resource&&("string"==typeof e.resource?Jn.base64.decode(e.resource,t.resource=Jn.newBuffer(Jn.base64.length(e.resource)),0):e.resource.length&&(t.resource=e.resource)),null!=e.weight&&(t.weight=e.weight>>>0),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(t.bytes===String?r.resource="":(r.resource=[],t.bytes!==Array&&(r.resource=Jn.newBuffer(r.resource))),r.weight=0),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=t.bytes===String?Jn.base64.encode(e.resource,0,e.resource.length):t.bytes===Array?Array.prototype.slice.call(e.resource):e.resource),null!=e.weight&&e.hasOwnProperty("weight")&&(r.weight=e.weight),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},e}(),Yn.Image=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.width=0,e.prototype.height=0,e.prototype.resource=null,e.prototype.url=null,Object.defineProperty(e.prototype,"source",{get:Jn.oneOfGetter(t=["resource","url"]),set:Jn.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Zn.create()),null!=e.resource&&Object.hasOwnProperty.call(e,"resource")&&t.uint32(10).bytes(e.resource),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(16).uint32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(24).uint32(e.height),null!=e.url&&Object.hasOwnProperty.call(e,"url")&&t.uint32(34).string(e.url),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Kn||(e=Kn.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Qn.layers.Image;e.pos<r;){var i=e.uint32();switch(i>>>3){case 2:n.width=e.uint32();break;case 3:n.height=e.uint32();break;case 1:n.resource=e.bytes();break;case 4:n.url=e.string();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Kn||(e=new Kn(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.width&&e.hasOwnProperty("width")&&!Jn.isInteger(e.width))return"width: integer expected";if(null!=e.height&&e.hasOwnProperty("height")&&!Jn.isInteger(e.height))return"height: integer expected";if(null!=e.resource&&e.hasOwnProperty("resource")&&(t.source=1,!(e.resource&&"number"==typeof e.resource.length||Jn.isString(e.resource))))return"resource: buffer expected";if(null!=e.url&&e.hasOwnProperty("url")){if(1===t.source)return"source: multiple values";if(t.source=1,!Jn.isString(e.url))return"url: string expected"}return null},e.fromObject=function(e){if(e instanceof Qn.layers.Image)return e;var t=new Qn.layers.Image;return null!=e.width&&(t.width=e.width>>>0),null!=e.height&&(t.height=e.height>>>0),null!=e.resource&&("string"==typeof e.resource?Jn.base64.decode(e.resource,t.resource=Jn.newBuffer(Jn.base64.length(e.resource)),0):e.resource.length&&(t.resource=e.resource)),null!=e.url&&(t.url=String(e.url)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.width=0,r.height=0),null!=e.resource&&e.hasOwnProperty("resource")&&(r.resource=t.bytes===String?Jn.base64.encode(e.resource,0,e.resource.length):t.bytes===Array?Array.prototype.slice.call(e.resource):e.resource,t.oneofs&&(r.source="resource")),null!=e.width&&e.hasOwnProperty("width")&&(r.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(r.height=e.height),null!=e.url&&e.hasOwnProperty("url")&&(r.url=e.url,t.oneofs&&(r.source="url")),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},e}(),Yn.Layer=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.image=null,e.prototype.text=null,e.prototype.rect=null,e.prototype.line=null,Object.defineProperty(e.prototype,"kind",{get:Jn.oneOfGetter(t=["image","text","rect","line"]),set:Jn.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=Zn.create()),null!=e.image&&Object.hasOwnProperty.call(e,"image")&&Qn.layers.ImageLayer.encode(e.image,t.uint32(10).fork()).ldelim(),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&Qn.layers.TextLayer.encode(e.text,t.uint32(18).fork()).ldelim(),null!=e.rect&&Object.hasOwnProperty.call(e,"rect")&&Qn.layers.RectLayer.encode(e.rect,t.uint32(26).fork()).ldelim(),null!=e.line&&Object.hasOwnProperty.call(e,"line")&&Qn.layers.LineLayer.encode(e.line,t.uint32(34).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Kn||(e=Kn.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Qn.layers.Layer;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.image=Qn.layers.ImageLayer.decode(e,e.uint32());break;case 2:n.text=Qn.layers.TextLayer.decode(e,e.uint32());break;case 3:n.rect=Qn.layers.RectLayer.decode(e,e.uint32());break;case 4:n.line=Qn.layers.LineLayer.decode(e,e.uint32());break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Kn||(e=new Kn(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";var t={};if(null!=e.image&&e.hasOwnProperty("image")){t.kind=1;var r=Qn.layers.ImageLayer.verify(e.image);if(r)return"image."+r}if(null!=e.text&&e.hasOwnProperty("text")){if(1===t.kind)return"kind: multiple values";t.kind=1;var n=Qn.layers.TextLayer.verify(e.text);if(n)return"text."+n}if(null!=e.rect&&e.hasOwnProperty("rect")){if(1===t.kind)return"kind: multiple values";t.kind=1;var i=Qn.layers.RectLayer.verify(e.rect);if(i)return"rect."+i}if(null!=e.line&&e.hasOwnProperty("line")){if(1===t.kind)return"kind: multiple values";t.kind=1;var o=Qn.layers.LineLayer.verify(e.line);if(o)return"line."+o}return null},e.fromObject=function(e){if(e instanceof Qn.layers.Layer)return e;var t=new Qn.layers.Layer;if(null!=e.image){if("object"!=typeof e.image)throw TypeError(".layers.Layer.image: object expected");t.image=Qn.layers.ImageLayer.fromObject(e.image)}if(null!=e.text){if("object"!=typeof e.text)throw TypeError(".layers.Layer.text: object expected");t.text=Qn.layers.TextLayer.fromObject(e.text)}if(null!=e.rect){if("object"!=typeof e.rect)throw TypeError(".layers.Layer.rect: object expected");t.rect=Qn.layers.RectLayer.fromObject(e.rect)}if(null!=e.line){if("object"!=typeof e.line)throw TypeError(".layers.Layer.line: object expected");t.line=Qn.layers.LineLayer.fromObject(e.line)}return t},e.toObject=function(e,t){t||(t={});var r={};return null!=e.image&&e.hasOwnProperty("image")&&(r.image=Qn.layers.ImageLayer.toObject(e.image,t),t.oneofs&&(r.kind="image")),null!=e.text&&e.hasOwnProperty("text")&&(r.text=Qn.layers.TextLayer.toObject(e.text,t),t.oneofs&&(r.kind="text")),null!=e.rect&&e.hasOwnProperty("rect")&&(r.rect=Qn.layers.RectLayer.toObject(e.rect,t),t.oneofs&&(r.kind="rect")),null!=e.line&&e.hasOwnProperty("line")&&(r.line=Qn.layers.LineLayer.toObject(e.line,t),t.oneofs&&(r.kind="line")),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},e}(),Yn.Page=function(){function e(e){if(this.layer=[],this.font=[],this.image=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.page=0,e.prototype.version=0,e.prototype.build="",e.prototype.width=0,e.prototype.height=0,e.prototype.usable=!1,e.prototype.rmse=0,e.prototype.fallback="",e.prototype.layer=Jn.emptyArray,e.prototype.font=Jn.emptyArray,e.prototype.image=Jn.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Zn.create()),null!=e.page&&Object.hasOwnProperty.call(e,"page")&&t.uint32(8).uint32(e.page),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(16).uint32(e.version),null!=e.build&&Object.hasOwnProperty.call(e,"build")&&t.uint32(26).string(e.build),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(32).uint32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(40).uint32(e.height),null!=e.usable&&Object.hasOwnProperty.call(e,"usable")&&t.uint32(48).bool(e.usable),null!=e.rmse&&Object.hasOwnProperty.call(e,"rmse")&&t.uint32(61).float(e.rmse),null!=e.fallback&&Object.hasOwnProperty.call(e,"fallback")&&t.uint32(66).string(e.fallback),null!=e.layer&&e.layer.length)for(var r=0;r<e.layer.length;++r)Qn.layers.Layer.encode(e.layer[r],t.uint32(74).fork()).ldelim();if(null!=e.font&&e.font.length)for(var n=0;n<e.font.length;++n)Qn.layers.Font.encode(e.font[n],t.uint32(82).fork()).ldelim();if(null!=e.image&&e.image.length)for(var i=0;i<e.image.length;++i)Qn.layers.Image.encode(e.image[i],t.uint32(90).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Kn||(e=Kn.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Qn.layers.Page;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.page=e.uint32();break;case 2:n.version=e.uint32();break;case 3:n.build=e.string();break;case 4:n.width=e.uint32();break;case 5:n.height=e.uint32();break;case 6:n.usable=e.bool();break;case 7:n.rmse=e.float();break;case 8:n.fallback=e.string();break;case 9:n.layer&&n.layer.length||(n.layer=[]),n.layer.push(Qn.layers.Layer.decode(e,e.uint32()));break;case 10:n.font&&n.font.length||(n.font=[]),n.font.push(Qn.layers.Font.decode(e,e.uint32()));break;case 11:n.image&&n.image.length||(n.image=[]),n.image.push(Qn.layers.Image.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Kn||(e=new Kn(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.page&&e.hasOwnProperty("page")&&!Jn.isInteger(e.page))return"page: integer expected";if(null!=e.version&&e.hasOwnProperty("version")&&!Jn.isInteger(e.version))return"version: integer expected";if(null!=e.build&&e.hasOwnProperty("build")&&!Jn.isString(e.build))return"build: string expected";if(null!=e.width&&e.hasOwnProperty("width")&&!Jn.isInteger(e.width))return"width: integer expected";if(null!=e.height&&e.hasOwnProperty("height")&&!Jn.isInteger(e.height))return"height: integer expected";if(null!=e.usable&&e.hasOwnProperty("usable")&&"boolean"!=typeof e.usable)return"usable: boolean expected";if(null!=e.rmse&&e.hasOwnProperty("rmse")&&"number"!=typeof e.rmse)return"rmse: number expected";if(null!=e.fallback&&e.hasOwnProperty("fallback")&&!Jn.isString(e.fallback))return"fallback: string expected";if(null!=e.layer&&e.hasOwnProperty("layer")){if(!Array.isArray(e.layer))return"layer: array expected";for(var t=0;t<e.layer.length;++t){var r=Qn.layers.Layer.verify(e.layer[t]);if(r)return"layer."+r}}if(null!=e.font&&e.hasOwnProperty("font")){if(!Array.isArray(e.font))return"font: array expected";for(var n=0;n<e.font.length;++n){var i=Qn.layers.Font.verify(e.font[n]);if(i)return"font."+i}}if(null!=e.image&&e.hasOwnProperty("image")){if(!Array.isArray(e.image))return"image: array expected";for(var o=0;o<e.image.length;++o){var a=Qn.layers.Image.verify(e.image[o]);if(a)return"image."+a}}return null},e.fromObject=function(e){if(e instanceof Qn.layers.Page)return e;var t=new Qn.layers.Page;if(null!=e.page&&(t.page=e.page>>>0),null!=e.version&&(t.version=e.version>>>0),null!=e.build&&(t.build=String(e.build)),null!=e.width&&(t.width=e.width>>>0),null!=e.height&&(t.height=e.height>>>0),null!=e.usable&&(t.usable=Boolean(e.usable)),null!=e.rmse&&(t.rmse=Number(e.rmse)),null!=e.fallback&&(t.fallback=String(e.fallback)),e.layer){if(!Array.isArray(e.layer))throw TypeError(".layers.Page.layer: array expected");t.layer=[];for(var r=0;r<e.layer.length;++r){if("object"!=typeof e.layer[r])throw TypeError(".layers.Page.layer: object expected");t.layer[r]=Qn.layers.Layer.fromObject(e.layer[r])}}if(e.font){if(!Array.isArray(e.font))throw TypeError(".layers.Page.font: array expected");t.font=[];for(var n=0;n<e.font.length;++n){if("object"!=typeof e.font[n])throw TypeError(".layers.Page.font: object expected");t.font[n]=Qn.layers.Font.fromObject(e.font[n])}}if(e.image){if(!Array.isArray(e.image))throw TypeError(".layers.Page.image: array expected");t.image=[];for(var i=0;i<e.image.length;++i){if("object"!=typeof e.image[i])throw TypeError(".layers.Page.image: object expected");t.image[i]=Qn.layers.Image.fromObject(e.image[i])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.layer=[],r.font=[],r.image=[]),t.defaults&&(r.page=0,r.version=0,r.build="",r.width=0,r.height=0,r.usable=!1,r.rmse=0,r.fallback=""),null!=e.page&&e.hasOwnProperty("page")&&(r.page=e.page),null!=e.version&&e.hasOwnProperty("version")&&(r.version=e.version),null!=e.build&&e.hasOwnProperty("build")&&(r.build=e.build),null!=e.width&&e.hasOwnProperty("width")&&(r.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(r.height=e.height),null!=e.usable&&e.hasOwnProperty("usable")&&(r.usable=e.usable),null!=e.rmse&&e.hasOwnProperty("rmse")&&(r.rmse=t.json&&!isFinite(e.rmse)?String(e.rmse):e.rmse),null!=e.fallback&&e.hasOwnProperty("fallback")&&(r.fallback=e.fallback),e.layer&&e.layer.length){r.layer=[];for(var n=0;n<e.layer.length;++n)r.layer[n]=Qn.layers.Layer.toObject(e.layer[n],t)}if(e.font&&e.font.length){r.font=[];for(var i=0;i<e.font.length;++i)r.font[i]=Qn.layers.Font.toObject(e.font[i],t)}if(e.image&&e.image.length){r.image=[];for(var o=0;o<e.image.length;++o)r.image[o]=Qn.layers.Image.toObject(e.image[o],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},e}(),Yn),Qn.text=(($n={}).TextBlock=function(){function e(e){if(this.matrix=[],this.charOffset=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.text="",e.prototype.height=0,e.prototype.matrix=Jn.emptyArray,e.prototype.charOffset=Jn.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Zn.create()),null!=e.text&&Object.hasOwnProperty.call(e,"text")&&t.uint32(10).string(e.text),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(21).float(e.height),null!=e.matrix&&e.matrix.length){t.uint32(26).fork();for(var r=0;r<e.matrix.length;++r)t.float(e.matrix[r]);t.ldelim()}if(null!=e.charOffset&&e.charOffset.length){t.uint32(34).fork();for(var n=0;n<e.charOffset.length;++n)t.int32(e.charOffset[n]);t.ldelim()}return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Kn||(e=Kn.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Qn.text.TextBlock;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.text=e.string();break;case 2:n.height=e.float();break;case 3:if(n.matrix&&n.matrix.length||(n.matrix=[]),2==(7&i))for(var o=e.uint32()+e.pos;e.pos<o;)n.matrix.push(e.float());else n.matrix.push(e.float());break;case 4:if(n.charOffset&&n.charOffset.length||(n.charOffset=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)n.charOffset.push(e.int32());else n.charOffset.push(e.int32());break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Kn||(e=new Kn(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.text&&e.hasOwnProperty("text")&&!Jn.isString(e.text))return"text: string expected";if(null!=e.height&&e.hasOwnProperty("height")&&"number"!=typeof e.height)return"height: number expected";if(null!=e.matrix&&e.hasOwnProperty("matrix")){if(!Array.isArray(e.matrix))return"matrix: array expected";for(var t=0;t<e.matrix.length;++t)if("number"!=typeof e.matrix[t])return"matrix: number[] expected"}if(null!=e.charOffset&&e.hasOwnProperty("charOffset")){if(!Array.isArray(e.charOffset))return"charOffset: array expected";for(var r=0;r<e.charOffset.length;++r)if(!Jn.isInteger(e.charOffset[r]))return"charOffset: integer[] expected"}return null},e.fromObject=function(e){if(e instanceof Qn.text.TextBlock)return e;var t=new Qn.text.TextBlock;if(null!=e.text&&(t.text=String(e.text)),null!=e.height&&(t.height=Number(e.height)),e.matrix){if(!Array.isArray(e.matrix))throw TypeError(".text.TextBlock.matrix: array expected");t.matrix=[];for(var r=0;r<e.matrix.length;++r)t.matrix[r]=Number(e.matrix[r])}if(e.charOffset){if(!Array.isArray(e.charOffset))throw TypeError(".text.TextBlock.charOffset: array expected");t.charOffset=[];for(var n=0;n<e.charOffset.length;++n)t.charOffset[n]=0|e.charOffset[n]}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.matrix=[],r.charOffset=[]),t.defaults&&(r.text="",r.height=0),null!=e.text&&e.hasOwnProperty("text")&&(r.text=e.text),null!=e.height&&e.hasOwnProperty("height")&&(r.height=t.json&&!isFinite(e.height)?String(e.height):e.height),e.matrix&&e.matrix.length){r.matrix=[];for(var n=0;n<e.matrix.length;++n)r.matrix[n]=t.json&&!isFinite(e.matrix[n])?String(e.matrix[n]):e.matrix[n]}if(e.charOffset&&e.charOffset.length){r.charOffset=[];for(var i=0;i<e.charOffset.length;++i)r.charOffset[i]=e.charOffset[i]}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},e}(),$n.Page=function(){function e(e){if(this.textBlock=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.pageNumber=0,e.prototype.width=0,e.prototype.height=0,e.prototype.textBlock=Jn.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Zn.create()),null!=e.pageNumber&&Object.hasOwnProperty.call(e,"pageNumber")&&t.uint32(8).uint32(e.pageNumber),null!=e.width&&Object.hasOwnProperty.call(e,"width")&&t.uint32(16).uint32(e.width),null!=e.height&&Object.hasOwnProperty.call(e,"height")&&t.uint32(24).uint32(e.height),null!=e.textBlock&&e.textBlock.length)for(var r=0;r<e.textBlock.length;++r)Qn.text.TextBlock.encode(e.textBlock[r],t.uint32(34).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Kn||(e=Kn.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Qn.text.Page;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.pageNumber=e.uint32();break;case 2:n.width=e.uint32();break;case 3:n.height=e.uint32();break;case 4:n.textBlock&&n.textBlock.length||(n.textBlock=[]),n.textBlock.push(Qn.text.TextBlock.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Kn||(e=new Kn(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.pageNumber&&e.hasOwnProperty("pageNumber")&&!Jn.isInteger(e.pageNumber))return"pageNumber: integer expected";if(null!=e.width&&e.hasOwnProperty("width")&&!Jn.isInteger(e.width))return"width: integer expected";if(null!=e.height&&e.hasOwnProperty("height")&&!Jn.isInteger(e.height))return"height: integer expected";if(null!=e.textBlock&&e.hasOwnProperty("textBlock")){if(!Array.isArray(e.textBlock))return"textBlock: array expected";for(var t=0;t<e.textBlock.length;++t){var r=Qn.text.TextBlock.verify(e.textBlock[t]);if(r)return"textBlock."+r}}return null},e.fromObject=function(e){if(e instanceof Qn.text.Page)return e;var t=new Qn.text.Page;if(null!=e.pageNumber&&(t.pageNumber=e.pageNumber>>>0),null!=e.width&&(t.width=e.width>>>0),null!=e.height&&(t.height=e.height>>>0),e.textBlock){if(!Array.isArray(e.textBlock))throw TypeError(".text.Page.textBlock: array expected");t.textBlock=[];for(var r=0;r<e.textBlock.length;++r){if("object"!=typeof e.textBlock[r])throw TypeError(".text.Page.textBlock: object expected");t.textBlock[r]=Qn.text.TextBlock.fromObject(e.textBlock[r])}}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.textBlock=[]),t.defaults&&(r.pageNumber=0,r.width=0,r.height=0),null!=e.pageNumber&&e.hasOwnProperty("pageNumber")&&(r.pageNumber=e.pageNumber),null!=e.width&&e.hasOwnProperty("width")&&(r.width=e.width),null!=e.height&&e.hasOwnProperty("height")&&(r.height=e.height),e.textBlock&&e.textBlock.length){r.textBlock=[];for(var n=0;n<e.textBlock.length;++n)r.textBlock[n]=Qn.text.TextBlock.toObject(e.textBlock[n],t)}return r},e.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},e}(),$n.Document=function(){function e(e){if(this.page=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.page=Jn.emptyArray,e.prototype.build="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=Zn.create()),null!=e.page&&e.page.length)for(var r=0;r<e.page.length;++r)Qn.text.Page.encode(e.page[r],t.uint32(10).fork()).ldelim();return null!=e.build&&Object.hasOwnProperty.call(e,"build")&&t.uint32(18).string(e.build),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof Kn||(e=Kn.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new Qn.text.Document;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.page&&n.page.length||(n.page=[]),n.page.push(Qn.text.Page.decode(e,e.uint32()));break;case 2:n.build=e.string();break;default:e.skipType(7&i)}}return n},e.decodeDelimited=function(e){return e instanceof Kn||(e=new Kn(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.page&&e.hasOwnProperty("page")){if(!Array.isArray(e.page))return"page: array expected";for(var t=0;t<e.page.length;++t){var r=Qn.text.Page.verify(e.page[t]);if(r)return"page."+r}}return null!=e.build&&e.hasOwnProperty("build")&&!Jn.isString(e.build)?"build: string expected":null},e.fromObject=function(e){if(e instanceof Qn.text.Document)return e;var t=new Qn.text.Document;if(e.page){if(!Array.isArray(e.page))throw TypeError(".text.Document.page: array expected");t.page=[];for(var r=0;r<e.page.length;++r){if("object"!=typeof e.page[r])throw TypeError(".text.Document.page: object expected");t.page[r]=Qn.text.Page.fromObject(e.page[r])}}return null!=e.build&&(t.build=String(e.build)),t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.page=[]),t.defaults&&(r.build=""),e.page&&e.page.length){r.page=[];for(var n=0;n<e.page.length;++n)r.page[n]=Qn.text.Page.toObject(e.page[n],t)}return null!=e.build&&e.hasOwnProperty("build")&&(r.build=e.build),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,W.util.toJSONOptions)},e}(),$n);var li={_pool:[],get(){return this._pool.length?this._pool.pop():document.createElement("canvas")},release(e){this._pool.push(e)}};class hi extends Error{constructor(e,t){super(e),this.textRender=t}}function di(e){return"rgba("+e.join()+")"}var pi=null,fi="NOT_FOUND",gi=function(e,t){return e===t};function mi(e,t){var r,n,i="object"==typeof t?t:{equalityCheck:t},o=i.equalityCheck,a=void 0===o?gi:o,s=i.maxSize,u=void 0===s?1:s,c=i.resultEqualityCheck,l=function(e){return function(t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,i=0;i<n;i++)if(!e(t[i],r[i]))return!1;return!0}}(a),h=1===u?(r=l,{get:function(e){return n&&r(n.key,e)?n.value:fi},put:function(e,t){n={key:e,value:t}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}):function(e,t){var r=[];function n(e){var n=r.findIndex((function(r){return t(e,r.key)}));if(n>-1){var i=r[n];return n>0&&(r.splice(n,1),r.unshift(i)),i.value}return fi}return{get:n,put:function(t,i){n(t)===fi&&(r.unshift({key:t,value:i}),r.length>e&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(u,l);function d(){var t=h.get(arguments);if(t===fi){if(t=e.apply(null,arguments),c){var r=h.getEntries(),n=r.find((function(e){return c(e.value,t)}));n&&(t=n.value)}h.put(arguments,t)}return t}return d.clearCache=function(){return h.clear()},d}function vi(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var r=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return t}function yi(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o,a=0,s={memoizeOptions:void 0},u=n.pop();if("object"==typeof u&&(s=u,u=n.pop()),"function"!=typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var c=s,l=c.memoizeOptions,h=void 0===l?r:l,d=Array.isArray(h)?h:[h],p=vi(n),f=e.apply(void 0,[function(){return a++,u.apply(null,arguments)}].concat(d)),g=e((function(){for(var e=[],t=p.length,r=0;r<t;r++)e.push(p[r].apply(null,arguments));return o=f.apply(null,e)}));return Object.assign(g,{resultFunc:u,memoizedResultFunc:f,dependencies:p,lastResult:function(){return o},recomputations:function(){return a},resetRecomputations:function(){return a=0}}),g};return i}var bi=yi(mi),_i="READER_POSITION_CHANGED";function wi(e,t,r,n,i,o,a,s,u){return{type:_i,currentSpreadIndex:t,currentPageNumber:r,currentPageNumbers:n,positionInPercent:i,visiblePageNumbers:e,positionInPercentHasChanged:o,currentPagesHasChanged:a,visiblePagesHasChanged:s,isDragging:u}}var xi="@reader3/document/DOCUMENTLOADED",Ei={description:"",originalPublishDate:"",documentPath:{type:"user",username:"",documentName:""},userDisplayName:"",downloadable:!1,isAdsafe:!1,isPaywallPreview:!1,isPromotedContent:!1,publicationId:"",revisionId:"",title:""};function Oi(e){return e.pages.pages}function Ti(e){return e.metadata}var Si=bi(Ti,Oi,((e,t)=>({documentId:e.revisionId+"-"+e.publicationId,documentPath:e.documentPath,publicationId:e.publicationId,revisionId:e.revisionId,title:e.title,coverUri:ki(t),pageCount:t.length,userDisplayName:e.userDisplayName,description:e.description,originalPublishDate:e.originalPublishDate,isPaywallPreview:e.isPaywallPreview,isPromotedContent:e.isPromotedContent}))),Pi=bi(Si,(e=>e.pageCount));function ki(e){return e[0]?""+Ue+e[0].imageUri:""}var Ai=bi(Oi,(e=>ki(e))),Ii=bi(Ti,(e=>e.title));function Ri(e,t){if(void 0===e&&(e=Ei),t.type===xi){var r=t.doc;return{description:r.description,originalPublishDate:r.originalPublishDate,documentPath:r.documentPath,userDisplayName:r.userDisplayName,downloadable:r.downloadable,isAdsafe:!!(r.contentRating&&r.contentRating.isReviewed&&r.contentRating.isAdsafe),isPaywallPreview:r.isPaywalled,isPromotedContent:e.isPromotedContent,protectedContentUrlId:r.protectedContentUrlId,publicationId:r.publicationId,revisionId:r.revisionId,title:r.title}}return e}function ji(e,t){return"DOUBLE_PAGE_SPREAD"===e?1===t?0:Math.floor(t/2):t-1}function Ci(e){var{pages:t}=e;return t.findIndex((e=>e.isPagePaywalled))>=0}function Di(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ni(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(r),!0).forEach((function(t){Li(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Di(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Li(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Mi="@reader3/find/TEXT_INFO_STATE_INITIAL",Fi="@reader3/find/TEXT_INFO_STATE_REQUESTED",Bi="@reader3/find/TEXT_INFO_STATE_FAILED",Ui="@reader3/find/LOADING_STATE_LOADING",zi="@reader3/find/LOADING_STATE_READY",Hi="@reader3/find/LOADING_STATE_FAILED",Wi="@reader3/find/FIND_OPEN_DIALOG",Gi="@reader3/find/FIND_SET_CURRENT_RESULT",Vi="@reader3/find/FIND_SET_TEXT_INFO_URL",qi="@reader3/find/FIND_SET_TEXT_INFO_REQUESTED",Yi="@reader3/find/FIND_SET_TEXT_INFO_FAILED",$i="@reader3/find/FIND_SET_TEXT_INFO",Xi="@reader3/find/FIND_SET_RESULTS",Ki="@reader3/find/FIND_SET_LATEST_QUERY",Zi={isVisible:!1,results:null,textInfoUrl:null,version:null,currentResultIdx:null,latestQuery:"",textInfo:Mi,loadTextInfo:function(e){return e.match(/\.json(?:\?.*)$/)?Hn(e,!1).then(ui):Xn(e,!1).then(ci)}};function Ji(){return(e,t)=>{var{textInfo:r}=t().find;switch(r){case Mi:case Bi:return e(((e,t)=>{var{find:{textInfoUrl:r,loadTextInfo:n}}=t();if(!r)throw new Error("attempting to find with textInfoUrl unset!");return e({type:qi}),n(""+Ue+r).then((t=>{e({type:$i,textInfo:t})})).catch((()=>{e({type:Yi})}))}));default:return Promise.resolve()}}}function Qi(){return e=>(e({type:Wi}),e(Ji()),Promise.resolve())}var eo=e=>e.find.isVisible,to=e=>e.find.latestQuery;function ro(e){return!to(e)||e.find.textInfo!==Fi&&e.find.textInfo!==Mi?e.find.textInfo===Bi?Hi:zi:Ui}var no=bi((e=>e.find.results),(e=>e||[])),io=e=>Array.isArray(e.find.results)?e.find.results.length:null,oo=e=>"number"==typeof e.find.currentResultIdx?e.find.currentResultIdx:0,ao=bi(no,oo,((e,t)=>e[t])),so=bi((e=>e.find.textInfo),(e=>e instanceof Object?e.pages.map((e=>({width:e.width,height:e.height,pageNumber:e.pageNumber}))):[])),uo=e=>!!e.find.textInfoUrl;function co(e){return(t,r)=>{var n=r().reader.currentPageNumber;return t(function(e,t){return(r,n)=>(r({type:Ki,value:e}),r(Ji()).then((()=>{var{textInfo:i}=n().find;if(e&&i instanceof Object){var o=function(e,t){var r=[];if(!(e=e.trim()).length)return r;var n=function(e){for(var t="",r=e.length,n=0;n<r;n++){var i=e[n];i.match(In)?(t+=i.replace(An,"\\$&"),t+="\n?"):t+=" "}return t=t.replace(/[ ]+/g,"\\s+"),new RegExp(t,"mig")}(e=kn(e));for(var i of t.pages)for(var o=n.exec(i.text);o;o=n.exec(i.text))r.push({pageNo:i.pageNumber,result:Rn(o.index,o[0].length,i.textBlocks)});return r}(e,i),a=o.findIndex((e=>e.pageNo>=t));return r({type:Xi,results:o,currentResultIdx:a<0?o.length-1:a})}return r({type:Xi,results:null,currentResultIdx:null})})))}(e,n)).then((()=>{var e=r(),t=ao(e);t&&e.canvasApi.jumpToPage(t.pageNo)}))}}function lo(e){return(t,r)=>t(function(e){return t=>Promise.resolve(t({type:Gi,idx:e}))}(e)).then((()=>{var e=r(),t=ao(e);t&&e.canvasApi.jumpToPage(t.pageNo)}))}var ho=e=>{var t=e.canvasApi;return t&&t.getReadMode()},po=bi(ho,Si,((e,t)=>{var{pageCount:r}=t;if(e&&r)return ji(e,r);throw new Error("How did we even get here?")})),fo=bi(eo,po,ho,no,((e,t,r,n)=>{if(!e||!r)return[];if(0===t)return[0];var i=n.reduce(((e,t)=>e.add(ji(r,t.pageNo))),new Set);return Array.from(i).map((e=>e*(1/t)))})),go=e=>e.canvasApi;function mo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mo(Object(r),!0).forEach((function(t){yo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function yo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bo(e){return e.pages.pages}var _o=bi(bo,(e=>e.map((e=>{var{imageUri:t,layersInfo:r}=e;return"object"==typeof r&&r.uri&&(r=vo(vo({},r),{},{uri:""+Ue+r.uri})),t=""+Ue+t,vo(vo({},e),{},{layersInfo:r,imageUri:t,dominantColor:e.dominantColor})})))),wo=bi(_o,(e=>e.links.pages),((e,t)=>e.map(((e,r)=>{var n=t[r];return n?n.links:[]})))),xo=bi(_o,wo,Si,so,no,ao,((e,t,r,n,i,o)=>e.map(((e,a)=>vo(vo({},e),{},{links:t[a],pageNumber:a+1,documentId:r.documentId,textInfoPage:n.find((e=>e.pageNumber===a+1)),findResults:i.reduce(((e,t)=>(t.pageNo===a+1&&e.push(t.result),e)),[]),selectedFindResult:o&&o.pageNo===a+1?o.result:null}))))),Eo=bi(xo,(e=>function(e){var t=[],r=e.length;if(r>0){t.push({pages:[e[0]]});for(var n=1;n<r-1;n+=2)t.push({pages:[e[n],e[n+1]]});r%2==0&&t.push({pages:[e[r-1]]})}return t}(e))),Oo=e=>e.metadata.isPaywallPreview,To=bi((e=>e.metadata),bo,((e,t)=>e.isPaywallPreview?t.reduce(((e,t,r)=>(t.isPagePaywalled&&e.push(r+1),e)),[]):[]));function So(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Po(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?So(Object(r),!0).forEach((function(t){ko(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):So(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ko(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ao="@licenses/status/LOADED",Io="@licenses/status/FAILED",Ro="customization_set_bg_color",jo="customization_disable_share",Co="customization_remove_link_below",Do="customization_set_bg_image",No="customization_set_logo",Lo="customization_show_my_other_publications",Mo="norelated";function Fo(e){return bi((e=>e.licenses),(t=>{var{isDisabled:r,status:n,list:i}=t;return!(!r&&n!==Io)||n===Ao&&i.includes(e)}))}var Bo=Fo(Ro),Uo=Fo(jo),zo=(Fo(Co),Fo(Do)),Ho=Fo(No),Wo=Fo("embed"),Go=Fo(Lo),Vo=Fo(Mo),qo=bi((e=>e.licenses),(e=>{var{status:t,list:r}=e;return t===Io||t===Ao&&r.includes("hide_ads_in_reader")})),Yo=(bi((e=>e.licenses),(e=>{var{status:t,list:r}=e;return t===Ao&&r.includes("inpub_ads")})),bi((e=>e.licenses),(e=>{var{status:t,list:r}=e;return t===Ao&&r.includes("download")}))),$o="@reader3/licenses/LICENSES_LOAD_SUCCESS";function Xo(e){return{list:e,type:$o}}var Ko="@reader3/licenses/LICENSES_LOAD_FAILED",Zo=e=>({isDisabled:e,status:"@licenses/status/NOT_LOADED",list:[]}),Jo="reader-sizes@TINY",Qo="reader-sizes@SMALL",ea=()=>Math.min(window.screen.width,window.screen.height),ta=()=>!!window.FEATURE_TEST_IS_TOUCH||"ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0,ra=()=>ta()&&ea()<480,na=()=>ta()&&!ra()&&ea()<=1024;function ia(){return Math.max(2,window.devicePixelRatio||2)}function oa(e,t){return!(!e||"FALLBACK"!==e.kind)||t}function aa(e,t,r,n){var i=function(){try{return window.matchMedia("(orientation: portrait)").matches}catch(e){return window.innerHeight>window.innerWidth}}(),o=ra()||na(),a=ra()&&i,s=o&&i;switch(n.responsiveModeWhen){case"HANDHELD_IN_PORTRAIT_IN_FULLSCREEN":if(s&&r)return"SINGLE_PAGE_SPREAD";break;case"HANDHELD_IN_PORTRAIT":if(s)return"SINGLE_PAGE_SPREAD";break;case"PHONE_ISH_IN_PORTRAIT":var u=480*ia();if(a||e<=u&&e<t)return"SINGLE_PAGE_SPREAD"}return n.defaultMode}var sa=e=>e.features,ua=bi(sa,(e=>e.hideFullScreenButton));function ca(e){return bi((e=>e.features.controls),(t=>{for(var r=0;r<t.length;r++)if(t[r].type===e)return t[r]}))}var la=e=>e.reader,ha=ca("FEATURE_ZOOM"),da=ca("FEATURE_ISSUU_BRANDING"),pa=ca("FEATURE_NAVIGATION_LINK"),fa=ca("FEATURE_SHARE_DIALOG"),ga=ca("FEATURE_NAVIGATION_ARROWS"),ma=ca("FEATURE_FULLSCREEN"),va=bi(sa,(e=>e.links)),ya=bi(sa,(e=>e.canUseCredentials)),ba=bi(ma,(e=>e.fullscreen.enabled),((e,t)=>oa(e,t))),_a=bi((e=>e.fullscreen),(e=>e.supported)),wa=bi(la,(e=>e.interactingWithControls)),xa=bi(la,(e=>e.zoomLevel)),Ea=bi(xa,(e=>25*(e-1))),Oa=bi(la,(e=>e.largeViewState)),Ta=bi(la,(e=>e.positionInPercent)),Sa=bi(la,(e=>e.currentPageNumbers)),Pa=(bi(la,(e=>e.currentPageNumber)),bi((e=>e.features.readModeRules),ba,(e=>e.size.width),(e=>e.size.height),((e,t,r,n)=>aa(r,n,t,e)))),ka=bi(la,(e=>e.smartzoomTutorialVisibility)),Aa=bi(Pa,xo,Eo,((e,t,r)=>"DOUBLE_PAGE_SPREAD"===e?r:t.map((e=>({pages:[e]}))))),Ia=bi(Sa,Pa,((e,t)=>ji(t,e[0]))),Ra=bi(Pa,Si,((e,t)=>{var{pageCount:r}=t;return ji(e,r)})),ja=bi(Ia,Ra,((e,t)=>e===t)),Ca=bi(Ia,(e=>0===e)),Da=bi((e=>e.features),(e=>e.reader),(e=>e.headerControls),(e=>e.find),((e,t,r,n)=>{var{showControlsUntilFirstInteraction:i}=e,{interactedWithReader:o,hoveringOverControls:a,interactingWithControls:s,isIdle:u}=t,{visibleDropdown:c,readMoreDropdownVisible:l}=r,{isVisible:h}=n;return!!(a||s||null!==c||l||i&&!o||h)||!u})),Na=bi((e=>e.size.width),(e=>e.size.height),((e,t)=>{var r=ia();return Math.floor(e/r)+"x"+Math.floor(t/r)})),La=bi((e=>e.size.width),(e=>e.size.height),((e,t)=>{var r=ia();return e<=200*r||t<=150*r?Jo:e<=400*r||t<=300*r?Qo:"reader-sizes@NORMAL"})),Ma=bi(La,ba,((e,t)=>(e===Jo||e===Qo)&&!t)),Fa=bi(La,da,((e,t)=>!(e===Jo||!t))),Ba=bi(ba,Bo,(e=>e.features.backgroundColor),(e=>e.features.fullscreenBackgroundColor),((e,t,r,n)=>e?n&&t?n:"#353535":r||"#353535")),Ua=bi(ba,zo,(e=>e.features.backgroundImage),((e,t,r)=>{if(r&&t&&(e||!r.hideWhenNotInFullscreen))return r})),za=bi(ba,Ho,(e=>e.features.logo),((e,t,r)=>{if(r&&t&&(e||!r.hideWhenNotInFullscreen))return r})),Ha=e=>e.config.embedTrackingQuery,Wa=bi(Si,(e=>{var{documentPath:t}=e;return"user"===t.type?"/"+t.username+"/docs/"+t.documentName:"/docs/"+t.publicationId})),Ga=bi((e=>e.config.origins.main),Wa,Sa,((e,t,r)=>""+e+t+"/"+r[0])),Va=bi(Wa,Sa,((e,t)=>{var r="https://issuu.com"+e,n=t[0];return n>1?r+"/"+n:r})),qa=bi((e=>e.headerControls),(e=>{var{visibleDropdown:t,readMoreDropdownVisible:r}=e;return null!==t||r})),Ya=bi((e=>e.headerControls.readMoreDropdownVisible),(e=>e.readmore.exitedFullscreen),Ka,Go,Vo,((e,t,r,n,i)=>{var o=!(!r||!r.shouldRenderExitFullscreenOverlay(n,i));return e||t&&o})),$a=bi(ma,Ma,((e,t)=>!!(e&&"overlayOnSmallReaders"in e&&e.overlayOnSmallReaders&&t))),Xa=bi(Sa,(e=>e.smartnav),((e,t)=>t.pages.some((t=>e.includes(t.pageNumber)&&t.blocks.length>0))));function Ka(e){return e.readMorePlugin}var Za=bi($a,ba,Sa,Xa,eo,(e=>e.headerControls),((e,t,r,n,i,o)=>{var{visibleDropdown:a}=o;return!e&&t&&ra()&&n&&!(1===r.length&&1===r[0])&&!i&&!a})),Ja=bi((e=>e.reader.targetSpreadIndex),Ia,((e,t)=>e>-1?e:t)),Qa=bi(Ja,Aa,((e,t)=>function(e,t){var r=t.length;if(e>=r-1)return-1;if(!Ci(t[e]))return e+1;for(var n=e+1;n<r;n++)if(!Ci(t[n]))return n;return-1}(e,t))),es=bi(Ja,Aa,((e,t)=>function(e,t){if(e<1)return-1;if(!Ci(t[e]))return e-1;for(var r=e-1;r>=0;r--)if(!Ci(t[r]))return r;return-1}(e,t))),ts=bi(Sa,bo,((e,t)=>Ci({pages:e.map((e=>t[e-1]))}))),rs="SET_TARGET_SPREAD_INDEX",ns="SET_INTERACTING_WITH_CONTROLS",is="SET_INTERACTED_WITH_READER",os="READER_ZOOM_LEVEL_CHANCED",as=is;function ss(e){return{type:"SET_HOVERING_OVER_CONTROLS",val:e}}function us(e){return(t,r)=>{var n=r(),i=Ra(n),o=Math.max(0,Math.min(e,i));t(function(e){return{type:rs,index:e}}(o));var a=r().canvasApi;a&&a.goToSpread(o)}}function cs(){return(e,t)=>{var r=t(),n=es(r);return-1===n&&(n=0),e(us(n))}}function ls(){return(e,t)=>{var r=t(),n=Qa(r);return-1===n&&(n=Ra(r)),e(us(n))}}function hs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ds(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hs(Object(r),!0).forEach((function(t){ps(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ps(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fs="show_video_overlay",gs="hide_video_overlay",ms="video_info_load_success",vs="video_info_load_error",ys="explicit",bs="safe",_s="unknown",ws="error";function xs(){return{type:gs}}function Es(e,t){return e.service===t.service&&e.videoId===t.videoId}var Os={showOverlay:!1,service:null,videoId:null,videoUrl:null,videoInfo:_s};function Ts(e,t){switch(void 0===e&&(e=Os),t.type){case fs:return ds(ds({},e),{},{showOverlay:!0,service:t.service,videoId:t.videoId,videoUrl:t.videoUrl,videoInfo:Es(e,t)?e.videoInfo:_s});case gs:return ds(ds({},e),{},{showOverlay:!1});case ms:case vs:return Es(e,t)?ds(ds({},e),{},{videoInfo:t.videoInfo}):e;default:return e}}function Ss(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ps(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ss(Object(r),!0).forEach((function(t){ks(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ss(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ks(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var As="LINK_CLICKED",Is="@reader3/document/LINKSLOADED",Rs={loaded:!1,pages:[]};function js(e,t){if(void 0===e&&(e=Rs),t.type===Is){for(var r=t.clippings||{},n=Object.keys(r).map((e=>parseInt(e,10))).filter((e=>!isNaN(e)&&isFinite(e))),i=Math.max(0,...n),o=[],a=function(e){o[e]={links:(r[e+1]||[]).map((t=>Ps(Ps({},t),{},{page:{pageNumber:e+1}})))}},s=0;s<i;s++)a(s);return{loaded:!0,pages:o}}return e}function Cs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ds(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(r),!0).forEach((function(t){Ns(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ns(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ls="SMARTNAV_LOADED",Ms={pages:[]};function Fs(e,t){return void 0===e&&(e=Ms),t.type===Ls?Ds(Ds({},e),t.smartnav):e}function Bs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Us(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bs(Object(r),!0).forEach((function(t){zs(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Hs="@reader3/init/DOCUMENTLOADING",Ws="@reader3/init/DOCUMENTLOAD_SUCCESS",Gs="@reader3/init/DOCUMENTLOAD_FAILURE",Vs="@reader3/init/DOCUMENTLOAD_ABOUT_TO_SUCCESS";function qs(e){return(t,r)=>{var n;return t((n=Date.now(),{type:Hs,timeStamp:n})),e.whenDocumentBaseFetched().then((n=>{var i=e.whenDocumentExtraFetched().then((e=>{return t((r=Us(Us({licenses:[],clippings:{}},n),e),{type:xi,doc:r}));var r})),o=e.whenLicensesFetched().then((e=>t(Xo(e)))).catch((()=>t({type:Ko})));e.whenDocumentLinksFetched().then((e=>t({type:Is,clippings:e}))),e.whenDocumentTextFetched().then((e=>{var{textInfoPath:r,textInfoVersion:n}=e;return t({type:Vi,url:r,version:n})}));var a=r();return e.whenSmartnavFetched().then((e=>t(function(e){return{type:Ls,smartnav:e}}({pages:e})))).catch((async e=>{if(!(e instanceof ie))throw e instanceof oe||e instanceof ae?e:new Error(ee.SmartzoomNotLoaded);var t,r;await(t=a.config.origins.api,r=n.revisionId+"-"+n.publicationId,fetch(t+"/call/backend-reader3/notify-smartzoom-missing?document_id="+r,{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}})).catch((()=>{throw new Error("Smart Zoom Assets Missing Notification failed")}))})),Promise.all([i,o])})).then((()=>{var e=r(),{size:{width:n,height:i},reader:{initialPageNumber:o},features:a,fullscreen:s}=e,u=Math.max(1,Math.min(Si(e).pageCount,o)),c=aa(n,i,oa(a.controls.find((e=>"FEATURE_FULLSCREEN"===e.type)),s.enabled),a.readModeRules),l=ji(c,u),h=("DOUBLE_PAGE_SPREAD"===c?Eo(e)[l].pages:[xo(e)[l]]).map((e=>e.pageNumber));return t(function(e,t,r,n){return{timeStamp:e,pageNumber:t,targetSpreadIndex:r,currentPageNumbers:n,type:Vs}}(Date.now(),u,l,h))})).catch((e=>{Vt(e,{tags:{errorOrigin:"document-load-fetchDocument"}}),t(function(e,t){return{type:Gs,error:e,timeStamp:t}}(e,Date.now()))}))}}var Ys="Space",$s="ArrowLeft",Xs="ArrowRight",Ks=null;function Zs(e){return void 0===e&&(e=!0),(t,r)=>{var n=r();n.reader.isIdle&&t({type:"SET_IS_IDLE",isIdle:!1}),Ks&&clearTimeout(Ks),Ks=null,e&&(Ks=setTimeout((()=>{t({type:"SET_IS_IDLE",isIdle:!0})}),function(e){var t=e.reader.zoomLevel;return ba(e)||$a(e)||1!==t?3e3:31536e6}(n)))}}function Js(){return(e,t)=>{t().reader.isIdle||e({type:"SET_IS_IDLE",isIdle:!0}),Ks&&(clearTimeout(Ks),Ks=null)}}function Qs(e){return(t,r)=>{var n=[Ys,Xs].includes(e),i=[$s].includes(e),o=Ia(r()),a=Ra(r());t(i&&o>1||n&&o+1<a?Js():Zs())}}function eu(){return e=>{e(Zs())}}function tu(){return e=>{e(Zs())}}var ru=NaN;function nu(){return(e,t)=>{isNaN(ru)&&(ru=t().reader.zoomLevel),e(1!==ru?Js():Zs())}}function iu(){return(e,t)=>{var r=t().reader.zoomLevel;e(1!==ru&&1!==r?Js():Zs()),ru=NaN}}var ou=bi((e=>e.readMorePlugin),(e=>e.readmore.loaded),La,((e,t,r)=>!(!e||!t||r===Jo))),au=e=>{var t=e.readMorePlugin;return t&&t.getButtonUnreadCount()||0},su=bi(ou,(e=>e.readMorePlugin),$a,ba,Go,Vo,((e,t,r,n,i,o)=>!(!e||r||!t)&&t.shouldRenderButton(i,o,n))),uu=(bi(ou,(e=>e.readMorePlugin),Go,Vo,((e,t,r,n)=>e&&t&&t.shouldRenderExitFullscreenOverlay(r,n))),bi(ou,(e=>e.readMorePlugin),(e=>e.readmore.forceOverlay),(e=>e.size.width),(e=>e.size.height),((e,t,r,n,i)=>{if(e&&t){var o=n<i,a=!o,s=ia();return r||t.shouldAlwaysBeOverlay()||o&&n<=414*s||a&&n<=736*s}return!1}))),cu=bi(ga,Da,Ya,$a,uu,(e=>e.reader.zoomLevel),((e,t,r,n,i,o)=>!!e&&(!i||!r)&&(t||n||1===o))),lu=bi(cu,Ca,Ia,((e,t,r)=>e&&!t&&r>-1)),hu=bi(cu,ja,Ia,((e,t,r)=>e&&!t&&r>-1));function du(e){return t=>{function r(r){return e(t,r)}return r.isServiced=!0,r}}function pu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pu(Object(r),!0).forEach((function(t){gu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mu=du((function(e,t){var{isBlur:r}=e,{getState:n,featureTracker:i,setState:o}=t;i.usage(r?"FIND_CLOSE_BLUR":"FIND_CLOSE");var a=n();o(fu(fu({},a),{},{find:fu(fu({},a.find),{},{isVisible:!1})}))})),vu="FULLSCREEN@FULLSCREEN_API",yu={request:["requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"],exit:["exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],enabled:["fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled"],element:["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"],change:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"],error:["fullscreenerror","webkitfullscreenerror","mozfullscreenerror","msfullscreenerror"]};function bu(e,t){"onmsfullscreenchange"in document||"msfullscreenerror"in document?document["on"+e]=t:document.addEventListener(e,t)}function _u(e,t){"onmsfullscreenchange"in document||"msfullscreenerror"in document?document["on"+e]=null:document.removeEventListener(e,t)}function wu(e){var t=yu.change.filter((e=>"on"+e in document))[0];document.addEventListener(t,e)}function xu(e){var t=yu.change.filter((e=>"on"+e in document))[0];document.removeEventListener(t,e)}function Eu(){return!function(){var e=navigator.userAgent,t=new RegExp("^Mozilla/5\\.0.*Android.*AppleWebKit.*Chrome/(\\d+).*$","i").exec(e),r=!1;return t&&t.length>0&&(r=parseInt(t[1],10)<=33),r}()&&(e=navigator.userAgent,t=new RegExp("^Mozilla/5\\.0.*(iPhone|iPad|iPod).*AppleWebKit.*Safari.*$","i"),r=new RegExp("^Mozilla/5\\.0.*Macintosh.*AppleWebKit.*Safari.*$","i"),!(t.test(e)||r.test(e)&&CSS.supports("-webkit-touch-callout","default"))&&yu.enabled.some((e=>e in document&&document[e])));var e,t,r}function Ou(){var e=yu.element.find((e=>e in document));return e?document[e]:null}function Tu(){return new Promise(((e,t)=>{try{var r=yu.change.filter((e=>"on"+e in document))[0];if(r){var n=()=>{Ou()||(_u(r,n),e(!0))};bu(r,n)}else t("native fullscreen api not supported")}catch(e){t(e)}}))}function Su(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Su(Object(r),!0).forEach((function(t){ku(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Su(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ku(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Au="ENTER_FULLSCREEN",Iu="EXIT_FULLSCREEN",Ru=Au,ju=Iu,Cu={enabled:!1,supported:Eu()},Du=bi((e=>e.experiment.identifier),ma,Ga,((e,t,r)=>r+"?"+["ff",t&&"NORMAL"===t.kind?t.fullscreenFallbackArgs:null,"control"!==e?"experiment="+e:null].filter(Boolean).join("&"))),Nu="READ_MORE_LOAD_SUCCESS",Lu="READ_MORE_LOAD_FAILURE",Mu="SHOW_MORE_DROPDOWN",Fu="CLOSE_MORE_DROPDOWN";function Bu(){return{type:Nu}}function Uu(){return{type:Fu}}var zu={loaded:!1,exitedFullscreen:!1,forceOverlay:!1},Hu=du((function(e,t){var{getState:r,dispatch:n}=t,i=r(),o=ma(i);if(o&&"FALLBACK"!==o.kind)if(ba(i))new Promise(((e,t)=>{var r=yu.exit.filter((e=>e in document))[0],n=yu.change.filter((e=>"on"+e in document))[0];if(r)if(Ou()){var i=()=>{_u(n,i),e(!0)};bu(n,i),document[r]()}else e(!0);else t("native fullscreen api not supported")})).then(s);else if(Eu()){var a=document.getElementById("ird3-main");a&&function(e){return new Promise(((t,r)=>{try{var n=yu.request.filter((t=>t in e))[0],i=yu.change.filter((e=>"on"+e in document))[0];if(n&&i){var o=()=>{_u(i,o),t(!0)};bu(i,o),e[n]()}else r("native fullscreen api not supported")}catch(e){r(e)}}))}(a).then((function(){n({type:Au,fullscreenMethod:vu})})).then(Tu).then(s)}else window.open(Du(i),"_blank"),n({type:Au,fullscreenMethod:"FULLSCREEN@TAB"});function s(){n({type:Iu,fullscreenMethod:vu})}}));function Wu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Gu="HO_CHANGE_PAGE",Vu="HO_CHANGE_ZOOM",qu="HO_ENTER_FULLSCREEN",Yu="HO_INPUT_GESTURE",$u="HO_INPUT_KEYBOARD",Xu="HO_INPUT_SLIDER",Ku="HO_INPUT_BUTTON",Zu="HO_SHARE_SOCIAL",Ju="HO_MORE_CONTENT",Qu="HO_OPEN_FIND",ec="HO_FIND",tc={BUTTON_ARROW_BACKWARD:[Gu,Ku],BUTTON_ARROW_FORWARD:[Gu,Ku],BUTTON_CTA_OVERLAY:[Ku,qu],BUTTON_FULLSCREEN:[Ku,qu],BUTTON_ENGAGE_LARGEVIEW:[Ku],BUTTON_DISENGAGE_LARGEVIEW:[Ku],BUTTON_ZOOMIN:[Vu,Ku],BUTTON_ZOOMOUT:[Vu,Ku],BUTTON_LOGO:[Ku],BUTTON_DOWNLOAD:[Ku],GESTURE_DRAG_PAGES:[Gu,Yu],GESTURE_PINCH_ZOOM:[Vu,Yu],DOUBLE_TAP_ZOOM:[Vu,Yu],KEYBOARD_BACKWARD:[Gu,$u],KEYBOARD_FORWARD:[Gu,$u],SLIDER_PAGES:[Gu,Xu],SLIDER_ZOOM:[Vu,Xu],BUTTON_SHARE:[Ku],SHARE_EMAIL:[Zu],SHARE_FACEBOOK:[Zu],SHARE_TWITTER:[Zu],SHARE_LINKEDIN:[Zu],SHARE_PINTEREST:[Zu],BUTTON_MORE:[Ju,Ku],FULLSCREEN_MORE:[Ju],PORTRAIT_MODE:[],LANDSCAPE_MODE:[],READER_LOADED_MOBILE:[],PUBLICATION_LINK:[],PUBLICATION_VIDEO_LINK:[],PUBLICATION_INLINE_VIDEO_LINK:[],NAVIGATION_LINK:[],BUTTON_OPEN_FIND:[Ku,Qu,{opportunity:ec}],KEYBOARD_OPEN_FIND:[$u,Qu,{opportunity:ec}],FIND_QUERY:[{usage:ec}],FIND_NEXT:[],FIND_PREV:[],FIND_CLOSE:[],FIND_CLOSE_BLUR:[]},rc=Object.keys(tc).reduce(((e,t)=>(e[t]=t,e)),{});function nc(e,t){return tc[e].reduce(((e,r)=>("string"==typeof r?e.push(r):r.hasOwnProperty(t)&&e.push(r[t]),e)),[e])}class ic{constructor(e,t){Wu(this,"_opportunitySent",{}),Wu(this,"_usageSent",{}),Wu(this,"monitorTracker",void 0),Wu(this,"userId",void 0),this.monitorTracker=e,this.userId=t}opportunity(e){this._opportunitySent.hasOwnProperty(e)||nc(e,"opportunity").forEach((e=>{if(!this._opportunitySent.hasOwnProperty(e)){var t="reader3-features."+e;this.monitorTracker.monitor(t,{opportunity:1,userId:this.userId}),this._opportunitySent[e]=!0}}))}usage(e){nc(e,"usage").forEach((e=>{var t="reader3-features."+e,r=this._usageSent.hasOwnProperty(e)?0:1;this.monitorTracker.monitor(t,{usageRepeat:1,usageFirst:r,userId:this.userId}),this._usageSent[e]=!0}))}}var oc=Rr((function(e){return{canFind:!$a(e)&&uo(e),canGoBackward:lu(e),canGoForward:hu(e),lastSpreadIndex:Ra(e),moreContentContainerIsVisible:Ya(e),isFindOverlayVisible:eo(e),fullscreenEnabled:ba(e)}}))((e=>{var{canFind:t,canGoBackward:r,canGoForward:n,lastSpreadIndex:i,moreContentContainerIsVisible:o,isFindOverlayVisible:a,fullscreenEnabled:s,dispatch:u,children:c,featureTracker:l}=e,h=(0,Ne.useRef)(!1),d=(0,Ne.useRef)(),p=(0,Ne.useCallback)((()=>{d.current&&clearTimeout(d.current),d.current=void 0}),[]),f=(0,Ne.useCallback)((e=>{switch(e.key){case Ys:case $s:case Xs:p()}}),[p]),g=e=>{var t=!0,r=()=>{e(t);var n=t?500:250;t=!1,d.current=setTimeout(r,n)};r()},m=(0,Ne.useCallback)((()=>{u(cs()),l.usage(rc.KEYBOARD_BACKWARD)}),[u,l]),v=(0,Ne.useCallback)((()=>{u(ls()),l.usage(rc.KEYBOARD_FORWARD)}),[u,l]),y=(0,Ne.useCallback)((()=>{u(Qi()),l.usage(rc.KEYBOARD_OPEN_FIND)}),[u,l]),b=(0,Ne.useCallback)((e=>{var c=h.current,l=void 0!==d.current;if("Escape"===e.key)o?u(Uu()):a?u(mu({isBlur:!1})):s&&u(Hu());else if(l||document.activeElement&&"INPUT"===document.activeElement.tagName)return;switch(e.key){case"f":t&&c&&e.metaKey||!c&&e.ctrlKey?(e.preventDefault(),y()):u(Hu());break;case"F3":t&&!c&&(e.preventDefault(),y());break;case"/":t&&(e.preventDefault(),y());break;case $s:if(e.metaKey)break;g((t=>{r&&m(),t||u(Qs(e.key))}));break;case Ys:case Xs:if(e.metaKey)break;g((t=>{n&&v(),t||u(Qs(e.key))}));break;case"Home":u(us(0));break;case"End":u(us(i))}u(Qs(e.key))}),[t,r,n,u,s,v,m,a,i,o,y]);return(0,Ne.useEffect)((()=>(h.current="MacIntel"===window.navigator.platform,window.addEventListener("keyup",f,!1),window.addEventListener("keydown",b,!1),()=>{p(),window.removeEventListener("keyup",f,!1),window.removeEventListener("keydown",b,!1)})),[f,b,p]),(0,Ne.useEffect)((()=>{r&&l.opportunity(rc.KEYBOARD_BACKWARD),n&&l.opportunity(rc.KEYBOARD_FORWARD),t&&l.opportunity(rc.KEYBOARD_OPEN_FIND)}),[r,n,t,p,l]),(0,z.jsx)(z.Fragment,{children:c})})),ac=e=>{var{coverUrl:t}=e,[r,n]=(0,Ne.useState)(!1);return(0,z.jsxs)("div",{className:"blocked-embed__cover-wrapper",children:[r?(0,z.jsx)("div",{className:"blocked-embed__error"}):(0,z.jsx)("img",{alt:"",className:"blocked-embed__cover-image",onError:()=>n(!0),src:t}),(0,z.jsx)("div",{className:"blocked-embed__cover-glare"})]})},sc=e=>{var{editUrl:t,url:r}=e;return(0,z.jsxs)("div",{className:"blocked-embed__overlay",children:[(0,z.jsx)("div",{className:"blocked-embed__inner",children:(0,z.jsxs)("a",{className:"blocked-embed__badge",href:r,rel:"noreferrer",target:"_blank",children:[(0,z.jsx)("div",{className:"blocked-embed__logo",dangerouslySetInnerHTML:{__html:'<svg viewBox="0 0 32 32"><path fill="#fff" d="M0 16q0 3.22 1.24 6.18t3.43 5.15 5.15 3.43T16 32q3.2 0 6.17-1.25t5.14-3.42q2.2-2.19 3.44-5.15T32 16t-1.25-6.18-3.44-5.15q-2.17-2.17-5.14-3.42T16 0H0v16zm5-.1v-.12q.02-2.22.9-4.28t2.4-3.56q1.52-1.49 3.55-2.32t4.2-.84h.16q2.98.03 5.53 1.54t4.01 4.09q1.46 2.53 1.46 5.48V16q-.03 3-1.55 5.53-1.52 2.55-4.07 4T16.06 27H16q-3.02-.02-5.55-1.55-2.54-1.51-4-4.06T5 15.9zm2.97.02q0 2.19 1.06 4.05 1.08 1.89 2.94 2.99t4.06 1.12h.05q2.19 0 4.06-1.07t2.98-2.92 1.15-4.06q0-2.22-1.07-4.1t-2.94-3-4.07-1.12h-.06q-2.18 0-4.05 1.06T9.09 11.8q-1.12 1.89-1.12 4.12zm4.03.02q0-1.74 1.2-2.93t2.94-1.2q1.7.03 2.9 1.25t1.18 2.9V16q0 1.69-1.22 2.88t-2.92 1.2q-1.72-.03-2.9-1.24T12 15.94z"/></svg>'}}),(0,z.jsx)("div",{className:"blocked-embed__text",children:"Click to read the full content on issuu.com"})]})}),(0,z.jsx)("div",{className:"blocked-embed__link-wrapper",children:(0,z.jsx)("a",{className:"blocked-embed__link",href:t,rel:"noreferrer",target:"_blank",children:"What happened to my embed?"})})]})},uc=Rr((function(e){var t=Va(e),r=it(window.navigator.userAgent),n=at(document.referrer,r),i=Qe()+"/lp/embed";return{coverUrl:Ai(e),url:t+st(n),editUrl:i+st(n)}}))((function(e){var{coverUrl:t,url:r,editUrl:n}=e;return(0,z.jsxs)("div",{className:"blocked-embed",children:[(0,z.jsx)("div",{className:"blocked-embed__cover-container",children:(0,z.jsx)(ac,{coverUrl:t})}),(0,z.jsx)(sc,{editUrl:n,url:r})]})})),cc=bi((e=>!!e.features.requireEmbedLicense),Wo,((e,t)=>e&&!t));function lc(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r)}}function hc(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}function dc(){var e=hc();return!!e&&!!document[e]}function pc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pc(Object(r),!0).forEach((function(t){gc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mc="@Reader3/size/INIT_SIZE",vc="RESIZE",yc={width:0,height:0},bc={isHidden:dc(),supported:!!hc()};function _c(e,t){return void 0===e&&(e=bc),"ON_VISIBILITY_CHANGE"===t.type?Object.assign({},e,{isHidden:dc()}):e}var wc=__webpack_require__(42),xc=__webpack_require__.n(wc),Ec='<svg viewBox="0 0 24 24"><g class="spinner__icon" fill-rule="evenodd"><path d="M13.78 13.85a2.53 2.53 0 1 1-3.58-3.58 2.53 2.53 0 0 1 3.58 3.58l1.47 1.47A4.61 4.61 0 1 0 8.73 8.8a4.61 4.61 0 0 0 6.52 6.52l-1.47-1.47Z"/><path d="M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm0-2.97a8.03 8.03 0 1 0 0-16.06 8.03 8.03 0 0 0 0 16.06Z" fill-opacity=".5"/><path d="M3.98 12.2a1.5 1.5 0 0 1-1.5 1.46C2 13.66 1 13.12 1 12a11 11 0 0 1 22 0c0 1.13-.96 1.51-1.46 1.51s-1.5-.3-1.5-1.51c0-.05 0-.1-.02-.15a8.03 8.03 0 1 0-16.04.35Z"/></g></svg>',Oc=e=>{var t=e.size*(e.zoomLevel||1),r={width:t,height:t},n=xc()("spinner",{"spinner--alternate":"SPINNER_TYPE_ALTERNATE"===e.type});return(0,z.jsx)("div",{className:n,dangerouslySetInnerHTML:{__html:Ec},"data-testid":e.testId,style:r})},Tc=Le().memo((function(){return(0,z.jsx)("div",{className:"loading",children:(0,z.jsx)("div",{className:"loading__spinner",children:(0,z.jsx)(Oc,{size:24,type:"SPINNER_TYPE_ALTERNATE"})})})}));function Sc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}__webpack_require__(4062);var kc=()=>/debugads=([^;]*)/.test(document.cookie)||"undefined"!=typeof window&&window.location.search.includes("debugads=true");const Ac=function(){kc()&&console.log(...arguments)};function Ic(){if("undefined"!=typeof document&&void 0!==document.cookie){var e=document.cookie.split(";").map((e=>e.trim())).filter((e=>e.startsWith("iutk=")));if(e.length)return e[0].split("=")[1].trim()}return null}var Rc=null;function jc(){if(null===Rc){var e;try{null===(e=Ic())&&(function(){var e=u(),t=function(){if("undefined"!=typeof document){var e=/(?:t?)issuu.com$/.exec(document.domain);return e?e[0]:null}return null}();document.cookie="iutk="+e+(t?";domain="+t:"")+";path=/;max-age=15552000;samesite=none;secure"}(),e=Ic())}catch{e=null}Rc=null===e?"00000000-0000-0000-0000-000000000000":e}return Rc}var Cc=e=>{var t=jc();return t?Object.assign({iutk:t},e):e},Dc=Fe().div(["color:",";font-size:",";padding-bottom:35px;"],"#b2b2b2",Ie),Nc=Fe().div(["align-items:center;display:flex;justify-content:center;"]),Lc=!1,Mc=e=>{var{adSizes:t,idSuffix:r,network:n,onAdUnfilled:i}=e,o=(0,Ne.useRef)(null),a=n.replace(/\/\d+\//,"")+"__"+r,[s,u]=(0,Ne.useState)(!1);return(0,Ne.useEffect)((()=>{if(o.current){var e=Je(),r={necessary:[["isDevelopmentTest",String(!window.location.href.includes("//issuu.com/"))],["pageType","ffReader"]]};Lc||(Lc=!0,(l=window).dataLayer||(function(e){e.dataLayer=[{"gtm.start":(new Date).getTime(),event:"gtm.js"}]}(l),(c=document.createElement("script")).async=!0,c.src="https://www.googletagmanager.com/gtm.js?id=GTM-N7P4N8B",document.head.appendChild(c)),function(e,t){void 0===t&&(t={}),window.dataLayer=window.dataLayer||[];var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sc(Object(r),!0).forEach((function(t){Pc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({event:"set_gpt_tag"},t);window.dataLayer.push(r)}());var s=(e=>{var t,r,n,i,o,a,s=(e=>{var{pingbackHost:t,trackingKey:r,countryCode:n="unknown"}=e;if(!r||r.includes("."))throw new Error("trackingKey can not be empty or include dot");var i=function(e){return function(t){return!t||Array.isArray(t)&&0===t.length?Promise.resolve():function(e,t){void 0===t&&(t={});var r=t.pingbackHost||"pingback.tissuu.com",n=t.pingbackUrl||"https://"+r+"/ping",i=t.logger||yn;return(t.fetch||window.fetch)(n,{method:"post",credentials:"include",headers:{Accept:"application/json","Content-Type":"text/plain;charset=UTF-8"},body:JSON.stringify(Cc(e))}).then((t=>{if(!t.ok)return t.text().then((t=>{i.error(e.type+" pingback was invalid: "+t+".",e)}));i.info("pingback sent with payload \n %O",e)})).catch((t=>{i.error(e.type+" pingback failed \n %O",t)}))}({type:"monitor",version:"2.2.0",origin:"@issuu/tracking-micro-v13.1.2",data:(Array.isArray(t)?t:[t]).map((e=>Object.assign({version:"1.0.0"},e)))},e)}}({pingbackHost:t}),o=(e,t)=>{var o={type:"ads-widget."+r+"."+e,countryCode:n,timeElapsed:t,screenWidth:window.innerWidth,screenHeight:window.innerHeight,screenResolution:window.innerHeight+"*"+window.innerWidth};Ac("ads","pingback",o),i(o)};return{adRequested:e=>{o("requested",e)},adFailed:e=>{o("failed",e)},adFilled:e=>{o("filled",e)},adViewable:e=>{o("viewable",e)},adTimeout:e=>{o("timeout",e)},adUnfilled:e=>{o("unfilled",e)}}})(e.tracking),u=new Set,c=()=>{if(isNaN(a))throw new Error('"startTime" has not been initialized');return(new Date).getTime()-a},l=(e,t)=>()=>{u.has(e)||(u.add(e),clearTimeout(o),e(c()),t&&t())},h=l(s.adViewable,null===(t=e.callbacks)||void 0===t?void 0:t.onAdViewable),d=l(s.adFilled,null===(r=e.callbacks)||void 0===r?void 0:r.onAdFilled),p=l(s.adUnfilled,null===(n=e.callbacks)||void 0===n?void 0:n.onAdUnfilled),f=l(s.adFailed,null===(i=e.callbacks)||void 0===i?void 0:i.onAdFailed),g=()=>{s.adTimeout(c()),f()},m={onAdViewable:h,onAdFilled:d,onAdUnfilled:p,onAdFailed:f};return{show:()=>{a=(new Date).getTime(),o=setTimeout(g,1e4);var t=(e=>{var t,{adOptions:r,adCallbacks:n}=e,{rootElm:i,network:o,sizes:a,adTargeting:s,adProvider:u}=r;if(!o)throw new Error('"network" can not be empty string');var c=(null===(t=i.getAttribute("id"))||void 0===t?void 0:t.trim())||"div-"+Math.round(1e4*Math.random());return i.setAttribute("id",c),(e=>{var{divId:t,network:r,adCallbacks:n,sizes:i=[],adProvider:o="googletag",adTargeting:a={}}=e;if(!r)throw new Error('"network" can not be empty string');var s,u,c=(e=>{var{necessary:t=[],marketing:r=[]}=e;return/(^|;)\s*CookieConsent=[^;]*marketing:true/.test(document.cookie)?t.concat(r):t})(a),l=[];(e=>{window[e]||(window[e]={cmd:[]})})(o);var h,d,p=()=>l[0];return Ac("addPlacement, network:",r,"gptTargeting:",c),null===(h=window[o])||void 0===h||h.cmd.push((()=>{var e,n,a=window[o];if(a){for(var s=i.flat().includes("Out-of-page")?a.defineOutOfPageSlot(r,c.some((e=>"interstitial"===e[0]))?a.enums.OutOfPageFormat.INTERSTITIAL:t):a.defineSlot(r,i,t),u=0;u<c.length;u++){var h=c[u];2===h.length&&s.setTargeting(h[0],h[1])}s.setCollapseEmptyDiv(!1).addService(a.pubads()),l=[s],null===(e=window[o])||void 0===e||e.display(t),null===(n=window[o])||void 0===n||n.pubads().refresh([s])}})),s=e=>{e.slot.getSlotElementId()===t&&(Ac("ads,widget,slotRendered",e),e.isEmpty?n.onAdUnfilled():n.onAdFilled())},u=e=>{e.slot.getSlotElementId()===t&&(Ac("ads,widget,impressionViewable",e),n.onAdViewable())},null===(d=window[o])||void 0===d||d.cmd.push((()=>{var e,t;null===(e=window[o])||void 0===e||e.pubads().addEventListener("slotRenderEnded",s),null===(t=window[o])||void 0===t||t.pubads().addEventListener("impressionViewable",u)})),{getSlot:p,destroySlot:()=>{var e,t=p();l=[],null===(e=window[o])||void 0===e||e.cmd.push((()=>{var e,r,n;t&&(null===(e=window[o])||void 0===e||e.destroySlots([t])),s&&(null===(r=window[o])||void 0===r||r.pubads().removeEventListener("slotRenderEnded",s)),u&&(null===(n=window[o])||void 0===n||n.pubads().removeEventListener("impressionViewable",u))}))}}})({adProvider:u,adTargeting:s,divId:c,network:o,sizes:a,adCallbacks:n})})({adOptions:e,adCallbacks:m});return s.adRequested(c()),t}}})({rootElm:o.current,network:n,sizes:t,tracking:{pingbackHost:e.replace(/.*\/\//,""),trackingKey:a},callbacks:{onAdUnfilled:i,onAdFilled:()=>{u(!0)}},adTargeting:r,adProvider:"htlbid"}).show();return()=>{s.destroySlot()}}var c,l}),[]),(0,z.jsxs)(z.Fragment,{children:[!s&&(0,z.jsx)(Dc,{children:"Advertisement loading…"}),(0,z.jsx)(Nc,{children:(0,z.jsx)("div",{id:a,ref:o})})]})},Fc=Fe().div(["align-items:center;background:#141414;display:flex;flex-direction:column;height:65px;justify-content:end;position:",";top:100%;width:100%;@media (orientation:landscape){left:0;position:absolute;top:100%;width:100%;}"],(e=>{var{isHidden:t}=e;return t?"absolute":"static"})),Bc=e=>{var{onAdUnfulfilled:t,hidden:r}=e;return(0,z.jsx)(Fc,{isHidden:r,children:(0,z.jsx)(Mc,{adSizes:[[320,50],[300,50]],idSuffix:"wideLeaderBoard",network:"/30443627/Doc_inBarReader",onAdUnfilled:t})})},Uc=9999999999999;function zc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Hc{constructor(e,t,r){zc(this,"targetElement",void 0),zc(this,"callbacks",void 0),zc(this,"options",void 0),zc(this,"initialGesture","UNDEFINED"),zc(this,"pointers",{}),zc(this,"_lastGestureMoveTimestamp",0),zc(this,"_initialPinchDistance",NaN),zc(this,"_targetElementOffset",null),this.targetElement=e,this.callbacks=t,this.options=r}destroy(){}reset(){this.pointers={},this._lastGestureMoveTimestamp=0,this._initialPinchDistance=NaN,this.initialGesture="UNDEFINED",this._targetElementOffset=null}isDeactivated(){return this.options.activeHandler&&this.options.activeHandler!==this}_isAnyButtonPressed(e){return!(!e.buttons&&!this.getPointerCount())}_isGeneratedByMouseDevice(e){return!("pointerType"in e)||!e.pointerType||"mouse"===e.pointerType}getScalingFactor(){return this.callbacks.getScalingFactor?this.callbacks.getScalingFactor():1}fireGestureStart(){var{onGestureStart:e}=this.callbacks;e&&e(this._getTouches(),this._getLastEventTimestamp())}fireGestureChange(e){void 0===e&&(e=NaN);var t=this._getLastEventTimestamp();if(t-this._lastGestureMoveTimestamp>10){var r=isNaN(e)?this._getCurrentPinchDistance()/this._initialPinchDistance:e;if(!isNaN(r)){var{onGestureChange:n}=this.callbacks;n&&n(this._getTouches(),t,r,this.initialGesture),this._lastGestureMoveTimestamp=t}}}fireGestureEnd(){var{onGestureEnd:e}=this.callbacks;e&&e(this._getLastEventTimestamp())}fireMouseMove(e){if(this._isGeneratedByMouseDevice(e)&&!this._isAnyButtonPressed(e)){var t=e.pageX,r=e.pageY,n=this._getOffsetPosition(t,r),i=this.getScalingFactor(),{onMouseMove:o}=this.callbacks;o&&o(n.x*i,n.y*i,e.timeStamp)}}fireMouseEnter(e){if(this._isGeneratedByMouseDevice(e)){var{onMouseEnter:t}=this.callbacks;t&&t(e.timeStamp)}}fireMouseLeave(e){if(this._isGeneratedByMouseDevice(e)){var{onMouseLeave:t}=this.callbacks;t&&t(e.timeStamp)}}saveTargetElementOffset(){this._targetElementOffset=function(e){if(!e.getClientRects().length)return{top:0,left:0};var t=e.getBoundingClientRect();if(t.width||t.height){var r=e.ownerDocument.documentElement||{};return{top:t.top+window.pageYOffset-r.clientTop,left:t.left+window.pageXOffset-r.clientLeft}}return t}(this.targetElement)}saveInitialPinchDistance(){this._initialPinchDistance=this._getCurrentPinchDistance()}saveInitialGestureIfUndefined(){if("UNDEFINED"===this.initialGesture){var e=Object.keys(this.pointers);if(e.length>=2){var t=this._getCurrentPinchDistance();t-this._initialPinchDistance>5?this.initialGesture="ZOOM_IN":this._initialPinchDistance-t>10&&(this.initialGesture="ZOOM_OUT")}else{var r=this.pointers[parseInt(e[0])],n=r.last.position.x-r.initial.position.x,i=r.last.position.y-r.initial.position.y,o=r.last.timestamp-r.initial.timestamp;if(Math.max(Math.abs(n),Math.abs(i))<10||o<10)return;var a=Math.atan2(-i,n)*(180/Math.PI);this.initialGesture=a>=-25&&a<=25?"SWIPE_RIGHT":a>=60&&a<=120?"SWIPE_UP":a>=155||a<=-155?"SWIPE_LEFT":a>=-120&&a<=-60?"SWIPE_DOWN":"SWIPE_OTHER"}}}isValidPointer(e){return!!this.pointers[e]}savePointer(e,t,r,n){var i=this._getOffsetPosition(t,r),o=function(e){return e>Uc?Math.floor(e/1e3):e<0?Math.floor(e+Uc):Math.floor(e)}(n);this.pointers[e]=this.pointers[e]||{initial:{position:i,timestamp:o}},this.pointers[e].last={position:i,timestamp:o}}deletePointer(e){delete this.pointers[e],0===this.getPointerCount()&&(this.initialGesture="UNDEFINED",this._initialPinchDistance=NaN)}isPointerMoved(e,t,r,n){void 0===n&&(n=0);var i=this._getOffsetPosition(t,r),o=this.pointers[e].last.position;return Math.abs(o.x-i.x)>Math.abs(n)||Math.abs(o.y-i.y)>Math.abs(n)}_getOffsetPosition(e,t){this._targetElementOffset||this.saveTargetElementOffset();var{left:r=0,top:n=0}=this._targetElementOffset||{};return{x:Math.round(e-r),y:Math.round(t-n)}}_getLastEventTimestamp(){var e=0;for(var t in this.pointers)this.pointers.hasOwnProperty(t)&&(e=Math.max(e,this.pointers[t].last.timestamp));return e}_getCurrentPinchDistance(){var e=Object.keys(this.pointers);if(e.length<=1)return 1;var t=this.pointers[parseInt(e[0])],r=this.pointers[parseInt(e[1])];return Math.sqrt(Math.pow(t.last.position.x-r.last.position.x,2)+Math.pow(t.last.position.y-r.last.position.y,2))}getPointerCount(){var e=0;for(var t in this.pointers)this.pointers.hasOwnProperty(t)&&e++;return e}_getTouches(){var e=this.getScalingFactor(),t=[];for(var r in this.pointers)this.pointers.hasOwnProperty(r)&&t.push({x:this.pointers[r].last.position.x*e,y:this.pointers[r].last.position.y*e});return t}}function Wc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Gc extends Hc{constructor(){super(...arguments),Wc(this,"_singleTapConfirmedTimeoutId",void 0),Wc(this,"_doubleTapConfirmedTimeoutId",void 0)}destroy(){this.unregisterTapHandlers()}reset(){super.reset(),this.unregisterTapHandlers()}registerTapHandlers(){var e=this._getFirstPointerId(),t=this.pointers[e].last.position;void 0!==this._doubleTapConfirmedTimeoutId&&(clearTimeout(this._doubleTapConfirmedTimeoutId),this._doubleTapConfirmedTimeoutId=void 0),void 0!==this._singleTapConfirmedTimeoutId&&clearTimeout(this._singleTapConfirmedTimeoutId),void 0!==this._singleTapConfirmedTimeoutId&&1===this.getPointerCount()&&(this._doubleTapConfirmedTimeoutId=setTimeout((()=>{this._doubleTapConfirmedTimeoutId=void 0,0===this.getPointerCount()&&this._fireDoubleTapConfirmed(t.x,t.y)}),200)),this._singleTapConfirmedTimeoutId=void 0,void 0===this._doubleTapConfirmedTimeoutId&&1===this.getPointerCount()&&(this._singleTapConfirmedTimeoutId=setTimeout((()=>{this._singleTapConfirmedTimeoutId=void 0,0===this.getPointerCount()&&this._fireSingleTapConfirmed(t.x,t.y)}),200))}unregisterTapHandlers(){void 0!==this._singleTapConfirmedTimeoutId&&(clearTimeout(this._singleTapConfirmedTimeoutId),this._singleTapConfirmedTimeoutId=void 0),void 0!==this._doubleTapConfirmedTimeoutId&&(clearTimeout(this._doubleTapConfirmedTimeoutId),this._doubleTapConfirmedTimeoutId=void 0)}validateTapHandlers(){var e=this._getFirstPointerId(),t=this.pointers[e].last.position;this._isPointerCloseToInitialPosition(e,t.x,t.y)||this.unregisterTapHandlers()}executeTapHandlers(){var e=this._getFirstPointerId(),t=this.pointers[e].last.position;void 0!==this._singleTapConfirmedTimeoutId&&this._fireSingleTap(t.x,t.y),void 0!==this._doubleTapConfirmedTimeoutId&&(this._fireSingleTap(t.x,t.y),this._fireDoubleTap(t.x,t.y))}_fireSingleTap(e,t){var r=this.getScalingFactor(),{onSingleTap:n}=this.callbacks;n&&n(e*r,t*r)}_fireSingleTapConfirmed(e,t){var r=this.getScalingFactor(),{onSingleTapConfirmed:n}=this.callbacks;n&&n(e*r,t*r)}_fireDoubleTap(e,t){var r=this.getScalingFactor(),{onDoubleTap:n}=this.callbacks;n&&n(e*r,t*r)}_fireDoubleTapConfirmed(e,t){var r=this.getScalingFactor(),{onDoubleTapConfirmed:n}=this.callbacks;n&&n(e*r,t*r)}_getFirstPointerId(){for(var e in this.pointers){var t=parseInt(e);if(this.pointers.hasOwnProperty(t)&&!isNaN(t))return t}throw new Error("No pointer for tap")}_isPointerCloseToInitialPosition(e,t,r){var n=this.pointers[e];return Math.abs(n.initial.position.x-t)<5&&Math.abs(n.initial.position.y-r)<5}}function Vc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class qc extends Gc{constructor(e,t,r){super(e,t,r),Vc(this,"pointerEventTypes",void 0),Vc(this,"_elementPointerDownHandler",(e=>{if(!this.isDeactivated()){var t=e;this.options.activeHandler=this,this.options.updateLastPointerEventTimeStamp(t);var{pointerId:r,pageX:n,pageY:i}=t;if(this.options.shouldInvokeSetPointerCapture())try{this.targetElement.setPointerCapture&&this.targetElement.setPointerCapture(r)}catch(e){}0===this.getPointerCount()&&this.saveTargetElementOffset(),this.savePointer(r,n,i,e.timeStamp),this.saveInitialPinchDistance(),this.saveInitialGestureIfUndefined(),this.fireGestureStart();try{this.registerTapHandlers()}catch(e){}}})),Vc(this,"_elementPointerMoveHandler",(e=>{if(!this.isDeactivated()){var t=e;this.options.updateLastPointerEventTimeStamp(t),this.fireMouseMove(t);var{pointerId:r,pageX:n,pageY:i}=t;this.isValidPointer(r)&&(this.isPointerMoved(r,n,i,2)&&(this.savePointer(r,n,i,e.timeStamp),this.saveInitialGestureIfUndefined(),this.fireGestureChange()),this.validateTapHandlers(),this.options.shouldInvokePreventDefault()&&e.preventDefault())}})),Vc(this,"_elementPointerUpHandler",(e=>{if(!this.isDeactivated()){var t=e;this.options.updateLastPointerEventTimeStamp(t);var{pointerId:r,pageX:n,pageY:i}=t;if(this.isValidPointer(r)){this.savePointer(r,n,i,e.timeStamp);var o=!1;1===this.getPointerCount()?(this.fireGestureEnd(),this.executeTapHandlers(),this.deletePointer(r),o=!0):(this.fireGestureStart(),this.deletePointer(r),this.saveInitialPinchDistance()),this.options.shouldInvokePreventDefault()&&e.preventDefault(),o&&this.options.resetInterception()}}})),Vc(this,"_elementPointerCancelHandler",(e=>{this.unregisterTapHandlers(),this._elementPointerUpHandler(e)})),Vc(this,"_elementPointerEnterHandler",(e=>{var t=e;this.options.updateLastPointerEventTimeStamp(t),this.fireMouseEnter(t)})),Vc(this,"_elementPointerLeaveHandler",(e=>{var t=e,{pointerId:r}=t;1===this.getPointerCount()&&(this.fireGestureEnd(),this.executeTapHandlers(),this.deletePointer(r),this.options.resetInterception()),this.options.updateLastPointerEventTimeStamp(t),this.fireMouseLeave(t)})),this.pointerEventTypes={DOWN:"pointerdown",MOVE:"pointermove",UP:"pointerup",CANCEL:"pointercancel",ENTER:"pointerenter",LEAVE:"pointerleave"},this.targetElement.addEventListener(this.pointerEventTypes.DOWN,this._elementPointerDownHandler,!1),this.targetElement.addEventListener(this.pointerEventTypes.MOVE,this._elementPointerMoveHandler,!1),this.targetElement.addEventListener(this.pointerEventTypes.UP,this._elementPointerUpHandler,!1),this.targetElement.addEventListener(this.pointerEventTypes.CANCEL,this._elementPointerCancelHandler,!1),this.targetElement.addEventListener(this.pointerEventTypes.ENTER,this._elementPointerEnterHandler,!1),this.targetElement.addEventListener(this.pointerEventTypes.LEAVE,this._elementPointerLeaveHandler,!1)}destroy(){this.targetElement.removeEventListener(this.pointerEventTypes.DOWN,this._elementPointerDownHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.MOVE,this._elementPointerMoveHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.UP,this._elementPointerUpHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.CANCEL,this._elementPointerCancelHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.ENTER,this._elementPointerEnterHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.LEAVE,this._elementPointerLeaveHandler,!1)}}function Yc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $c={capture:!1,passive:!1};class Xc extends Hc{constructor(e,t,r){super(e,t,r),Yc(this,"_totalDeltaY",0),Yc(this,"_idleTimeoutId",void 0),Yc(this,"_elementGestureStartHandler",(e=>{if(!this.isDeactivated()){this.options.activeHandler=this,this.saveTargetElementOffset();var t=e.pageX,r=e.pageY;this.savePointer(1,t,r,e.timeStamp),this.fireGestureStart(),e.preventDefault()}})),Yc(this,"_elementGestureChangeHandler",(e=>{if(!this.isDeactivated()){var t=e.pageX,r=e.pageY;this.savePointer(1,t,r,e.timeStamp);var n=e.scale;!isNaN(n)&&isFinite(n)&&("UNDEFINED"===this.initialGesture&&(this.initialGesture=n>1?"ZOOM_IN":"ZOOM_OUT"),this.fireGestureChange(n)),this.options.shouldInvokePreventDefault()&&e.preventDefault()}})),Yc(this,"_elementGestureEndHandler",(e=>{if(!this.isDeactivated()){var t=e.pageX,r=e.pageY;this.savePointer(1,t,r,e.timeStamp),this.fireGestureEnd(),this.deletePointer(1),this.options.shouldInvokePreventDefault()&&e.preventDefault(),this.options.resetInterception()}})),Yc(this,"_elementWheelHandler",(e=>{if(e.ctrlKey&&!this.isDeactivated()){this.options.activeHandler=this,this.savePointer(1,e.pageX,e.pageY,e.timeStamp),"UNDEFINED"===this.initialGesture&&(this.initialGesture=e.deltaY>0?"ZOOM_OUT":"ZOOM_IN");var t=!1;0===this._totalDeltaY?(this.fireGestureStart(),this._handleTrackpadGestureChange(e.deltaY)):0===e.deltaY?(this._totalDeltaY=0,this.fireGestureEnd(),this.deletePointer(1),t=!0,this._cancelIdleTimeout()):this._handleTrackpadGestureChange(e.deltaY),this.options.shouldInvokePreventDefault()&&e.preventDefault(),t&&this.options.resetInterception()}})),this.targetElement.addEventListener("gesturestart",this._elementGestureStartHandler,$c),this.targetElement.addEventListener("gesturechange",this._elementGestureChangeHandler,$c),this.targetElement.addEventListener("gestureend",this._elementGestureEndHandler,$c),this.targetElement.addEventListener("wheel",this._elementWheelHandler,$c)}destroy(){this.targetElement.removeEventListener("gesturestart",this._elementGestureStartHandler,$c),this.targetElement.removeEventListener("gesturechange",this._elementGestureChangeHandler,$c),this.targetElement.removeEventListener("gestureend",this._elementGestureEndHandler,$c),this.targetElement.removeEventListener("wheel",this._elementWheelHandler,$c)}reset(){super.reset(),this._cancelIdleTimeout(),this._totalDeltaY=0,this._idleTimeoutId=void 0}_resetIdleTimeout(){this._cancelIdleTimeout(),this._idleTimeoutId=setTimeout((()=>{this._idleTimeoutId=void 0,this._onIdle()}),250)}_cancelIdleTimeout(){null!==this._idleTimeoutId&&(clearTimeout(this._idleTimeoutId),this._idleTimeoutId=void 0)}_onIdle(){this._totalDeltaY=0,this.fireGestureEnd(),this.deletePointer(1),this.options.resetInterception()}_handleTrackpadGestureChange(e){this._totalDeltaY+=e;var t=1-this._totalDeltaY/100;this.fireGestureChange(t),this._resetIdleTimeout()}}function Kc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zc={capture:!1,passive:!1};class Jc extends Hc{constructor(e,t,r){super(e,t,r),Kc(this,"_totalDeltaY",0),Kc(this,"_idleTimeoutId",void 0),Kc(this,"_elementWheelHandler",(e=>{if(!e.ctrlKey&&this.callbacks.catchWheelEvent&&this.callbacks.catchWheelEvent()&&!this.isDeactivated()){if(this.options.activeHandler=this,this.savePointer(1,e.pageX,e.pageY,e.timeStamp),"UNDEFINED"===this.initialGesture&&(this.initialGesture=e.deltaY>0?"ZOOM_OUT":"ZOOM_IN"),0===this._totalDeltaY)this.fireGestureStart(),this._totalDeltaY+=e.deltaY;else{this._totalDeltaY+=e.deltaY;var t=1-this._totalDeltaY/200;this.fireGestureChange(t)}this._resetIdleTimeout(),this.options.shouldInvokePreventDefault()&&e.preventDefault()}})),this.targetElement.addEventListener("wheel",this._elementWheelHandler,Zc)}destroy(){this.targetElement.removeEventListener("wheel",this._elementWheelHandler,Zc)}reset(){super.reset(),this._cancelIdleTimeout(),this._totalDeltaY=0,this._idleTimeoutId=void 0}_resetIdleTimeout(){this._cancelIdleTimeout(),this._idleTimeoutId=setTimeout((()=>{this._idleTimeoutId=void 0,this._onIdle()}),250)}_cancelIdleTimeout(){void 0!==this._idleTimeoutId&&(clearTimeout(this._idleTimeoutId),this._idleTimeoutId=void 0)}_onIdle(){this._totalDeltaY=0,this.fireGestureEnd(),this.deletePointer(1),this.options.resetInterception()}}function Qc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class el{constructor(e,t){Qc(this,"targetElement",void 0),Qc(this,"options",void 0),Qc(this,"_interceptedBy","NONE"),Qc(this,"_lastPointerEventTimeStamp",0),Qc(this,"_lastTouchEventTimeStamp",0),Qc(this,"_handlers",void 0),this.targetElement=e;var r=!!Object.keys(t).find((e=>/gesture|tap/i.test(e)));this.options={shouldInvokeSetPointerCapture:()=>r,shouldInvokePreventDefault:()=>"READER"===this._interceptedBy,hasBrowserIntercepted:()=>"BROWSER"===this._interceptedBy,updateInterceptionWithTouchEvent:e=>{e.cancelable||(this._interceptedBy="BROWSER")},resetInterception:()=>{this._interceptedBy="NONE",this.options.activeHandler=null},updateLastPointerEventTimeStamp:e=>{this._lastPointerEventTimeStamp=e.timeStamp},updateLastTouchEventTimeStamp:e=>{this._lastTouchEventTimeStamp=e.timeStamp},isSimulatedMouseEvents:e=>this._lastPointerEventTimeStamp>=e.timeStamp||this._lastTouchEventTimeStamp>=e.timeStamp,activeHandler:null},this._handlers=[new qc(e,t,this.options),new Xc(e,t,this.options),new Jc(e,t,this.options)],this.enableBrowserHandlingOfVerticalPanningGestures()}destroy(){this._handlers.forEach((e=>{e.destroy()}))}reset(){this._interceptedBy="NONE",this._handlers.forEach((e=>{e.reset()})),this.options.activeHandler=null}requestToIntercept(){"NONE"===this._interceptedBy&&(this._interceptedBy="READER")}enableBrowserHandlingOfVerticalPanningGestures(){this.targetElement.style.touchAction="pan-y"}disableBrowserHandlingOfAllPanningGestures(){this.targetElement.style.touchAction="none"}}var tl=["content"];function rl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rl(Object(r),!0).forEach((function(t){il(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function il(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ol=Fe()((e=>{var{content:t}=e,r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,tl);return"href"in r?(0,z.jsx)("a",nl({dangerouslySetInnerHTML:{__html:t}},r)):(0,z.jsx)("button",nl({dangerouslySetInnerHTML:{__html:t},type:"button"},r))}))(["background:none;border:0;color:",";cursor:pointer;display:block;margin:0;outline:none;padding:0;&:hover{color:",";}> svg{display:block;filter:drop-shadow(0 0 1px #000);margin:0 auto;}"],(e=>{var{disabled:t}=e;return t?Pe:Ae}),(e=>{var{disabled:t}=e;return t?Pe:Se})),al=Fe()(ol)(["height:36px;width:36px;"]),sl=du((function(e,t){var{featureTracker:r}=t;r.opportunity(e)})),ul=du((function(e,t){var{getState:r,mixpanelOnceTracker:n}=t,i=r(),o=Si(i).documentId,a=Sa(i),s=ba(i),u=Na(i),[c,l]=u.split("x");n(e,{currentPageNumbers:a.toString(),documentId:o,fullScreen:s,reader3Width:c,reader3Height:l})})),cl=du((function(e,t){var{dispatch:r,getState:n,featureTracker:i}=t;i.usage("FIND_QUERY"),r(ul("reader3_interaction_find_query")),to(n())!==e&&r(co(e))})),ll=du((function(e,t){var{dispatch:r,getState:n,featureTracker:i}=t,o=n(),a=no(o),s=oo(o),u=a.length?(s+1)%a.length:s;s!==u&&(i.usage("FIND_NEXT"),r(lo(u)))})),hl=du((function(e,t){var{dispatch:r,getState:n,featureTracker:i}=t,o=n(),a=no(o),s=oo(o),u=a.length?(s+a.length-1)%a.length:s;s!==u&&(i.usage("FIND_PREV"),r(lo(u)))})),dl=du((function(e,t){var{event:r,inputFieldValue:n}=e,{dispatch:i,getState:o}=t,a="MacIntel"===navigator.platform,s=r,u=()=>{i(ll())},c=()=>{i(hl())};71===s.keyCode&&a&&s.metaKey?(s.preventDefault(),s.shiftKey?c():u()):!a&&s.ctrlKey?34===s.keyCode?(s.preventDefault(),u()):33===s.keyCode&&(s.preventDefault(),c()):"Enter"===s.key&&(s.preventDefault(),to(o())===n?s.shiftKey?c():u():i(cl(n)),ra()&&s.target.blur())})),pl=du((function(e,t){var{dispatch:r,getState:n}=t,i=n();r(co(to(i)))})),fl=Fe()(al)(["margin:0 5px;"]),gl=(0,Ne.memo)((function(){var e=Br(oo)+1,t=Br(io),r=Br(ro),n=Br(eo),i=ra(),o=Lr(),a=Ne.useRef(null),s=Ne.useRef(null),[u,c]=Ne.useState("");Ne.useEffect((()=>{var e,t;n?(null===(e=a.current)||void 0===e||e.focus(),o(sl("FIND_QUERY")),o(sl("FIND_NEXT")),o(sl("FIND_PREV")),o(sl("FIND_CLOSE")),o(sl("FIND_CLOSE_BLUR"))):null===(t=a.current)||void 0===t||t.blur()}),[o,n]);var l=e=>{o(dl({event:e,inputFieldValue:u}))};return(0,z.jsxs)("div",{className:xc()("find-widget",{"find-widget--hidden":!n}),children:[(0,z.jsx)(fl,{"aria-label":"Close",content:'<svg width="16" height="16"><path d="M6.45 8 .32 14.12a1.1 1.1 0 1 0 1.56 1.56L8 9.55l6.12 6.13a1.1 1.1 0 0 0 1.56-1.56L9.55 8l6.13-6.12A1.1 1.1 0 1 0 14.12.32L8 6.45 1.88.32A1.1 1.1 0 1 0 .32 1.88L6.45 8z" fill="currentColor" fill-rule="evenodd"/></svg>',onClick:()=>{o(mu({isBlur:!1}))}}),(0,z.jsxs)("form",{action:"#",className:"find-widget__input-wrapper",children:[(0,z.jsx)("input",{"aria-label":"Find in publication",className:xc()("find-widget__input",{"find-widget__input--large-font":i}),onBlur:()=>{u||o(mu({isBlur:!0}))},onChange:e=>{s.current&&(clearTimeout(s.current),s.current=null),navigator.platform&&["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||(s.current=setTimeout((()=>{o(cl(e.target.value))}),500)),c(e.target.value)},onKeyDown:l,placeholder:"Find in publication...",ref:a,type:"search",value:u}),(0,z.jsxs)("div",{className:"find-widget__results-wrapper",children:[r===zi&&"number"==typeof t&&(0,z.jsxs)("span",{className:"find-widget__results","data-testid":"find-widget__results",children:[0===t?0:e," of ",t]}),r===Hi&&(0,z.jsx)("button",{className:"find-widget__retry-button",onClick:()=>{o(pl())},type:"button",children:"retry"}),r===Ui&&(0,z.jsx)(Oc,{size:14,testId:"spinner"})]})]}),(0,z.jsx)(fl,{"aria-label":"Find previous",content:'<svg width="16" height="16"><path d="M12.05 16c.24 0 .49-.1.67-.28a.94.94 0 0 0 0-1.33L6.28 8l6.44-6.4a.94.94 0 0 0 0-1.32.95.95 0 0 0-1.34 0l-7.1 7.05a.94.94 0 0 0 0 1.33l7.1 7.06c.19.19.43.28.67.28" fill="currentColor" fill-rule="evenodd"/></svg>',disabled:!t,onClick:()=>{o(hl())},onKeyDown:l,type:"button"}),(0,z.jsx)(fl,{"aria-label":"Find next",content:'<svg width="16" height="16"><path d="M4.95 16a.94.94 0 0 1-.67-1.6L10.72 8 4.28 1.6a.94.94 0 0 1 0-1.33.95.95 0 0 1 1.33 0l7.11 7.06c.37.37.37.97 0 1.33l-7.1 7.06a.95.95 0 0 1-.67.28" fill="currentColor" fill-rule="evenodd"/></svg>',disabled:!t,onClick:()=>{o(ll())},onKeyDown:l,type:"button"}),r===Hi&&(0,z.jsx)("span",{className:"find-widget__error-message",children:"Oops, something went wrong"})]})})),ml={status:"DOWNLOAD_READY"};function vl(e,t){switch(void 0===e&&(e=ml),t.type){case"DOWNLOAD_READY":case"DOWNLOAD_LOADING":case"DOWNLOAD_SUCCESS":case"DOWNLOAD_FAILURE":return{status:t.type};default:return e}}function yl(e){return e.download.status}var bl=bi((e=>e.features.controls),(e=>{for(var t=0;t<e.length;t++)if("FEATURE_DOWNLOAD_PROTECTED"===e[t].type)return e[t]})),_l=bi((e=>e.features.controls),(e=>{for(var t=0;t<e.length;t++)if("FEATURE_DOWNLOAD"===e[t].type)return e[t]})),wl=bi(_l,(e=>e.metadata.downloadable),$a,Oo,bl,Yo,((e,t,r,n,i,o)=>t&&!n&&!((!o||!e||r)&&!i)));function xl(e,t){e({type:t}),setTimeout((()=>{e({type:"DOWNLOAD_READY"})}),2e3)}var El=e=>{var{horizontalShift:t=0,isAbove:r=!0,isBelow:n,verticalOffset:i=5}=e;return(0,Me.css)(["position:relative;&:hover:before{background-color:",";border-radius:",";bottom:",";color:",";content:attr(data-tooltip);font-size:",";font-weight:normal;left:calc(50% + ","px);letter-spacing:normal;line-height:1.4;padding:"," ",";position:absolute;text-transform:none;top:",";transform:translateX(-50%);white-space:nowrap;width:max-content;z-index:",";}"],Oe,Re,n?"auto":"calc(100% + "+i+"px)",Te,je,t,Ce,De,r&&!n?"auto":"calc(100% + "+i+"px)",2)},Ol=Fe().button(["align-items:center;background:transparent;border:0;color:",";cursor:pointer;display:flex;font-family:inherit;font-size:13px;font-weight:700;letter-spacing:2px;line-height:24px;padding:6px;text-shadow:0 0 3px #000;text-transform:uppercase;&:hover{color:",";}svg{display:block;filter:drop-shadow(0 0 1px #000);}"],Ae,Se),Tl=Fe()(Ol)(["",";"],El({isBelow:!0})),Sl=(0,Ne.memo)((function(){var e,t,r=Br(yl),n=Lr();switch((0,Ne.useEffect)((()=>{n(sl(rc.BUTTON_DOWNLOAD))}),[n]),r){case"DOWNLOAD_LOADING":e=Ec,t="Downloading";break;case"DOWNLOAD_FAILURE":e=xe,t="Failed to download";break;default:e='<svg width="22" height="22" viewBox="-2 0 20 18"><path d="M7.6 13.87c.06.07.15.13.24.16.08.04.16.06.26.06h.01a.7.7 0 0 0 .5-.22l4.04-4.01a.66.66 0 0 0 0-.97.68.68 0 0 0-.98 0L8.8 11.72V.73a.7.7 0 0 0-.7-.69.7.7 0 0 0-.7.69v11L4.52 8.87a.68.68 0 0 0-.98 0 .66.66 0 0 0 0 .97l4.05 4.02zm6.4 3.22L2 17.1c-2.02 0-1.24-1.36.02-1.36h11.97c1.26 0 2.03 1.36.01 1.36h-.01z" fill="currentColor" fill-rule="evenodd"/></svg>',t="Download"}return(0,z.jsx)(Tl,{"data-testid":"download-button","data-tooltip":t,onClick:()=>{n(((e,t)=>{var r=t();return"DOWNLOAD_READY"===yl(r)?(e(eu()),r.featureTracker.usage(rc.BUTTON_DOWNLOAD),bl(r)?e(((e,t)=>{var r=t(),n=(e=>e.metadata.protectedContentUrlId)(r);if(n){var i=r.config.origins.api+"/call/reader/api/purchased-download/"+n;return window.open(i,"_top"),xl(e,"DOWNLOAD_SUCCESS")}return xl(e,"DOWNLOAD_FAILURE")})):e(((e,t)=>{var r=t(),n=r.config.origins.api+"/query?action=issuu.document.download&documentId="+Si(r).documentId+"&format=json";e({type:"DOWNLOAD_LOADING"}),fetch(n).then((e=>e.json())).then((t=>{window.open(t.rsp._content.redirect.url,"_top"),xl(e,"DOWNLOAD_SUCCESS")})).catch((()=>{xl(e,"DOWNLOAD_FAILURE")}))}))):e(eu())})),n(ul("reader3_interaction_download"))},children:(0,z.jsx)("div",{dangerouslySetInnerHTML:{__html:e}})})})),Pl=du((function(e,t){var{featureTracker:r}=t;r.usage(e)})),kl=Fe().span(["padding-left:5px;"]),Al=(0,Ne.memo)((function(e){var{navigationLinkFeature:t}=e,r=!ra(),n=Lr(),{text:i,icon:o}=t;return(0,Ne.useEffect)((()=>{n(sl(rc.NAVIGATION_LINK))}),[n]),(0,z.jsxs)(Ol,{onClick:()=>{n(eu()),n(Pl(rc.NAVIGATION_LINK)),window.open(t.url,"_self")},children:[(0,z.jsx)("span",{dangerouslySetInnerHTML:{__html:o}}),i&&r&&(0,z.jsx)(kl,{children:i})]})})),Il=du((function(e,t){var{getState:r,dispatch:n}=t,i=r(),o=Ya(i),a=Ka(i);o?n(Uu()):a&&(a.clearButtonUnreadCount(),n({type:Mu}))})),Rl=Fe().span(["position:relative;"]),jl=Fe().span(["background-color:",";border-radius:17px;box-shadow:0 1px 3px 0 rgba(0,0,0,0.5);box-sizing:border-box;color:",";display:block;font-size:",";height:17px;letter-spacing:0;line-height:17px;min-width:17px;padding:0 4px;position:absolute;right:-15px;text-align:center;top:-8px;"],"#ff7b6c",Ae,Ie),Cl=(0,Ne.memo)((function(){var e=Lr(),t=Br(au);return(0,Ne.useEffect)((()=>{e(sl(rc.BUTTON_MORE))}),[e]),(0,z.jsx)(Ol,{"data-testid":"read-more-toggle","data-tooltip":"Read more",onClick:()=>{e(Il()),e(Pl(rc.BUTTON_MORE)),e(ul("reader3_interaction_read_more")),e(eu())},children:(0,z.jsxs)(Rl,{children:["Read More",t>0&&(0,z.jsx)(jl,{"data-testid":"read-more-counter",children:t})]})})})),Dl=bi(fa,(e=>!(!e||!e.showPublisherPreviewMessage))),Nl=bi(Si,Uo,$a,ba,Dl,fa,((e,t,r,n,i,o)=>{var{documentPath:a}=e;return!(!o||o.customizedToNotShow&&t||r||o.hideWhenNotInFullscreen&&!n||!i&&!a)})),Ll=bi((e=>e.headerControls),(e=>{var{visibleDropdown:t}=e;return"SHARE"===t})),Ml="TOGGLE_DROPDOWN";function Fl(e){return{type:Ml,dropdown:e}}function Bl(e,t,r){var n={width:t,height:r,left:(screen.width-t)/2,top:(screen.height-r)/2},i=Object.entries(n).map((e=>{var[t,r]=e;return t+"="+r})).join(",");window.open(e,"_blank",i)}var Ul=Fe()(Ol)(["height:100%;padding:0 12px;"]),zl=(0,Ne.memo)((function(e){var{copyText:t}=e,r=Lr(),[n,i]=(0,Ne.useState)(!1);return(0,z.jsx)(Ul,{onClick:()=>{navigator.clipboard.writeText(t),i(!0),setTimeout((()=>{i(!1)}),2e3),r(ul("reader3_interaction_share_copy"))},children:n?"COPIED!":"COPY"})})),Hl=Fe().button(["align-items:center;background:none;border:0;color:",";cursor:pointer;display:flex;flex:1 1 20%;flex-direction:column;justify-content:center;margin:0;outline:none;padding:0 0 10px 0;",";&:hover{color:",";}> svg{display:block;}"],Ae,El({}),Se);function Wl(e){var t,r,{icon:n,description:i,tooltip:o,onClick:a}=e;return(0,z.jsx)(Hl,{dangerouslySetInnerHTML:{__html:(t=n,r=i,t+'<span class="hidden-accessible-text">'+r+"</span>")},"data-tooltip":o,onClick:a})}var Gl=e=>{var{visible:t}=e,r=(0,Ne.useRef)(null),n=Lr(),i=Br(Ai),o=Br(Ii),a=Br(Va),s=Br(Dl);return(0,Ne.useEffect)((()=>{var e=r.current;e&&t&&(e.setSelectionRange(0,e.value.length),n(sl(rc.SHARE_EMAIL)),n(sl(rc.SHARE_FACEBOOK)),n(sl(rc.SHARE_TWITTER)),n(sl(rc.SHARE_PINTEREST)),n(sl(rc.SHARE_LINKEDIN)))}),[n,t]),(0,z.jsxs)("div",{className:"share-dropdown share-dropdown--blurred",children:[(0,z.jsx)("div",{className:"share-dropdown__dimmer",onClick:()=>{n(Fl("SHARE"))}}),!s&&(0,z.jsxs)("div",{className:"share-dropdown__inner",children:[(0,z.jsxs)("div",{className:"share-dropdown__social-buttons",children:[(0,z.jsx)(Wl,{description:"Share publication on Facebook",icon:'<svg width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z" fill="currentColor"/></svg>',onClick:()=>{var e;n(Pl(rc.SHARE_FACEBOOK)),n(ul("reader3_interaction_share_facebook")),n((e=a,()=>{Bl("https://www.facebook.com/sharer.php?u="+encodeURIComponent(e),575,300)})),n(eu())},tooltip:"Facebook"}),(0,z.jsx)(Wl,{description:"Share publication on LinkedIn",icon:'<svg viewBox="0 0 310 310" width="16" height="16"><path fill="currentColor" d="M72.16 99.73H9.93a5 5 0 0 0-5 5v199.93a5 5 0 0 0 5 5h62.23a5 5 0 0 0 5-5V104.73a5 5 0 0 0-5-5zM41.07.34A41.09 41.09 0 0 0 0 41.36 41.1 41.1 0 0 0 41.07 82.4 41.08 41.08 0 0 0 82.1 41.36 41.07 41.07 0 0 0 41.07.34zm189.38 94.42c-25 0-43.47 10.75-54.67 22.95v-12.98a5 5 0 0 0-5-5h-59.6a5 5 0 0 0-5 5v199.93a5 5 0 0 0 5 5h62.1a5 5 0 0 0 5-5v-98.92c0-33.33 9.05-46.32 32.28-46.32 25.3 0 27.32 20.82 27.32 48.04v97.2a5 5 0 0 0 5 5H305a5 5 0 0 0 5-5V194.99c0-49.56-9.45-100.23-79.55-100.23z"/></svg>',onClick:()=>{var e;n(Pl(rc.SHARE_LINKEDIN)),n(ul("reader3_interaction_share_linkedin")),n((e=a,()=>{Bl("https://www.linkedin.com/sharing/share-offsite?url="+encodeURIComponent(e),750,500)})),n(eu())},tooltip:"LinkedIn"}),(0,z.jsx)(Wl,{description:"Share publication on Twitter",icon:'<svg width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path fill="currentColor" d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/></svg>',onClick:()=>{var e,t;n(Pl(rc.SHARE_TWITTER)),n(ul("reader3_interaction_share_twitter")),n((e=o,t=a,()=>{var r={url:encodeURIComponent(t),text:encodeURIComponent(e),via:"issuu"};Bl("https://twitter.com/intent/tweet?"+Object.entries(r).map((e=>{var[t,r]=e;return t+"="+r})).join("&"),550,420)})),n(eu())},tooltip:"Twitter"}),(0,z.jsx)(Wl,{description:"Share publication on Pinterest",icon:'<svg viewBox="0 0 512 512" width="20" height="20"><path fill="currentColor" d="M405.02 52.47C369.77 18.63 321 0 267.68 0c-81.44 0-131.53 33.38-159.21 61.39-34.12 34.51-53.68 80.34-53.68 125.73 0 57 23.84 100.74 63.76 117.01a21.12 21.12 0 0 0 8.02 1.65c8.43 0 15.1-5.5 17.41-14.35 1.35-5.07 4.47-17.58 5.83-23 2.9-10.73.56-15.9-5.78-23.36-11.55-13.66-16.92-29.82-16.92-50.84 0-62.45 46.5-128.83 132.69-128.83 68.38 0 110.86 38.87 110.86 101.44 0 39.48-8.5 76.04-23.95 102.96-10.73 18.7-29.6 41-58.59 41-12.53 0-23.78-5.15-30.88-14.13-6.71-8.48-8.92-19.44-6.22-30.86 3.04-12.9 7.2-26.36 11.22-39.38 7.34-23.76 14.28-46.2 14.28-64.12 0-30.63-18.84-51.21-46.86-51.21-35.62 0-63.52 36.17-63.52 82.35 0 22.65 6.02 39.59 8.74 46.1-4.48 19-31.15 132.02-36.2 153.34-2.93 12.44-20.55 110.7 8.61 118.54 32.77 8.8 62.05-86.9 65.03-97.72 2.42-8.8 10.87-42.05 16.05-62.5 15.82 15.24 41.29 25.54 66.07 25.54 46.71 0 88.72-21.02 118.3-59.19 28.67-37.02 44.47-88.61 44.47-145.28 0-44.3-19.03-87.97-52.2-119.81z"/></svg>',onClick:()=>{var e,t,r;n(Pl(rc.SHARE_PINTEREST)),n(ul("reader3_interaction_share_pinterest")),n((e=a,t=i,r=o,()=>{var n={url:encodeURIComponent(e),media:encodeURIComponent(t),description:encodeURIComponent(r)};Bl("https://pinterest.com/pin/create/button/?"+Object.entries(n).map((e=>{var[t,r]=e;return t+"="+r})).join("&"),750,500)})),n(eu())},tooltip:"Pinterest"}),(0,z.jsx)(Wl,{description:"Share publication on E-mail",icon:'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"> <path stroke="currentColor" d="M4 4h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2z"/><path stroke="currentColor" d="m22 6-10 7L2 6"/></svg>',onClick:()=>{var e,t;n(Pl(rc.SHARE_EMAIL)),n(ul("reader3_interaction_share_email")),n((e=o,t=a,()=>{var r="mailto:?subject="+encodeURIComponent("I found this great publication on issuu.com")+"&body="+encodeURIComponent("Hi,\n\nI found this publication on issuu.com which seems totally made for you.\n\n"+e+":\n"+t+"\n\nCheck it out and let me know what you think.\n\n- Me");window.open(r,"_top")})),n(eu())},tooltip:"E-mail"})]}),(0,z.jsxs)("div",{className:"share-dropdown__direct-link",children:[(0,z.jsx)("input",{"aria-label":"document url",className:"share-dropdown__input",readOnly:!0,ref:r,type:"text",value:a}),navigator.clipboard&&(0,z.jsx)(zl,{copyText:a})]})]}),s&&(0,z.jsx)("div",{className:"share-dropdown__inner",children:(0,z.jsx)("p",{className:"share_dropdown__publisher_preview_message",children:"You are looking at a preview. Please use a real version to test this functionality."})})]})},Vl=()=>{var e=Lr();return(0,Ne.useEffect)((()=>{e(sl(rc.BUTTON_SHARE))}),[e]),(0,z.jsx)(Ol,{"data-testid":"share-button",onClick:()=>{e(Pl(rc.BUTTON_SHARE)),e(Fl("SHARE")),e(ul("reader3_interaction_share_menu_open")),e(eu())},children:"Share"})},ql=Fe().div(["opacity:",";pointer-events:",";position:absolute;right:-6px;top:calc(100% + 9px);transition:opacity 0.2s;"],(e=>{var{visible:t}=e;return t?"1":"0"}),(e=>{var{visible:t}=e;return t?"all":"none"})),Yl=(0,Ne.memo)((function(){var e=Br(Ll);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(Vl,{}),(0,z.jsx)(ql,{visible:e,children:(0,z.jsx)(Gl,{visible:e})})]})})),$l=(0,Ne.memo)((function(e){var{showFullScreenAd:t}=e,r=Lr(),n=Br(pa),i=Br(wl),o=Br(su),a=Br(Nl),s=Br(Oo),u=Br(Da)&&(o||a||i||n),c=!s&&window.innerWidth<window.innerHeight,l=(0,Ne.useRef)(null),h=(0,Ne.useRef)(u);h.current=u,(0,Ne.useEffect)((()=>{var e=l.current;if(e){var t=new el(e,{onMouseEnter:()=>{h.current&&r(ss(!0))},onMouseLeave:()=>{r(ss(!1))}});return()=>{t.destroy()}}}),[r]);var d=xc()("header-controls",{"is-visible":t||u});return(0,z.jsxs)("div",{className:d,ref:l,children:[(0,z.jsx)("div",{className:"header-controls__background"}),(0,z.jsxs)("div",{className:"header-controls__items",children:[n&&(0,z.jsx)("div",{className:"header-controls__item",children:(0,z.jsx)(Al,{navigationLinkFeature:n})}),i&&(0,z.jsx)("div",{className:"header-controls__item",children:(0,z.jsx)(Sl,{})}),(0,z.jsx)("div",{className:"header-controls__item header-controls__item--spacer"}),o&&(0,z.jsx)("div",{className:xc()("header-controls__item",{"header-controls__item--centered":ra()&&c}),children:(0,z.jsx)(Cl,{})}),a&&(0,z.jsx)("div",{className:"header-controls__item",children:(0,z.jsx)(Yl,{})})]})]})})),Xl=e=>(e=>e.config)(e).origins,Kl=e=>Xl(e).main,Zl=(e,t,r,n)=>Object.assign({},e,{sessionId:t,embedTrackingQuery:r,embedId:n}),Jl=["children","out","href"];function Ql(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ql(Object(r),!0).forEach((function(t){th(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ql(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function th(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rh=e=>{var{children:t}=e;return Ne.createElement("div",{className:"po-Overlay ixu-cascading-fluid-typography"},Ne.createElement("div",{className:"po-Overlay-content"},t))},nh=e=>{var{children:t}=e;return Ne.createElement("div",{className:"po-Content"},t)},ih=e=>{var t=["po-Button"];e.isOutlined&&t.push(" po-Button--outline");var r=t.join(" ");return"href"in e&&e.href?Ne.createElement("a",eh(eh({},e),{},{className:r}),e.children):Ne.createElement("button",eh(eh({},e),{},{className:r}),e.children)},oh=e=>{var{children:t}=e;return Ne.createElement("div",{className:"po-ButtonGroup"},t)},ah=e=>{var{url:t,title:r}=e;return Ne.createElement("div",{className:"po-Cover"},Ne.createElement("div",{className:"po-Cover-wrapper"},Ne.createElement("img",{alt:"Cover of "+r,src:t})))},sh=e=>{var{avatarUrl:t,displayName:r,profileUrl:n}=e;return Ne.createElement("div",{className:"po-Publisher"},Ne.createElement("div",{className:"po-Publisher-image"},Ne.createElement("img",{alt:"Avatar of "+r,src:t})),Ne.createElement("div",{className:"po-Publisher-name"},"Published by ",Ne.createElement("br",null),Ne.createElement("strong",null,Ne.createElement(lh,{href:n,out:!0},r))))},uh=e=>{var{children:t}=e;return Ne.createElement("div",{className:"po-Heading"},t)},ch=e=>{var{children:t}=e;return Ne.createElement("div",{className:"po-Paragraph"},t)},lh=e=>{var{children:t,out:r,href:n}=e,i=eh({},function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Jl));return r&&(i=eh(eh({},i),{},{target:"_blank",rel:"noopener noreferrer"})),Ne.createElement("a",eh({className:"po-Link",href:n},i),t)};const hh=e=>{var t,r,{hostName:n,priceAmount:i,priceCurrency:o,publicationName:a,publisherName:s,isNotAvailable:u,referrer:c="reader.button"}=e;return t=u?"Not available":"number"==typeof i&&"string"==typeof o?"Buy "+(e=>{var{amount:t,currency:r}=e;return new Intl.NumberFormat(void 0,{maximumFractionDigits:2,minimumFractionDigits:2,style:"currency",currency:r,currencyDisplay:"code"}).format(t/100).replace(/^(\S+)\s+(\S+)$/,"$2 $1")})({amount:i,currency:o}):"Buy",r=u?"":a?"https://"+n+"/store/publishers/"+s+"/issues/"+a+"?r="+c:"#",Ne.createElement(ih,{disabled:!!u,href:r,target:a?"_blank":""},t)},dh=e=>{var{hostName:t,isNotAvailable:r,onKeepReading:n,priceAmount:i,priceCurrency:o,publicationCoverUrl:a,publicationName:s,publicationTitle:u,publisherDisplayName:c,publisherName:l,publisherProfileImageUrl:h,publisherProfileUrl:d,showKeepReading:p}=e;return Ne.createElement(rh,null,Ne.createElement(ah,{title:u,url:a}),Ne.createElement(nh,null,Ne.createElement(uh,null,!r&&Ne.createElement("div",null,"Unlock full access ",Ne.createElement("span",{className:"po-Publication-title-adverb"},"to")),Ne.createElement("strong",{className:"po-Publication-title"},u)),r&&Ne.createElement(ch,null,Ne.createElement("span",null,"This publication is currently")," ",Ne.createElement("span",null,"not available for purchase.")),Ne.createElement(oh,null,Ne.createElement(hh,{hostName:t,isNotAvailable:r,priceAmount:i,priceCurrency:o,publicationName:s,publisherName:l,referrer:"reader.overlay"}),p&&Ne.createElement(ih,{isOutlined:!0,onClick:n},"Keep reading")),Ne.createElement(sh,{avatarUrl:h,displayName:c,profileUrl:d}),Ne.createElement(ch,null,Ne.createElement("span",null,"Already bought this?")," ",Ne.createElement(lh,{href:"https://"+t+"/home/purchases",out:!0},"Go to your purchases"))))},ph=e=>{var{hostName:t,publicationCoverUrl:r,publicationTitle:n,readPurchasedPath:i}=e;return Ne.createElement(rh,null,Ne.createElement(ah,{title:n,url:r}),Ne.createElement(nh,null,Ne.createElement(uh,null,"You already own a copy of ",Ne.createElement("br",null),Ne.createElement("strong",null,n)),Ne.createElement(oh,null,Ne.createElement(ih,{href:"https://"+t+i,target:"_top"},"Read Full Edition")),Ne.createElement(ch,null,Ne.createElement("span",null,"See all your purchases on")," ",Ne.createElement(lh,{href:"https://"+t+"/home/purchases",out:!0},"your Purchases Page"))))};var fh=["LOADED","ERROR"],gh=Rr((e=>{var t=Oo(e),r=e.paywall,n=Si(e),i=Xl(e);if("user"===n.documentPath.type){var{username:o,documentName:a}=n.documentPath,s=i.photo+"/"+o+"/photo_large.jpg",u=i.main+"/"+o;return{isNotAvailable:r.isNotAvailable,isOverlayVisible:ts(e),isPreview:t&&!r.isPaid,isPurchased:t&&r.isPaid,hostName:Xl(e).main.replace(/^(?:https?:)?\/\/(.*)/,"$1"),paywallDataLoaded:fh.includes(r.status),priceAmount:r.publicationPriceAmount,priceCurrency:r.publicationPriceCurrency,publicationCoverUrl:n.coverUri,publicationName:a,publicationTitle:n.title,publisherDisplayName:n.userDisplayName,publisherName:o,publisherProfileImageUrl:s,publisherProfileUrl:u,readPurchasedPath:r.readPurchasedPath,showKeepReading:Qa(e)>0,isPromotedContent:n.isPromotedContent}}throw new Error("Paywall is not supported for publication documents")}),(e=>({onKeepReading:Qr(ls,e)})))((function(e){var{isNotAvailable:t,isOverlayVisible:r,isPreview:n,isPurchased:i,hostName:o,onKeepReading:a,paywallDataLoaded:s,priceAmount:u,priceCurrency:c,publicationCoverUrl:l,publicationName:h,publicationTitle:d,publisherDisplayName:p,publisherName:f,publisherProfileImageUrl:g,publisherProfileUrl:m,readPurchasedPath:v,showKeepReading:y,isPromotedContent:b}=e;return i&&"string"==typeof v?(0,z.jsx)("div",{className:"paywall-read-purchased",children:(0,z.jsx)(ph,{hostName:o,publicationCoverUrl:l,publicationTitle:d,readPurchasedPath:v})}):n?(0,z.jsxs)("div",{children:[!r&&s&&(0,z.jsx)("div",{className:xc()("paywall-btn--header",{"paywall-promoted-content":b}),children:(0,z.jsx)(hh,{hostName:o,isNotAvailable:t,priceAmount:u,priceCurrency:c,publicationName:h,publisherName:f})}),(0,z.jsx)("div",{className:xc()("paywall-overlay",{"is-hidden":!r}),children:(0,z.jsx)(dh,{hostName:o,isNotAvailable:t,onKeepReading:a,priceAmount:u,priceCurrency:c,publicationCoverUrl:l,publicationName:h,publicationTitle:d,publisherDisplayName:p,publisherName:f,publisherProfileImageUrl:g,publisherProfileUrl:m,showKeepReading:y})})]}):null})),mh=e=>e.videoOverlay.showOverlay,vh='<svg viewBox="0 0 36 36"><path d="m16.45 18-6.13 6.12a1.1 1.1 0 1 0 1.56 1.56L18 19.55l6.12 6.13a1.1 1.1 0 0 0 1.56 0 1.1 1.1 0 0 0 0-1.56L19.55 18l6.13-6.12a1.1 1.1 0 1 0-1.56-1.56L18 16.45l-6.12-6.13a1.1 1.1 0 1 0-1.56 1.56L16.45 18Z" fill="#FFF" fill-rule="evenodd"/></svg>',yh=["color","size"];function bh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bh(Object(r),!0).forEach((function(t){wh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wh(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xh=e=>{var{color:t,size:r}=e,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,yh);return(0,z.jsxs)("svg",_h(_h({fill:"none",height:r,stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:r,xmlns:"http://www.w3.org/2000/svg"},n),{},{children:[(0,z.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,z.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),(0,z.jsx)("line",{x1:"12",x2:"12",y1:"16",y2:"16"})]}))};xh.defaultProps={color:"currentColor",size:"24"};const Eh=xh;var Oh='<svg width="60%" height="60%" viewBox="0 0 36 36"><path d="m16.45 18-6.13 6.12a1.1 1.1 0 1 0 1.56 1.56L18 19.55l6.12 6.13a1.1 1.1 0 0 0 1.56 0 1.1 1.1 0 0 0 0-1.56L19.55 18l6.13-6.12a1.1 1.1 0 1 0-1.56-1.56L18 16.45l-6.12-6.13a1.1 1.1 0 1 0-1.56 1.56L16.45 18Z" fill="#FFF" fill-rule="evenodd"/></svg>',Th=["color","size"];function Sh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ph(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sh(Object(r),!0).forEach((function(t){kh(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kh(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ah=e=>{var{color:t,size:r}=e,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Th);return(0,z.jsxs)("svg",Ph(Ph({fill:"none",height:r,stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:r,xmlns:"http://www.w3.org/2000/svg"},n),{},{children:[(0,z.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,z.jsx)("line",{x1:"8",x2:"16",y1:"12",y2:"12"})]}))};Ah.defaultProps={color:"currentColor",size:"24"};const Ih=Ah;var Rh="error",jh="warning";function Ch(e){return e===Rh?(0,z.jsx)(Ih,{className:"msgbox-Icon msgbox-error-icon"}):e===jh?(0,z.jsx)(Eh,{className:"msgbox-Icon msgbox-warning-icon"}):(0,z.jsx)("span",{className:"msgbox-Icon msgbox-info-icon",children:"i"})}var Dh=e=>{var{boxType:t,buttonText:r,className:n,header:i,linkText:o,linkUrl:a,onClose:s,onSubmit:u,text:c}=e,l=xc()("msgbox-Root",{"msgbox-Root-error":t===Rh,"msgbox-Root-warning":t===jh,"msgbox-Root-info":"info"===t,"msgbox-Root__noheader":!i,"msgbox-Root__noclosebutton":!s},n);return(0,z.jsxs)("div",{className:l,children:[Ch(t),i&&(0,z.jsx)("p",{className:"msgbox-Header",children:i}),(0,z.jsx)("p",{className:"msgbox-Text",children:c}),(0,z.jsxs)("div",{className:"msgbox-Actions",children:[o&&(0,z.jsx)("a",{className:"msgbox-Link",href:a,rel:"noreferrer",target:"_blank",children:o}),(0,z.jsx)("button",{className:"msgbox-Button",onClick:u,children:r})]}),s&&(0,z.jsx)(al,{className:"msgbox-close-button",content:Oh,onClick:s})]})},Nh=e=>{var{service:t,onClose:r,onSubmit:n}=e;return(0,z.jsx)(Dh,{boxType:"error",buttonText:"Open in "+t,header:"We were unable to open this video.",onClose:r,onSubmit:n,text:"This video is hosted on "+t+". You can try and view it there"})},Lh=e=>{var{onClose:t,onSubmit:r,service:n}=e;return(0,z.jsx)(Dh,{boxType:"warning",buttonText:"Open in "+n,header:"Video marked as explicit.",onClose:t,onSubmit:r,text:"You can still view this video on "+n+"."})},Mh=Rr((e=>({service:e.videoOverlay.service||"",videoId:e.videoOverlay.videoId||"",videoInfo:e.videoOverlay.videoInfo,videoUrl:e.videoOverlay.videoUrl||""})))((function(e){var{dispatch:t,service:r,metrics:n,videoId:i,videoInfo:o,videoUrl:a}=e;Ne.useEffect((()=>{o===_s&&t(function(e,t,r){return(n,i)=>{var o=i().config.origins.api;fetch(o+"/call/backend-reader3/video-link/"+e+"/"+t).then((e=>{if(e.ok)return e.json();throw new Error})).then((i=>{var o=i.explicit?ys:bs;n(function(e,t,r){return{type:ms,service:e,videoId:t,videoInfo:r}}(e,t,o)),r.monitor("reader3-"+e+"-api-success")})).catch((()=>{n(function(e,t){return{type:vs,service:e,videoId:t,videoInfo:ws}}(e,t)),r.monitor("reader3-"+e+"-api-failed")}))}}(r,i,n))}),[t,n,r,i,o]);var s=()=>{window.open(a,"_blank"),t(eu())},u=()=>{t(xs()),t(eu())},c=()=>{switch(r){case"youtube":var e=new URL(a),t=["autoplay=1"];return["rel","start","end","loop"].forEach((r=>{e.searchParams.has(r)&&t.push(r+"="+e.searchParams.get(r))})),"https://www.youtube.com/embed/"+i+"?"+t.join("&");case"vimeo":return"https://player.vimeo.com/video/"+i+"?autoplay=1";default:return""}};return(0,z.jsxs)("div",{className:"video-overlay",children:[(0,z.jsx)("div",{className:"video-overlay__background",onClick:()=>{t(xs())}}),(()=>{switch(o){case bs:return(0,z.jsxs)("div",{className:"video-overlay__content",children:[(0,z.jsx)("iframe",{allowFullScreen:!0,className:"video-overlay__player",src:c()}),(0,z.jsx)(al,{className:"video-overlay__close-button",content:vh,onClick:u})]});case ys:return(0,z.jsx)("div",{className:"video-overlay__error-content",children:(0,z.jsx)(Lh,{onClose:u,onSubmit:s,service:r})});case _s:return(0,z.jsxs)("div",{className:"video-overlay__content",children:[(0,z.jsx)("div",{className:"video-overlay__loading",children:(0,z.jsx)(Oc,{size:24})}),(0,z.jsx)(al,{className:"video-overlay__close-button",content:vh,onClick:u})]});case ws:return(0,z.jsx)("div",{className:"video-overlay__error-content",children:(0,z.jsx)(Nh,{onClose:u,onSubmit:s,service:r})});default:throw new Error("The video info is not a valid value: "+o)}})()]})})),Fh=bi((e=>e.metadata.isAdsafe),qo,(e=>e.experiment.identifier),((e,t,r)=>e&&!t&&"fsrAds"===r));function Bh(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Uh={capture:!0,passive:!0};class zh{constructor(e,t){Bh(this,"target",void 0),Bh(this,"callback",void 0),Bh(this,"_eventHandler",(e=>{("wheel"!==e.type||e.ctrlKey)&&this.callback()})),this.target=e,this.callback=t,this.target.addEventListener("mousedown",this._eventHandler,Uh),this.target.addEventListener("touchstart",this._eventHandler,Uh),this.target.addEventListener("pointerdown",this._eventHandler,Uh),this.target.addEventListener("MSPointerDown",this._eventHandler,Uh),this.target.addEventListener("gesturestart",this._eventHandler,Uh),this.target.addEventListener("wheel",this._eventHandler,Uh),this.target.ownerDocument.addEventListener("keydown",this._eventHandler,Uh)}destroy(){this.target.removeEventListener("mousedown",this._eventHandler,Uh),this.target.removeEventListener("touchstart",this._eventHandler,Uh),this.target.removeEventListener("pointerdown",this._eventHandler,Uh),this.target.removeEventListener("MSPointerDown",this._eventHandler,Uh),this.target.removeEventListener("gesturestart",this._eventHandler,Uh),this.target.removeEventListener("wheel",this._eventHandler,Uh),this.target.ownerDocument.removeEventListener("keydown",this._eventHandler,Uh)}}const Hh=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t};function Wh(e,t){var r=e.x,n=e.x+e.width,i=t.x,o=t.x+t.width,a=e.y,s=e.y+e.height,u=t.y,c=t.y+t.height,l=Math.max(0,Math.min(n,o)-Math.max(r,i))*Math.max(0,Math.min(s,c)-Math.max(a,u));return l>0?l/(t.width*t.height):0}__webpack_require__(7753);var Gh="undefined"!=typeof Float32Array?Float32Array:Array;function Vh(){var e=new Gh(2);return Gh!=Float32Array&&(e[0]=0,e[1]=0),e}function qh(e,t){var r=new Gh(2);return r[0]=e,r[1]=t,r}function Yh(e,t,r){return e[0]=t,e[1]=r,e}function $h(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function Xh(){var e=new Gh(6);return Gh!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function Kh(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=r[0],l=r[1],h=r[2],d=r[3],p=r[4],f=r[5];return e[0]=n*c+o*l,e[1]=i*c+a*l,e[2]=n*h+o*d,e[3]=i*h+a*d,e[4]=n*p+o*f+s,e[5]=i*p+a*f+u,e}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)}),Vh();var Zh=Vh(),Jh=Vh();function Qh(e){return e}class ed{constructor(e){var t,r;void 0===e&&(e=null),r=void 0,(t="matrix")in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r,this.matrix=e||Xh()}inverse(){var e,t,r,n,i,o,a,s,u,c=Xh();return e=c,r=(t=this.matrix)[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],(u=r*o-n*i)&&(u=1/u,e[0]=o*u,e[1]=-n*u,e[2]=-i*u,e[3]=r*u,e[4]=(i*s-o*a)*u,e[5]=(n*a-r*s)*u),new ed(c)}isIdentityMatrix(){return 1===this.matrix[0]&&0===this.matrix[1]&&0===this.matrix[2]&&1===this.matrix[3]&&0===this.matrix[4]&&0===this.matrix[5]}isEqualWith(e){for(var t=0;t<this.matrix.length;t++)if(this.matrix[t]!==e.matrix[t])return!1;return!0}multiply(e){var t=Xh();return Kh(t,this.matrix,e.matrix),new ed(t)}mReset(){var e;return(e=this.matrix)[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,this}mMultiply(e){return Kh(this.matrix,this.matrix,e.matrix),this}mTranslate(e,t){var r,n,i,o,a,s,u,c,l,h,d,p=Xh();return r=p,n=this.matrix,i=qh(e,t),o=n[0],a=n[1],s=n[2],u=n[3],c=n[4],l=n[5],h=i[0],d=i[1],r[0]=o,r[1]=a,r[2]=s,r[3]=u,r[4]=o*h+s*d+c,r[5]=a*h+u*d+l,this.matrix=p,this}mScale(e){var t,r,n,i,o,a,s,u,c,l,h,d=Xh();return t=d,r=this.matrix,n=qh(e,e),i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],c=r[5],l=n[0],h=n[1],t[0]=i*l,t[1]=o*l,t[2]=a*h,t[3]=s*h,t[4]=u,t[5]=c,this.matrix=d,this}mSet(e,t,r,n,i,o){return this.matrix[0]=e,this.matrix[1]=t,this.matrix[2]=r,this.matrix[3]=n,this.matrix[4]=i,this.matrix[5]=o,this}mSetMatrix(e){return this.mSet(e[0],e[1],e[2],e[3],e[4],e[5])}transformPoint(e,t){var r=Vh();return $h(r,qh(e,t),this.matrix),Array.from(r).map(Qh)}transformRect(e){$h(Zh,Yh(Zh,e.x,e.y),this.matrix),$h(Jh,Yh(Jh,e.x+e.width,e.y+e.height),this.matrix);var t=Math.min(Zh[0],Jh[0]),r=Math.max(Zh[0],Jh[0]),n=Math.min(Zh[1],Jh[1]),i=Math.max(Zh[1],Jh[1]);return e.x=t,e.y=n,e.width=r-t,e.height=i-n,e}transformCanvasCtx(e){e.transform(this.matrix[0],this.matrix[1],this.matrix[2],this.matrix[3],this.matrix[4],this.matrix[5])}}function td(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?td(Object(r),!0).forEach((function(t){nd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):td(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var id={_pool:[],created:0,get(e,t,r,n){var i=this._pool.pop();return i?(i.x=e,i.y=t,i.width=r,i.height=n,i):(this.created++,{x:e,y:t,width:r,height:n})},release(e){this._pool.push(e)},unreleasedCount(){return this.created-this._pool.length}};class od{constructor(e,t){nd(this,"props",void 0),nd(this,"parent",void 0),nd(this,"_pendingRedraw",!1),nd(this,"children",[]),nd(this,"_transform",void 0),nd(this,"__store__",void 0),nd(this,"owner",void 0),this.props=e,this.parent=t}getChildTree(e){return void 0===e&&(e=!1),[]}get root(){for(var e=this;e.parent;)e=e.parent;return e}get inAnimation(){return!!this.parent&&this.parent.inAnimation}get hasPendingRedraw(){return this.root._pendingRedraw}requestRedraw(){this.root._pendingRedraw=!0}getChildrenToTraverse(){return this.children}getVisibleChildren(){var e=id.get(0,0,this.width,this.height),t=[];return od.traverse(this,((r,n,i,o)=>0===o||(Wh(e,n)&&r.isVisible&&t.push(r),!1)),this.getViewportCTM()),id.release(e),t}getVisibleDescendants(){var e=id.get(0,0,this.width,this.height),t=[];return od.traverse(this,((r,n,i,o)=>(0===o||Wh(e,n)&&r.isVisible&&t.push(r),!0)),this.getViewportCTM()),id.release(e),t}get transform(){return this._transform||(this._transform=this.props.transform||new ed),this._transform}get viewportBBox(){return this.getViewportCTM().transformRect(id.get(0,0,this.width,this.height))}get bbox(){return this.transform.transformRect(id.get(0,0,this.width,this.height))}get width(){return this.props.width||0}get height(){return this.props.height||0}get zOrder(){return 0}get isVisible(){return!0}get displayName(){return Object.getPrototypeOf(this).constructor.name}overlaps(e){var t=this.bbox,r=Wh(e,t);return id.release(t),r}shouldComponentUpdate(e){if(this.props===e)return!1;var t=Object.keys(this.props),r=Object.keys(e);if(t.length!==r.length)return!0;for(var n=0;n<t.length;n++){var i=t[n];if(this.props[i]instanceof ed&&e[i]instanceof ed&&!this.props[i].isEqualWith(e[i]))return!0;if(this.props[i]!==e[i])return!0}return!1}getViewportCTM(){var e=this.transform;return this.parent&&(e=this.parent.getViewportCTM().multiply(e)),e}componentDidMount(){}componentWillUpdate(e){}componentDidUpdate(e){}componentWillUnmount(){}appendWebglOps(e,t,r){}beforeDraw(e){}draw(e,t){}afterDraw(e){}getCustomCursor(){return!1}forceUpdate(){od.updateProps(this,this.props,!0)}static updateProps(e,t,r){var n={type:Object.getPrototypeOf(e).constructor,props:t};od.buildTree(n,e,e,null,r)}static buildTree(e,t,r,n,i,o){if(void 0===t&&(t=null),void 0===r&&(r=null),void 0===n&&(n=null),void 0===i&&(i=!1),void 0===o&&(o=0),!e&&t)return t;var{type:a,props:s}=e;if(t){if(a.prototype!==Object.getPrototypeOf(t))throw new Error("Unsupported update. Trying to replace "+Object.getPrototypeOf(t).constructor.name+" with "+a.prototype.constructor.name);var u=Object.assign({},t.props,s),c=i||t.shouldComponentUpdate(u);c&&t.componentWillUpdate(u);var l=t.props;if(t.props=u,c){var h=t.getChildTree(!0),d=t.children||[];h.forEach(((e,t)=>{od.buildTree(e,d[t],r,null,i,o+1)})),t.componentDidUpdate(l),t.requestRedraw()}return t}var p=new a(s,n);return p.owner=r,p.children=p.getChildTree().map((e=>od.buildTree(e,t,p,p,i,o+1))),p.componentDidMount(),p}static createElement(e,t){return{type:e,props:t}}static traverse(e,t,r,n){void 0===r&&(r=new ed),void 0===n&&(n=0);var i=r.transformRect(id.get(0,0,e.width,e.height));if(t(e,i,r,n)){var o=e.getChildrenToTraverse();if(o&&o.length){var a=o.slice(0).sort(((e,t)=>e.zOrder-t.zOrder));for(var s of a){var u=r.matrix[0],c=r.matrix[1],l=r.matrix[2],h=r.matrix[3],d=r.matrix[4],p=r.matrix[5];r.mMultiply(s.transform);var f=r.transformRect(id.get(0,0,s.width,s.height));Wh(i,f)&&od.traverse(s,t,r,n+1),r.mSet(u,c,l,h,d,p),id.release(f)}}id.release(i)}else id.release(i)}static drawWebgl(e,t,r){var n=t.gl;if(n){var i={width:n.drawingBufferWidth,height:n.drawingBufferHeight},o=[];od.drawTree(e,r,null,((e,t)=>{e.appendWebglOps(o,t,i)})),n.clearColor(0,0,0,0),n.clearStencil(0),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT|n.STENCIL_BUFFER_BIT),o.forEach((e=>{switch(e.type){case"tooltip-operation":t.linkTooltip.draw(...e.args);break;case"link-operation":t.link.draw(...e.args);break;case"shadow-operation":t.shadowDraw.draw(t.shadow.depthMapTexture,...e.args);break;case"bending-page-operation":t.bendingPage.draw(...e.args);break;case"fill-bending-page-operation":t.bendingPage.fill(...e.args);break;case"depth-map-operation":t.shadow.computeDepthMap(...e.args);break;case"highlight-operation":t.highlights.draw(...e.args);break;case"highlight-flash-operation":t.highlights.drawSelected(...e.args);break;default:throw new Error("Unknown 3d operation")}}))}}static draw2d(e,t,r){t.clearRect(r.x,r.y,r.width,r.height),od.drawTree(e,r,null,((e,r)=>{e.draw(t,r)}))}static drawTree(e,t,r,n){if(e._pendingRedraw&&(e._pendingRedraw=!1),e.isVisible){var i=r?new Float32Array(r.matrix):null;r?r.mMultiply(e.transform):r=(new ed).mMultiply(e.getViewportCTM());var o=r.transformRect(id.get(0,0,e.width,e.height));if(Wh(t,o)){e.beforeDraw(o),n(e,o);var a=e.getChildrenToTraverse();a&&a.length&&a.slice(0).sort(((e,t)=>e.zOrder-t.zOrder)).forEach((e=>od.drawTree(e,t,r,n))),e.afterDraw(o)}id.release(o),i&&r.mSetMatrix(i)}}static connect(e,t){return class extends e{constructor(r,n){var i=r.store||(null==n?void 0:n.root).__store__;if(!i)throw new Error("Cannot connect "+e.toString()+": Cannot get store!");var o=i.getState();super(rd(rd({},r),{},{dispatch:i.dispatch},t(o)),n),nd(this,"_unsubscribe",void 0)}get displayName(){return"Connected"+e.name}componentDidMount(){var r=this.root.__store__;if(!r)throw new Error("Root component has no store, cannot connect");this._unsubscribe=r.subscribe((()=>{var e=r.getState(),n=Object.assign({dispatch:r.dispatch},this.props,t(e));od.updateProps(this,n)})),e.prototype.componentDidMount.call(this)}componentWillUnmount(){this._unsubscribe&&this._unsubscribe(),e.prototype.componentWillUnmount.call(this)}}}static unmountTree(e){if(e.children)for(var t of e.children)od.unmountTree(t);e.componentWillUnmount()}}function ad(){var e=new Gh(9);return Gh!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function sd(e,t,r,n,i,o,a,s,u,c){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e[8]=c,e}function ud(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],h=t[8],d=r[0],p=r[1],f=r[2],g=r[3],m=r[4],v=r[5],y=r[6],b=r[7],_=r[8];return e[0]=d*n+p*a+f*c,e[1]=d*i+p*s+f*l,e[2]=d*o+p*u+f*h,e[3]=g*n+m*a+v*c,e[4]=g*i+m*s+v*l,e[5]=g*o+m*u+v*h,e[6]=y*n+b*a+_*c,e[7]=y*i+b*s+_*l,e[8]=y*o+b*u+_*h,e}function cd(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],h=t[8],d=r[0],p=r[1];return e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=d*n+p*a+c,e[7]=d*i+p*s+l,e[8]=d*o+p*u+h,e}function ld(e){return"openUrl"===e.type&&"video"===e.urlType}function hd(e){return"openUrl"===e.type&&"video"===e.urlType&&!!e.inlineData}function dd(e){return"openUrl"===e.type&&"shopping"===e.urlType}nd(od,"RectPool",id),nd(od,"lastTick",0);var pd=e=>{var t,r;return null!==(t=null===(r=/\/\/image(-tissuu)?\.isu\.pub[\w\/.-]*$/.exec(e))||void 0===r?void 0:r[0])&&void 0!==t?t:null};function fd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fd(Object(r),!0).forEach((function(t){md(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function md(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vd=0;function yd(e,t){return function(e,t){return e.layersInfo&&"object"==typeof e.layersInfo?function(e){var{url:t,pageNumber:r,version:n,loadStatsTracker:i}=e;return function(e,t,r,n){var i=null;switch(r){case 1:i=Wn;break;case 2:i=ii;break;default:return Promise.reject("Unknown version "+r)}return n.onPageLoadStart(t,"layers"),i(e,!1)}(t,r,n,i).then((e=>{var[t,n]=e;return function(e,t){var r="encodedImages"in e?e.encodedImages.map((e=>{var r;switch(t.onImageDecodeStart(e),e.type){case"embed":r="data:image/jpeg;base64,"+e.resource;break;case"url":r=e.url}return Bn(r).then((r=>(t.onImageDecodeEnd(e),r)))})):[Promise.reject("There is no need to decode images multiple times")],n="encodedFonts"in e?e.encodedFonts.map(((r,n)=>{var i,o="f"+e.page+"_"+n;t.onFontLoadStart(o),"embed"===r.type&&(i="url(data:application/x-font-woff;charset=utf-8;base64,"+r.resource+")");var a=e.layers.find((e=>"text"===e.type&&e.font===n&&e.text.trim().length>0));return function(e,t,r){if(Nn.hasOwnProperty(e))return Nn[e];var n=document.fonts;return Nn[e]=n?function(e,t,r){var n=new FontFace(t,r,{});e.add(n);var i=e.load("12px "+t).then((e=>{if(0===e.length)throw new Error("Native font load failed");return n})),o=null,a=new Promise(((e,t)=>{o=setTimeout((()=>t(new Error("Native font load timeout"))),3e3)}));return Promise.race([i,a]).then((e=>(o&&clearTimeout(o),e)),(e=>(o&&clearTimeout(o),Promise.reject(e))))}(n,e,t):function(e,t,r){var n='@font-face { font-family: "'+e+'"; src: '+t+'; format("woff"); }';(Ln||((Ln=document.createElement("style")).id="reader3-fonts",Ln.type="text/css",document.head&&document.head.appendChild(Ln)),Ln).appendChild(document.createTextNode(n));var i=new(Cn())(e);if("text"===(null==r?void 0:r.type)){var o=r.text.substring(0,8);return i.load(o,3e3).catch((e=>{throw new Dn('Compat font load failed: "'+e+'"')}))}return Promise.resolve(i)}(e,t,r),Nn[e]}(o,i,a).then((()=>(t.onFontLoadEnd(o),function(e,t,r){return new Promise((n=>{if(!("requestIdleCallback"in window))return n();var i=parseInt(e.replace(/^f\d+_/,""),10),o=[];r.forEach((e=>{"text"===e.type&&e.font===i&&o.push(...ai(e.text))}));var a=Array.from(new Set(o.join("")));if(0===a.length)return n();if(t/a.length<=3e3)return n();var s=li.get();if(!s)return n();var u=s.getContext("2d");if(!u)return li.release(s),n();u.font='10px "'+e+'"',window.requestIdleCallback((function e(){var t=si();do{var r=a.shift();"string"==typeof r&&(null==u||u.fillText(r,0,0))}while(si()-t<100&&a.length>0);a.length>0?window.requestIdleCallback(e):(s&&li.release(s),n())}))}))}(o,r.resource.length,e.layers)))).then((()=>({weight:r.weight})))})):[Promise.reject("There is no need to decode fonts multiple times")];return Promise.all([Promise.all(r),Promise.all(n)]).then((t=>{var[r,n]=t;return{layers:e.layers,width:e.width,height:e.height,page:e.page,version:e.version,usable:e.usable,images:r,fonts:n}}))}(t,i).then((e=>(n>1?i.onPageLoadSuccessAfterRetry(r,"layers"):i.onPageLoadSuccess(r,"layers"),e))).catch((e=>(i.onPageLoadFailure(r,"layers"),Promise.reject(e))))}))}({url:e.layersInfo.uri,pageNumber:e.pageNumber,version:e.layersInfo.version,loadStatsTracker:t}):oi({url:e.imageUri,pageNumber:e.pageNumber,width:e.width,height:e.height,loadStatsTracker:t})}(e,t).catch((r=>{if(e.layersInfo)return r&&r.skipTracking||t.onLoaderError(),t.onLayersImageFallback(),e.layersInfo=void 0,yd(e,t);throw r}))}var bd=(e,t)=>{if(!e.dominantColor)return null;var r,n,i=(r=e.dominantColor,(n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r))?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null);return i?{layers:[{type:"rect",box:[0,0,e.width,e.height],color:[i.r,i.g,i.b],blend:"Normal"}],width:e.width,height:e.height,page:e.pageNumber,state:t,encodedFonts:[],encodedImages:[]}:null};function _d(e,t,r){switch(t.state){case"NOT_LOADED":return vd<6&&(vd++,t.state="LOADING",function(e){return oi({url:pd(e.imageUri.replace(".jpg","_thumb_large.jpg"))||"",pageNumber:e.pageNumber,width:e.width,height:e.height})}(e).then((e=>{e&&"LOADED"!==t.state&&(t.state="LOADED_THUMBNAIL",t.data=e)})),yd(e,r).then((e=>{t.state="LOADED",t.data=e,vd--}),(()=>{vd--}))),bd(e,t.state);case"LOADING":return bd(e,t.state);case"LOADED_THUMBNAIL":return t.data?gd(gd({},t.data),{},{state:t.state}):null;case"LOADED":var n=t.data,i=!(!n||!("images"in n))&&n.images.some((e=>0===e.width||0===e.height));return i?(delete t.data,t.state="NOT_LOADED",_d(e,t,r)):t.data?gd(gd({},t.data),{},{state:t.state}):null;default:throw new Error("This should never execute")}}class wd{constructor(e,t){md(this,"pageModels",void 0),md(this,"loadStatsTracker",void 0),md(this,"pageDatas",void 0),md(this,"videoDatas",{}),this.pageModels=e,this.loadStatsTracker=t,this.pageDatas=new Array(e.length)}_getPageData(e){return this.pageDatas[e-1]||(this.pageDatas[e-1]={state:"NOT_LOADED"}),this.pageDatas[e-1]}getPageModel(e){return this.pageModels[e-1]}getPageLayers(e){return _d(this.getPageModel(e),this._getPageData(e),this.loadStatsTracker)}isPageReady(e){return"LOADED"===this._getPageData(e).state}_getVideoData(e){var t=e.page.pageNumber+"_"+e.id;return this.videoDatas[t]||(this.videoDatas[t]={state:"NOT_LOADED"}),this.videoDatas[t]}getVideoThumb(e){return function(e,t){if("NOT_LOADED"===t.state){t.state="LOADING";var{inlineData:r}=e;if(r){var n=r.thumbnail;(i=n,new Promise(((e,t)=>{if(!i||"None"===i.split("/").reverse()[0])return t(new TypeError("url incorrect"));var r=new Image;r.crossOrigin="Anonymous",r.onload=()=>{"function"==typeof createImageBitmap?createImageBitmap(r).then((t=>e(t))):e(r)},r.onerror=()=>t(new TypeError("Could not load image")),r.src=i}))).then((e=>{t.state="LOADED",t.data=e}),(()=>{}))}}var i;return t.data}(e,this._getVideoData(e))}getVideoThumbs(e){this.getPageModel(e).links.forEach((e=>{hd(e)&&this.getVideoThumb(e)}))}setActivePages(e,t){e.forEach((e=>{this.getPageLayers(e),this.getVideoThumbs(e)}));for(var r=[],n="SINGLE_PAGE_SPREAD"===t?1:2,i=e[0]-n,o=e[e.length-1]+n;o>=i;o--)o>0&&o<=this.pageModels.length&&(this.getPageLayers(o),this.getVideoThumbs(o),r.push(o));return this.pageDatas.forEach(((e,t)=>{e&&"LOADED"===e.state&&!r.includes(t+1)&&(delete e.data,e.state="NOT_LOADED")})),Object.keys(this.videoDatas).forEach((e=>{var t=this.videoDatas[e],n=parseInt(e,10);"LOADED"!==t.state||r.includes(n)||(delete t.data,t.state="NOT_LOADED")})),r}}function xd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ed={_pool:[],get(){return this._pool.length?this._pool.pop():document.createElement("canvas")},release(e){this._pool.push(e)}},Od=/Chrom(e|ium)/.test(navigator.userAgent),Td=na();class Sd{constructor(e,t){xd(this,"hintMaxWidth",void 0),xd(this,"hintMaxHeight",void 0),this.hintMaxWidth=e,this.hintMaxHeight=t}_initState(e,t,r,n){var i=e?e.ctx:null;if(!i||i.canvas.width!==t||i.canvas.height!==r){var o=i?i.canvas:Ed.get();o.width=t,o.height=r,i=o.getContext("2d",{alpha:!n})}return{ctx:i}}*draw(e,t,r,n,i,o){var a=this._initState(e,n,i,o);return yield*function*(e,t,r,n){void 0===n&&(n=!1);var i=yield,o=si(),a=function*(a){if(isNaN(i))return"break";var s=a;if("image"===s.type){if(!("images"in r))return"break";var u=r.images[s.image];try{if(!(t[0]<2||t[3]<2)||/(iPad|iPhone|iPod).*(AppleWebKit\/).*(Mobile\/).*(Safari\/)/i.test(navigator.userAgent)||n)e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e.drawImage(u,0,0,s.width,s.height);else{pi||(pi=document.createElement("canvas")),pi.width=2*e.canvas.width,pi.height=2*e.canvas.height,pi.id="reader3-twopass-canvas-"+pi.width+"x"+pi.height;var c=pi.getContext("2d");if(!c)throw new Error("could not get canvas for twopass scaling");c.setTransform(2*t[0],2*t[1],2*t[2],2*t[3],2*t[4],2*t[5]),c.drawImage(u,0,0,s.width,s.height),e.setTransform(1,0,0,1,0,0),e.drawImage(pi,0,0,pi.width,pi.height,0,0,e.canvas.width,e.canvas.height)}}catch(t){if(t instanceof Error){var l={has_image:!!u,image_width:u&&u.width,image_height:u&&u.height,dst_width:s.width,dst_height:s.height,canvas_width:e.canvas.width,canvas_height:e.canvas.height};throw new hi(t.message,l)}}}else if("text"===s.type){if(!("fonts"in r))return"break";var h=100*Math.ceil(r.fonts[s.font].weight/100)||400;e.font=h+" "+s.size+'px "f'+r.page+"_"+s.font+'"',e.fillStyle=di(s.color),e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e.transform(s.matrix[0],s.matrix[1],s.matrix[2],s.matrix[3],s.matrix[4],s.matrix[5]);var d=s.scale.some((e=>1!==e));ai(s.text).forEach(((r,n)=>{var i=s.originx[n],o=s.originy[n],a=s.scale[n];d&&(e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e.transform(s.matrix[0]*a,s.matrix[1]*a,s.matrix[2],s.matrix[3],s.matrix[4],s.matrix[5])),e.fillText(r,i/a,o)}))}else if("rect"===s.type){e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e.fillStyle=di(s.color);var p=e.globalCompositeOperation;e.globalCompositeOperation=s.blend,e.fillRect(s.box[0],s.box[1],s.box[2],s.box[3]),e.globalCompositeOperation=p}else if("line"===s.type){e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e.strokeStyle=di(s.color),e.lineWidth=1;var f=e.globalCompositeOperation;e.globalCompositeOperation=s.blend,e.beginPath(),e.moveTo(s.coords[0],s.coords[1]),e.lineTo(s.coords[2],s.coords[3]),e.stroke(),e.globalCompositeOperation=f}si()-o>i&&(i=yield,o=si())};for(var s of r.layers)if("break"===(yield*a(s)))break}(a.ctx,r,t,Od||Td),a}drawImage(e,t,r,n){var i=this._initState(e,r,n,!0);return i.ctx.drawImage(t,0,0,r,n),i}release(e){var{canvas:t}=e.ctx,r=()=>{t.width=0,t.height=0,Ed.release(t)};Od?r():rt().rIC(r)}getSurface(e){return e.ctx.canvas}}class Pd{constructor(e){xd(this,"gl",void 0),xd(this,"maxTextureSize",void 0),this.gl=e,this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}draw(e,t,r,n){var{gl:i}=this,o=t.width,a=t.height;if(o>this.maxTextureSize||a>this.maxTextureSize)throw new Error("Requested creation of too large texture of size "+o+"x"+a+". maxTextureSize: "+this.maxTextureSize);var s=e?e.texture:i.createTexture();return i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),i.bindTexture(i.TEXTURE_2D,s),e&&e.width===o&&e.height===a||i.texImage2D(i.TEXTURE_2D,0,i.RGBA,o,a,0,i.RGBA,i.UNSIGNED_BYTE,null),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.bindTexture(i.TEXTURE_2D,null),{texture:s,width:o,height:a,imgWidth:r,imgHeight:n}}release(e){var{gl:t}=this,{texture:r}=e;rt().rIC((()=>{t.deleteTexture(r)}))}getSurface(e){return e}}function kd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ad=["LOADED_THUMBNAIL","NOT_LOADED","LOADING"];function Id(e,t,r){var n=Math.round(e[0]*r.width),i=Math.round(t[0]*r.width),o=Math.round(e[3]*r.height),a=Math.round(t[3]*r.height);return n-i==0&&o-a==0}var Rd,jd=()=>!0;class Cd{constructor(e){var{useWebGL:t,ctx:r,hintMaxWidth:n,hintMaxHeight:i,pageModels:o,loadStatsTracker:a,renderManager:s}=e;kd(this,"draw2D",void 0),kd(this,"drawWebGL",void 0),kd(this,"loadingManager",void 0),kd(this,"loadStatsTracker",void 0),kd(this,"resources",[]),t&&r&&(this.drawWebGL=new Pd(r)),this.draw2D=new Sd(n,i),this.loadStatsTracker=a,s?(this.loadingManager=s.loadingManager,this.loadingManager.pageModels=o,this._reuseData(s)):(this.loadingManager=new wd(o,a),this.resources=new Array(o.length))}_getResource(e){return this.resources[e-1]||(this.resources[e-1]={hires:void 0,preview:void 0,videoThumbs:[]}),this.resources[e-1]}generateSurfacesUncached(e,t,r,n){var i=this.loadingManager.getPageLayers(n);if(!i)return null;var o=this.loadingManager.getPageModel(n);e[0]*=o.width/i.width,e[3]*=o.height/i.height;var a={generator:this.draw2D.draw(null,i,e,t,r,!0),state2D:null,stateWebGL:null,skipCount:0,matrix:e,width_px:t,height_px:r};return this._traditionalRendering(a,this.loadStatsTracker.uncachedFontRenderingTracker()),a.stateWebGL||a.state2D}generateSurfaces(e,t,r,n,i,o,a,s){var u=this.loadingManager.getPageLayers(o);if(!u)return{done:!1,ops:[]};if(Ad.includes(u.state)){var c=this._generatePreview(n,i,u);this._traditionalRendering(c,{start:jd,end:jd});var l=this._generatePreviewSurface(c,n,i);return{done:!1,ops:l?[l]:[]}}var h=this.loadingManager.getPageModel(o);return e[0]*=h.width/u.width,e[3]*=h.height/u.height,a?this.generateAnimatingSurfaces(e,t,n,i,o,u,s):this.generateStaticSurfaces(e,t,r,n,i,o,u,s)}generateStaticSurfaces(e,t,r,n,i,o,a,s){var u=this._getResource(o),c=[],{preview:l}=u,{hires:h}=u,d=r.width,p=r.height;if(l||(l=this._generatePreview(n,i,a),u.preview=l),!h||h.width_px!==d||h.height_px!==p||!function(e,t,r){return e[4]===t[4]&&e[5]===t[5]&&Id(e,t,r)}(e,h.matrix,a)){h&&this._releaseWebGLTexture(h);var f=h?h.state2D:null;(h={generator:this.draw2D.draw(f,a,e,d,p,!0),state2D:null,stateWebGL:null,skipCount:0,matrix:e,width_px:d,height_px:p}).generator.next(),u.hires=h}this._traditionalRendering(h,this.loadStatsTracker.hiresFontRenderingTracker()),this._incrementalRendering(l,!1,s);var g=this._getSurface(l),m=this._generateHiresSurface(h);if(m)c.push(m);else{var v=this._generatePreviewSurface(l,t.width,t.height);v&&c.push(v)}return{done:!(!m||!g),ops:c}}generateAnimatingSurfaces(e,t,r,n,i,o,a){var s=this._getResource(i),u=[],c=[],{preview:l}=s,{hires:h}=s,d=t.width,p=t.height;l||(l=this._generatePreview(r,n,o),s.preview=l),this._incrementalRendering(l,!0,a);var f=this._generatePreviewSurface(l,d,p);if(f&&(u.push(f),c.push(l)),h&&Id(h.matrix,e,o)){var g=this._generateHiresSurface(h);g&&(u.push(g),c.push(h))}var m=function(e,t){return e.map(((e,r)=>{var n=t[r],i="src_px"in e&&(e.src_px.x<0||e.src_px.width<=0||e.src_px.x+e.src_px.width>n.width_px),o="src_px"in e&&(e.src_px.y<0||e.src_px.height<=0||e.src_px.y+e.src_px.height>n.height_px),a=e.dest_px.width<=0,s=e.dest_px.height<=0;return i||o||a||s})).filter((e=>!!e))}(u,c);return m.length&&this.loadStatsTracker.onOpsValidationError(m.length),{done:!!f,ops:u}}_reuseData(e){this.resources=e.resources,this.drawWebGL||e.resources.forEach((t=>{t&&(t.hires&&e._releaseWebGLTexture(t.hires),t.preview&&e._releaseWebGLTexture(t.preview),t.videoThumbs.forEach((t=>{e._releaseWebGLTexture(t)})))}))}isPageReady(e){return this.loadingManager.isPageReady(e)}generateVideoThumbSurfaces(e,t,r){var n=this._getResource(e),i=this.loadingManager.getPageModel(e),o=t.width/i.width,a=t.height/i.height,s={ops:[],done:!0};return i.links.forEach((e=>{if(hd(e)&&("openUrl"!==(y=e).type||"video"!==y.urlType||!y.inlineData||!y.inlineData.isExplicit)){var t=e,i=this.loadingManager.getVideoThumb(t);if(!i)return void(s.done=!1);var u=n.videoThumbs.find((t=>t.id===e.id));u||(u={width_px:i.width,id:e.id,height_px:i.height,state2D:null,stateWebGL:null},n.videoThumbs.push(u));var c=this._generateVideoThumbSurface(u,i,r);if(!c)return void(s.done=!1);var l=u.width_px/(e.width*o),h=u.height_px/(e.height*a);if("youtube"===t.videoService){var d=Math.min(l,h),p=d*e.width*o,f=d*e.height*a;s.ops.push({surface:c,type:2,src_px:{x:(u.width_px-p)/2,y:(u.height_px-f)/2,width:p,height:f},dest_px:{x:e.x*o,y:e.y*a,width:e.width*o,height:e.height*a}})}else if("vimeo"===t.videoService){var g=Math.max(l,h),m=u.width_px/g,v=u.height_px/g;s.ops.push({type:3,dest_px:{x:e.x*o,y:e.y*a,width:e.width*o,height:e.height*a}},{surface:c,type:2,src_px:{x:0,y:0,width:u.width_px,height:u.height_px},dest_px:{x:e.x*o+(e.width*o-m)/2,y:e.y*a+(e.height*a-v)/2,width:m,height:v}})}}var y})),s}_generateVideoThumbSurface(e,t,r){var{width_px:n,height_px:i}=e,{state2D:o}=e;if(!o){if(r+10-performance.now()<0)return null;o=this.draw2D.drawImage(null,t,n,i),e.state2D=o}var a=this.draw2D.getSurface(o),{drawWebGL:s}=this;if(s){var{stateWebGL:u}=e;return u||(u=s.draw(null,a,n,i),e.stateWebGL=u),s.getSurface(u)}return a}_getSurface(e){return this.drawWebGL&&e.stateWebGL?this.drawWebGL.getSurface(e.stateWebGL):!this.drawWebGL&&e.state2D?this.draw2D.getSurface(e.state2D):null}_traditionalRendering(e,t){if(e){if(!e.state2D){t.start();for(var r=e.generator.next(50);!r.done;)r=e.generator.next(50);e.state2D=r.value,t.end()}if(this.drawWebGL&&!e.stateWebGL&&e.state2D){var{drawWebGL:n}=this,i=this.draw2D.getSurface(e.state2D),{width:o,height:a}=i;e.stateWebGL=n.draw(e.stateWebGL,i,o,a)}}}_incrementalRendering(e,t,r){if(e){var n=e.skipCount<3,i=r+(t&&n?10:50)-performance.now();if(i<0&&n)e.skipCount++;else if(e.skipCount=0,e.state2D){if(this.drawWebGL&&!e.stateWebGL){var{drawWebGL:o}=this,a=this.draw2D.getSurface(e.state2D),{width:s,height:u}=a;e.stateWebGL=o.draw(e.stateWebGL,a,s,u)}}else{var c=e.generator.next(i);c.done&&(e.state2D=c.value)}}}_generateHiresSurface(e){if(!e)return null;var t=e.width_px,r=e.height_px,n=this._getSurface(e);return t>0&&r>0&&n?{surface:n,type:0,src_px:{x:0,y:0,width:t,height:r},dest_px:{x:-e.matrix[4],y:-e.matrix[5],width:t,height:r}}:null}_generatePreviewSurface(e,t,r){if(!e)return null;var n=this._getSurface(e);return n?{surface:n,type:1,src_px:{x:0,y:0,width:e.width_px,height:e.height_px},dest_px:{x:0,y:0,width:t,height:r}}:null}_generatePreview(e,t,r){var n=[e/r.width,0,0,t/r.height,0,0],i={generator:this.draw2D.draw(null,r,n,e,t,!1),state2D:null,stateWebGL:null,skipCount:0,matrix:n,width_px:e,height_px:t};return i.generator.next(),i}setActivePages(e,t){var r=this.loadingManager.setActivePages(e,t);this.resources.forEach(((e,t)=>{e&&!r.includes(t+1)&&this._releaseResource(e)}))}_releaseWebGLTexture(e){this.drawWebGL&&e.stateWebGL&&(this.drawWebGL.release(e.stateWebGL),e.stateWebGL=null)}_releaseResource(e){var{hires:t,preview:r}=e;t&&(t.state2D&&this.draw2D.release(t.state2D),this._releaseWebGLTexture(t)),r&&(r.state2D&&this.draw2D.release(r.state2D),this._releaseWebGLTexture(r)),e.hires=void 0,e.preview=void 0,e.videoThumbs.forEach((e=>{e.state2D&&this.draw2D.release(e.state2D),this._releaseWebGLTexture(e)})),e.videoThumbs.length=0}release(){this.resources.forEach((e=>{e&&this._releaseResource(e)})),this.resources=[]}}function Dd(e,t,r){var n=e.createShader(r);if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)&&!e.isContextLost()){var i=r===e.FRAGMENT_SHADER?"fragment":"vertex",o=e.getShaderInfoLog(n)||"",a=(e.getSupportedExtensions()||[]).join(",");throw new Error("Cannot compile "+i+" shader: "+o+"\n["+a+"]")}return n}function Nd(e,t){for(var r=new Set,n=0;n<e;n++){var i=t(n);i&&r.add(i.name)}return r}function Ld(e,t,r){var n=Dd(e,t,e.VERTEX_SHADER),i=Dd(e,r,e.FRAGMENT_SHADER),o=e.createProgram();e.attachShader(o,n),e.attachShader(o,i),function(e,t){if(e.linkProgram(t),!e.getProgramParameter(t,e.LINK_STATUS)&&!e.isContextLost()){var r=e.getProgramInfoLog(t)||"",n=(e.getSupportedExtensions()||[]).join(",");throw new Error("Cannot link shaderprogram: "+r+"\n["+n+"]")}}(e,o);var a=Nd(e.getProgramParameter(o,e.ACTIVE_UNIFORMS),(t=>e.getActiveUniform(o,t))),s=Nd(e.getProgramParameter(o,e.ACTIVE_ATTRIBUTES),(t=>e.getActiveAttrib(o,t))),u={id:o,bind:()=>{if(Rd!==u)for(var t of(Rd&&Rd.unbind(),Rd=u,e.useProgram(u.id),Array.from(s)))e.enableVertexAttribArray(u[t])},unbind:()=>{for(var t of Array.from(s))e.disableVertexAttribArray(u[t])},destroy:()=>{Rd&&Rd===u&&(Rd.unbind(),Rd=null),e.detachShader(o,n),e.deleteShader(n),e.detachShader(o,i),e.deleteShader(i),e.deleteProgram(o)}};for(var c of Array.from(s))u[c]=e.getAttribLocation(o,c);for(var l of Array.from(a))u[l]=e.getUniformLocation(o,l);return u}function Md(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Fd{constructor(e){Md(this,"gl",void 0),Md(this,"normalShader",null),Md(this,"shader",void 0),Md(this,"verticeBuffer",void 0),Md(this,"normalsBuffer",void 0),Md(this,"textureCoordsBuffer",void 0),Md(this,"perspectiveCorrectionsBuffer",void 0),Md(this,"indiceBuffer",void 0),Md(this,"normalLinesBuffer",null),Md(this,"whitePaperTexture",void 0),Md(this,"blackPaperTexture",void 0),Md(this,"matrix",ad()),Md(this,"projection",ad()),Md(this,"texMatrix",ad()),Md(this,"clipRect",new Float32Array([0,1,0,1])),this.gl=e,this.shader=Ld(e,"precision highp float;\n\nattribute vec3 vertex;\nattribute vec3 normal;\nattribute vec2 textureCoord;\nattribute float perspectiveCorrection;\n\nuniform mat3 u_matrix;\nuniform mat3 u_texMatrix;\n\nvarying vec3 vnormal;\nvarying vec3 lightDirection;\nvarying vec3 cameraDirection;\nvarying vec2 texcoord;\n\nvoid main(void) {\n    // Z must be one as a 3x3 u_matrix has translation (tx,ty) in the same row.\n    // Just use a 4d matrix, will be simple.\n    vec3 p = vec3((u_matrix * vec3(vertex.xy, 1.0)).xy, vertex.z);\n\n    vnormal = normal;\n    lightDirection = normalize(vec3(10.0, 5.0, 4.0) - p);\n    cameraDirection = normalize(vec3(0, 0.0, 1.0) - p);\n\n    texcoord = (u_texMatrix * vec3(textureCoord, 1)).xy;\n\n    gl_Position = vec4(p.xy, -p.z, perspectiveCorrection);\n}\n","precision highp float;\n\nvarying vec3 vnormal;\nvarying vec3 cameraDirection;\nvarying vec3 lightDirection;\nvarying vec2 texcoord;\n\n// ratio between lighted texture fragment and original texture\n// Ensures smooth transition between static page and bending.\nuniform float lightRatio;\n\nuniform sampler2D texture;\nuniform bool showSpinner;\nuniform float tick;\nuniform float spinnerSize;\n\nuniform vec4 bbox;\nuniform vec2 viewport;\nuniform vec4 clipRect;\n\n// Space in the spinner: 2.2 | 2.4 | 1.5 | 3.5 | 1.5 | 2.4 | 2.2\n\nvec3 spinner(vec2 texcoord, vec4 bbox, vec2 viewport, float size, float tick) {\n    float aspect = (bbox[2] * viewport.x) / (bbox[3] * viewport.y);\n    float pxSize = 1.0 / ((bbox[3] * viewport.y) / 2.0);\n    vec2 pos = vec2((texcoord.x - 0.5) * aspect, texcoord.y - 0.5);\n\n    const float SPEED = 0.00435;\n    const float PI_HALF = 1.5707963267949;\n\n    float radius1 = size * pxSize * 2.5 / 15.7; // (3.5 / 2.0 + 1.5 / 2.0) / 15.7\n    float radius2 = size * pxSize * 6.75 / 15.7; // (3.5 / 2.0 + 1.5 + 2.4 + 2.2 / 2.0) / 15.7;\n\n    float d = length(pos);\n\n    float k1 = size * pxSize * 0.6 / 15.7; //(1.2 / 2.0 / 15.7);\n    float k2 = size * pxSize * 1.0 / 15.7; //(2.0 / 2.0 / 15.7);\n\n    vec2 direction = normalize(vec2(sin(tick * SPEED), cos(tick * SPEED)));\n    float angle = acos(dot(pos, direction) / length(pos));\n\n    // smoothstep over 1 pixel to anti alias the circles\n    float circle1 = smoothstep((radius1 - k1) - pxSize, (radius1 - k1), d) * (1.0 - smoothstep(radius1 + k1, radius1 + k1 + pxSize, d));\n    float circle2 = smoothstep((radius2 - k2) - pxSize, (radius2 - k2), d) * (1.0 - smoothstep(radius2 + k2, radius2 + k2 + pxSize, d));\n    float roundcap1 = 1.0 - smoothstep(k2, k2 + pxSize, length(pos - vec2(direction.y, -direction.x) * radius2));\n    float roundcap2 = 1.0 - smoothstep(k2, k2 + pxSize, length(pos - vec2(-direction.y, direction.x) * radius2));\n\n    float background = max(circle1, circle2) * 0.5;\n    float foreground = max(max(angle < PI_HALF ? circle2 : 0.0, max(roundcap1, roundcap2)), circle1);\n\n    vec3 backgroundColor = vec3(float(0xf2) / 256.0);\n    vec3 spinnerColor = vec3(float(0x9A) / 256.0, float(0xA8) / 256.0, float(0xA9) / 256.0); // $pewter-500\n\n    return mix(backgroundColor, spinnerColor, max(background, foreground));\n}\n\nvec3 applyLight(vec3 materialColor, vec3 normal, vec3 cameraDirection, vec3 lightDirection, float lightRatio) {\n    // http://www.tomdalling.com/blog/modern-opengl/08-even-more-lighting-directional-lights-spotlights-multiple-lights/\n    vec3 reflectionDirection = reflect(-lightDirection, normal);\n\n    vec3 ambient = vec3(0.9) * materialColor;\n    vec3 diffuse = vec3(0.2) * clamp(dot(normal, lightDirection), 0.0, 1.0) * materialColor;\n    float shininess = 5.0;\n    vec3 materialSpecularColor = vec3(0.3);\n    vec3 specular = materialSpecularColor * pow(max(dot(reflectionDirection, cameraDirection), 0.0), shininess);\n    vec3 litColor = ambient + diffuse + specular;\n    return (litColor * lightRatio) + (1.0 - lightRatio) * materialColor;\n}\n\n\nvoid main(void) {\n\n    vec3 color;\n\n    if (showSpinner) {\n        color = spinner(texcoord, bbox, viewport, spinnerSize, tick);\n    } else {\n        color = texture2D(texture, texcoord).rgb;\n    }\n\n    color = applyLight(color, vnormal, cameraDirection, lightDirection, lightRatio);\n\n    if (texcoord.s >= clipRect[0] && texcoord.s <= clipRect[1] && texcoord.t >= clipRect[2] && texcoord.t <= clipRect[3]) {\n        gl_FragColor = vec4(color.rgb, 1.0);\n    } else {\n        gl_FragColor = vec4(0, 0, 0, 0.0);\n    }\n}\n"),this.verticeBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.verticeBuffer),e.bufferData(e.ARRAY_BUFFER,7500,e.DYNAMIC_DRAW),this.normalsBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.normalsBuffer),e.bufferData(e.ARRAY_BUFFER,7500,e.DYNAMIC_DRAW),this.textureCoordsBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.textureCoordsBuffer),e.bufferData(e.ARRAY_BUFFER,5e3,e.DYNAMIC_DRAW),this.perspectiveCorrectionsBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.perspectiveCorrectionsBuffer),e.bufferData(e.ARRAY_BUFFER,2500,e.DYNAMIC_DRAW),this.indiceBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,6912,e.DYNAMIC_DRAW),this.whitePaperTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.whitePaperTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([255,255,255,255])),e.bindTexture(e.TEXTURE_2D,null),this.blackPaperTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.blackPaperTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([0,0,0,255])),e.bindTexture(e.TEXTURE_2D,null)}destroy(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.normalsBuffer),e.deleteBuffer(this.textureCoordsBuffer),e.deleteBuffer(this.perspectiveCorrectionsBuffer),e.deleteBuffer(this.indiceBuffer),e.deleteTexture(this.whitePaperTexture),e.deleteTexture(this.blackPaperTexture),this.shader.destroy()}_calculateMatrix(e,t,r){var n=t&&"src_px"in t?t.src_px.x:0,i=t&&"src_px"in t?t.src_px.y:0,o=t&&"src_px"in t?t.src_px.width:r.width,a=t&&"src_px"in t?t.src_px.height:r.height,s=t&&"surface"in t?t.surface.width:r.width,u=t&&"surface"in t?t.surface.height:r.height,c=t&&"surface"in t&&"imgWidth"in t.surface?t.surface.imgWidth:r.width,l=t&&"surface"in t&&"imgHeight"in t.surface?t.surface.imgHeight:r.height,h=t?t.dest_px.x:0,d=t?t.dest_px.y:0,p=t?t.dest_px.width:r.width,f=t?t.dest_px.height:r.height,g=e.drawingBufferHeight-r.y-r.height;i=l-i-a,d=r.height-d-f,sd(this.matrix,r.width,0,0,0,r.height,0,r.x,g,1),sd(this.projection,2/e.drawingBufferWidth,0,0,0,2/e.drawingBufferHeight,0,-1,-1,1),ud(this.matrix,this.projection,this.matrix);var m=Math.max(0,(1-o/p)/2),v=Math.max(0,(1-a/f)/2),y=(o-2*m)/s/(p/r.width),b=(a-2*v)/u/(f/r.height),_=-h/r.width*y+(n+m)/s,w=-d/r.height*b+(i+v)/u;sd(this.texMatrix,y,0,0,0,b,0,_,w,1),this.clipRect.set([(n+m)/c,(n+o-m)/c,(i+v)/l,(i+a-v)/l])}fill(e,t,r,n,i,o,a){void 0===a&&(a=0),this.draw(e,{surface:{texture:this.blackPaperTexture,width:1,height:1,imgWidth:1,imgHeight:1},type:2,src_px:{x:0,y:0,width:1,height:1},dest_px:t.dest_px},r,n,i,o,a)}draw(e,t,r,n,i,o,a){void 0===a&&(a=0);var{gl:s,shader:u}=this,c=ia();s.enable(s.DEPTH_TEST),s.depthFunc(s.LEQUAL),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),s.enable(s.CULL_FACE),s.cullFace(s.BACK),u.bind(),this._calculateMatrix(s,t,r),s.uniformMatrix3fv(u.u_matrix,!1,this.matrix),s.uniformMatrix3fv(u.u_texMatrix,!1,this.texMatrix);var l=s.canvas.width,h=s.canvas.height,d=r.x/l*2-1,p=r.y/h*2-1,f=r.width/l*2,g=r.height/h*2;s.uniform1f(u.lightRatio,n),s.uniform1f(u.tick,a),s.uniform1f(u.spinnerSize,22*c),s.uniform1i(u.showSpinner,!t&&o?1:0),s.uniform4f(u.bbox,d,p,f,g),s.uniform4fv(u.clipRect,this.clipRect),s.uniform2f(u.viewport,s.drawingBufferWidth,s.drawingBufferHeight),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,t&&"surface"in t&&"texture"in t.surface?t.surface.texture:this.whitePaperTexture),s.uniform1i(u.texture,0),s.bindBuffer(s.ARRAY_BUFFER,this.verticeBuffer),s.bufferSubData(s.ARRAY_BUFFER,0,e.vertices),s.vertexAttribPointer(u.vertex,3,s.FLOAT,!1,0,0),s.bindBuffer(s.ARRAY_BUFFER,this.normalsBuffer),s.bufferSubData(s.ARRAY_BUFFER,0,i?e.backFacingNormals:e.normals),s.vertexAttribPointer(u.normal,3,s.FLOAT,!1,0,0),s.bindBuffer(s.ARRAY_BUFFER,this.textureCoordsBuffer),s.bufferSubData(s.ARRAY_BUFFER,0,i?e.backFacingTextureCoords:e.textureCoords),s.vertexAttribPointer(u.textureCoord,2,s.FLOAT,!1,0,0),s.bindBuffer(s.ARRAY_BUFFER,this.perspectiveCorrectionsBuffer),s.bufferSubData(s.ARRAY_BUFFER,0,e.perspectiveCorrections),s.vertexAttribPointer(u.perspectiveCorrection,1,s.FLOAT,!1,0,0),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),s.bufferSubData(s.ELEMENT_ARRAY_BUFFER,0,i?e.backFacingIndices:e.indices),s.drawElements(s.TRIANGLES,6*(e.size-1)*(e.size-1),s.UNSIGNED_SHORT,0)}}function Bd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ud=new Float32Array([1,1,0,.5]),zd=new Float32Array([0,0,0,.3]);function Hd(e){return{min:{x:Math.min(e.p1.x,e.p2.x,e.p3.x,e.p4.x),y:Math.min(e.p1.y,e.p2.y,e.p3.y,e.p4.y)},max:{x:Math.max(e.p1.x,e.p2.x,e.p3.x,e.p4.x),y:Math.max(e.p1.y,e.p2.y,e.p3.y,e.p4.y)}}}function Wd(e){var t=new Float32Array(6*e.length*2);return e.forEach(((e,r)=>{t[12*r+0]=e.p1.x,t[12*r+1]=e.p1.y,t[12*r+2]=e.p3.x,t[12*r+3]=e.p3.y,t[12*r+4]=e.p2.x,t[12*r+5]=e.p2.y,t[12*r+6]=e.p2.x,t[12*r+7]=e.p2.y,t[12*r+8]=e.p3.x,t[12*r+9]=e.p3.y,t[12*r+10]=e.p4.x,t[12*r+11]=e.p4.y})),t}var Gd,Vd=(Gd=ad(),function(e,t){return sd(Gd,2/e,0,0,0,-2/t,0,-1,1,1)}),qd=(()=>{var e=Vh(),t=ad();return function(r,n,i){var o,a,s,u,c;return cd(t,r,Yh(e,i.x,i.y)),o=t,a=t,u=(s=Yh(e,n,n))[0],c=s[1],o[0]=u*a[0],o[1]=u*a[1],o[2]=u*a[2],o[3]=c*a[3],o[4]=c*a[4],o[5]=c*a[5],o[6]=a[6],o[7]=a[7],o[8]=a[8],cd(t,t,Yh(e,-i.x,-i.y)),t}})();class Yd{constructor(e){Bd(this,"gl",void 0),Bd(this,"verticeBuffer",void 0),Bd(this,"texCoordBuffer",void 0),Bd(this,"shader",void 0),Bd(this,"selectedShader",void 0),Bd(this,"emptyTexture",void 0),this.gl=e,this.shader=Ld(e,"attribute vec2 a_vertex;\n\nuniform mat3 u_displayMatrix;\n\nvoid main(void) {\n    gl_Position = vec4(u_displayMatrix * vec3(a_vertex, 1.0), 1.0);\n}\n\n","precision highp float;\n\nuniform vec4 u_color;\n\nvoid main(void) {\n    gl_FragColor = u_color;\n}\n"),this.selectedShader=Ld(e,"precision highp float;\n\nattribute vec2 a_vertex;\nattribute vec2 a_texCoord;\n\nuniform mat3 u_displayMatrix;\n\nvarying vec2 v_texCoord;\n\nvoid main(void) {\n    v_texCoord = a_texCoord;\n    gl_Position = vec4(u_displayMatrix * vec3(a_vertex, 1.0), 1.0);\n    \n\n}\n\n","precision highp float;\n\nuniform vec4 u_color;\nuniform sampler2D u_texture;\n\nvarying vec2 v_texCoord;\n\nvoid main(void) {\n    vec3 col = texture2D(u_texture, v_texCoord).rgb * u_color.a + u_color.rgb * u_color.a;\n    gl_FragColor = vec4(col, 1);\n}\n"),this.verticeBuffer=e.createBuffer(),this.texCoordBuffer=e.createBuffer(),this.emptyTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.emptyTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array([255,255,255,255])),e.bindTexture(e.TEXTURE_2D,null)}draw(e,t){var{gl:r,shader:n,verticeBuffer:i}=this;r.disable(r.DEPTH_TEST),r.disable(r.CULL_FACE),r.enable(r.STENCIL_TEST),n.bind(),r.bindBuffer(r.ARRAY_BUFFER,i),r.vertexAttribPointer(n.a_vertex,2,r.FLOAT,!1,0,0),r.uniformMatrix3fv(n.u_displayMatrix,!1,Vd(r.drawingBufferWidth,r.drawingBufferHeight)),t.length&&(r.stencilFunc(r.NEVER,1,1),r.stencilOp(r.REPLACE,r.KEEP,r.KEEP),r.bufferData(r.ARRAY_BUFFER,Wd(t),r.DYNAMIC_DRAW),r.drawArrays(r.TRIANGLES,0,6*t.length)),r.enable(r.BLEND),r.uniform4fv(n.u_color,zd),r.stencilFunc(r.NOTEQUAL,1,1),r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ZERO,r.ONE),r.blendEquation(r.FUNC_ADD);var o={p1:{x:e.x,y:e.y},p2:{x:e.x+e.width,y:e.y},p3:{x:e.x,y:e.y+e.height},p4:{x:e.x+e.width,y:e.y+e.height}};r.bufferData(r.ARRAY_BUFFER,Wd([o]),r.DYNAMIC_DRAW),r.drawArrays(r.TRIANGLES,0,6),r.disable(r.BLEND),r.disable(r.STENCIL_TEST),r.enable(r.CULL_FACE),r.enable(r.DEPTH_TEST)}drawSelected(e,t,r,n){var{gl:i,shader:o,selectedShader:a,verticeBuffer:s,texCoordBuffer:u}=this;if(i.disable(i.DEPTH_TEST),i.disable(i.CULL_FACE),i.bindBuffer(i.ARRAY_BUFFER,s),i.bufferData(i.ARRAY_BUFFER,Wd(e),i.DYNAMIC_DRAW),i.bindBuffer(i.ARRAY_BUFFER,null),n>1){a.bind();var c=qd(Vd(i.drawingBufferWidth,i.drawingBufferHeight),n,r);i.uniformMatrix3fv(a.u_displayMatrix,!1,c),i.bindBuffer(i.ARRAY_BUFFER,s),i.vertexAttribPointer(a.a_vertex,2,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,u),i.bufferData(i.ARRAY_BUFFER,function(e){var t=new Float32Array(6*e.length*2);return e.forEach(((e,r)=>{var n=Hd(e),i=e=>(e-n.min.x)/(n.max.x-n.min.x),o=e=>(n.max.y-e)/(n.max.y-n.min.y);t[12*r+0]=i(e.p1.x),t[12*r+1]=o(e.p1.y),t[12*r+2]=i(e.p3.x),t[12*r+3]=o(e.p3.y),t[12*r+4]=i(e.p2.x),t[12*r+5]=o(e.p2.y),t[12*r+6]=i(e.p2.x),t[12*r+7]=o(e.p2.y),t[12*r+8]=i(e.p3.x),t[12*r+9]=o(e.p3.y),t[12*r+10]=i(e.p4.x),t[12*r+11]=o(e.p4.y)})),t}(e),i.DYNAMIC_DRAW),i.vertexAttribPointer(a.a_texCoord,2,i.FLOAT,!1,0,0),i.activeTexture(i.TEXTURE0),i.uniform1i(a.u_texture,0),i.uniform4fv(a.u_color,Ud);for(var l=0;l<e.length;l++){var h=t[l];i.bindTexture(i.TEXTURE_2D,h&&"texture"in h?h.texture:this.emptyTexture),i.drawArrays(i.TRIANGLES,6*l,6)}}else i.enable(i.BLEND),o.bind(),i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ZERO,i.ONE),i.blendEquation(i.FUNC_ADD),i.bindBuffer(i.ARRAY_BUFFER,s),i.vertexAttribPointer(o.a_vertex,2,i.FLOAT,!1,0,0),i.uniform4fv(o.u_color,Ud),i.drawArrays(i.TRIANGLES,0,6*e.length),i.disable(i.BLEND);i.enable(i.CULL_FACE),i.enable(i.DEPTH_TEST)}destroy(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.texCoordBuffer),e.deleteTexture(this.emptyTexture),this.shader.destroy(),this.selectedShader.destroy()}}function $d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Xd{constructor(e){$d(this,"gl",void 0),$d(this,"verticeBuffer",void 0),$d(this,"shader",void 0),this.gl=e,this.shader=Ld(e,"attribute vec2 vertex;\n\nuniform vec4 texCoords;\nuniform vec4 bbox;\nuniform vec2 viewport;\n\nvarying vec2 textureCoordinate;\n\nvoid main(void) {\n    // map vertex to correct point based on bbox and viewport\n    vec2 xw = 2.0 * bbox.xz / viewport.x;\n    vec2 yh = 2.0 * bbox.yw / viewport.y;\n    vec2 p = vec2((xw[0] - 1.0) + vertex.x * xw[1], (1.0 - yh[0]) - vertex.y * yh[1]);\n\n    textureCoordinate = vec2(texCoords[0] + vertex.x * texCoords[2], texCoords[1] + vertex.y * texCoords[3]);\n    gl_Position = vec4(p, 0.0, 1);\n}\n","precision mediump float;\n\nuniform sampler2D texture;\nvarying vec2 textureCoordinate;\nuniform float opacity;\n\nvoid main(void) {\n    gl_FragColor = texture2D(texture, textureCoordinate) * opacity;\n}\n\n");var t=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),e.STATIC_DRAW),this.verticeBuffer=t}destroy(){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.verticeBuffer),this.shader.destroy()}draw(e,t,r,n){void 0===r&&(r={x:0,y:0,width:1,height:1}),void 0===n&&(n=1);var{gl:i,shader:o}=this;o.bind(),i.disable(i.DEPTH_TEST),i.uniform2f(o.viewport,i.drawingBufferWidth,i.drawingBufferHeight),i.uniform4f(o.bbox,t.x,t.y,t.width,t.height),i.uniform4f(o.texCoords,r.x,r.y,r.width,r.height),i.uniform1f(o.opacity,n),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,e),i.uniform1i(o.texture,0),i.bindBuffer(i.ARRAY_BUFFER,this.verticeBuffer),i.vertexAttribPointer(o.vertex,2,i.FLOAT,!1,0,0),i.drawArrays(i.TRIANGLE_STRIP,0,4)}}const Kd=[function(e,t){e.save(),t.stack++,e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(0,0),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),t.stack++,e.fillStyle="rgba(0,0,0,0)",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.translate(8,10),e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.beginPath(),e.moveTo(16.683499,11.621507),e.bezierCurveTo(15.72267,11.621507,14.892862,12.262398,14.630817,13.116921),e.lineTo(7.861335,13.116921),e.bezierCurveTo(7.59929,12.347851,6.987853,11.792411,6.158046,11.664233),e.lineTo(6.027023,10.766984),e.lineTo(17.513307,9.228843),e.bezierCurveTo(17.819025,9.186117,18.08107,8.929761,18.08107,8.587952),e.lineTo(18.08107,2.520841),e.bezierCurveTo(18.08107,2.179032,17.775351,1.87995,17.425959,1.87995),e.lineTo(4.760475,1.87995),e.lineTo(4.585779,.55544),e.bezierCurveTo(4.542105,.256357,4.28006,0,3.930667,0),e.lineTo(.655111,0),e.bezierCurveTo(.305719,0,0,.299083,0,.640892),e.bezierCurveTo(0,.982701,.305719,1.281784,.655111,1.281784),e.lineTo(3.31923,1.281784),e.lineTo(4.891497,11.792411),e.bezierCurveTo(4.149038,12.13422,3.624949,12.860564,3.624949,13.715087),e.bezierCurveTo(3.624949,14.911418,4.585779,15.851393,5.808653,15.851393),e.bezierCurveTo(6.769483,15.851393,7.59929,15.210501,7.861335,14.355979),e.lineTo(14.587143,14.355979),e.bezierCurveTo(14.849188,15.210501,15.678995,15.851393,16.639825,15.851393),e.bezierCurveTo(17.8627,15.851393,18.823529,14.911418,18.823529,13.715087),e.bezierCurveTo(18.823529,12.518755,17.8627,11.621507,16.683499,11.621507),e.lineTo(16.683499,11.621507),e.closePath(),e.moveTo(16.770848,3.161733),e.lineTo(16.770848,8.032512),e.lineTo(5.896001,9.442474),e.lineTo(4.978845,3.119007),e.lineTo(16.770848,3.161733),e.lineTo(16.770848,3.161733),e.closePath(),e.moveTo(5.808653,14.612336),e.bezierCurveTo(5.328238,14.612336,4.935171,14.2278,4.935171,13.757813),e.bezierCurveTo(4.935171,13.287826,5.328238,12.90329,5.808653,12.90329),e.bezierCurveTo(6.289068,12.90329,6.682135,13.287826,6.682135,13.757813),e.bezierCurveTo(6.682135,14.2278,6.289068,14.612336,5.808653,14.612336),e.lineTo(5.808653,14.612336),e.closePath(),e.moveTo(16.683499,14.612336),e.bezierCurveTo(16.203084,14.612336,15.810018,14.2278,15.810018,13.757813),e.bezierCurveTo(15.810018,13.287826,16.203084,12.90329,16.683499,12.90329),e.bezierCurveTo(17.163914,12.90329,17.556981,13.287826,17.556981,13.757813),e.bezierCurveTo(17.556981,14.2278,17.163914,14.612336,16.683499,14.612336),e.lineTo(16.683499,14.612336),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--}];var Zd={draw(e,t,r,n){var i=1.8*n;e.save(),e.beginPath(),e.arc(t,r,n,0,2*Math.PI),e.fill(),e.translate(t-i/2,r-i/2),e.scale(i/36,i/36),Kd[0](e,{stack:0}),e.restore()}};const Jd=[function(e,t){e.save(),t.stack++,e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(0,0),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),t.stack++,e.fillStyle="rgba(0,0,0,0)",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="#F2F2F2",e.lineWidth=2,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="#F2F2F2",e.lineWidth=2,e.beginPath(),e.moveTo(12.340871,10.014123),e.bezierCurveTo(12.438705,9.987436,12.545844,9.99788,12.638453,10.051348),e.lineTo(25.723194,17.605827),e.bezierCurveTo(25.744171,17.617938,25.76355,17.631794,25.781276,17.647113),e.bezierCurveTo(25.850585,17.681197,25.910658,17.735014,25.951029,17.804939),e.bezierCurveTo(26.061419,17.99614,25.995389,18.240929,25.808595,18.348775),e.lineTo(12.645177,25.948678),e.bezierCurveTo(12.576466,25.988348,12.500235,26.004075,12.425883,25.999113),e.bezierCurveTo(12.41723,25.999695,12.408519,25.99999,12.399759,25.99999),e.bezierCurveTo(12.178978,25.99999,12,25.820411,12,25.604721),e.lineTo(12,10.404915),e.bezierCurveTo(12,10.206904,12.152566,10.0429,12.340871,10.014123),e.lineTo(12.340871,10.014123),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--}];var Qd={draw(e,t,r,n){var i=1.8*n;e.save(),e.beginPath(),e.arc(t,r,n,0,2*Math.PI),e.fill(),e.translate(t-i/2,r-i/2),e.scale(i/36,i/36),Jd[0](e,{stack:0}),e.restore()}};function ep(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class tp{constructor(e,t){ep(this,"gl",void 0),ep(this,"texture",void 0),ep(this,"textureSize",void 0),ep(this,"shader",void 0),ep(this,"imagePrimitive",void 0),ep(this,"verticeBuffer",void 0),ep(this,"barycentricBuffer",void 0),this.gl=e,this.shader=Ld(e,"attribute vec2 vertex;\nattribute vec4 barycentric;\n\nuniform vec2 viewport;\nuniform vec4 bbox;\n\nvarying vec4 vBC;\n\nvoid main(void) {\n    // map vertex to correct point based on bbox and viewport\n    vec2 xw = 2.0 * bbox.xz / viewport.x;\n    vec2 yh = 2.0 * bbox.yw / viewport.y;\n    vec2 p = vec2((xw[0] - 1.0) + vertex.x * xw[1], (1.0 - yh[0]) - vertex.y * yh[1]);\n\n    vBC = barycentric;\n    gl_Position = vec4(p, 0.0, 1.0);\n}\n","#extension GL_OES_standard_derivatives : enable\n\nprecision highp float;\n\nuniform float opacity;\nuniform float strokeWidth;\n\nvarying vec4 vBC;\n\nfloat minComponent(vec4 v) {\n    return min(min(min(v[0], v[1]), v[2]), v[3]);\n}\n\nvoid main(void) {\n    vec3 linkColor = vec3(118.0 / 255.0, 165.0 / 255.0, 204.0 / 255.0);\n    vec4 strokeStyle = vec4(linkColor, opacity);\n    vec4 fillStyle = vec4(linkColor, opacity / 2.0);\n\n    // draw outline by using barycentric coordinates, adapted to quads\n\t// http://codeflow.org/entries/2012/aug/02/easy-wireframe-display-with-barycentric-coordinates/\n    vec4 d = smoothstep(vec4(0.0), fwidth(vBC) * strokeWidth, vBC);\n    gl_FragColor = mix(strokeStyle, fillStyle, minComponent(d));\n}\n"),this.imagePrimitive=t;var r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),e.STATIC_DRAW),this.verticeBuffer=r;var n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,1,0,0,1,0,0,1,0,1,1,0,0,0,1,1]),e.STATIC_DRAW),this.barycentricBuffer=n,this.textureSize=this.getTextureSize(),this.texture=this.getTexture()}destroy(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.barycentricBuffer),e.deleteTexture(this.texture),this.shader.destroy()}_iconRadius(){return 20*ia()}getTextureSize(){var e;return e=2*this._iconRadius()*2,1<<1+Math.floor(Math.log2(e))}getTexture(){var{gl:e}=this,t=document.createElement("canvas");t.width=this.textureSize,t.height=this.textureSize;var r=2*this._iconRadius(),n=t.getContext("2d");n.fillStyle="rgba(0, 1, 0, 0.0)",n.fillRect(0,0,t.width,t.height),n.fillStyle="rgba(0, 0, 0, 0.7)",Qd.draw(n,r/2,r/2,this._iconRadius()),Zd.draw(n,r+r/2,r/2,this._iconRadius()),this.texture&&e.deleteTexture(this.texture);var i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),i}draw(e,t,r){var{gl:n,shader:i}=this;if(n.disable(n.DEPTH_TEST),n.enable(n.BLEND),n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE),n.blendEquation(n.FUNC_ADD),i.bind(),n.uniform2f(i.viewport,n.drawingBufferWidth,n.drawingBufferHeight),n.uniform4f(i.bbox,r.x,r.y,r.width,r.height),n.uniform1f(i.opacity,t),n.uniform1f(i.strokeWidth,1),n.bindBuffer(n.ARRAY_BUFFER,this.verticeBuffer),n.vertexAttribPointer(i.vertex,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,this.barycentricBuffer),n.vertexAttribPointer(i.barycentric,4,n.FLOAT,!1,0,0),n.drawArrays(n.TRIANGLE_STRIP,0,4),(ld(e)||dd(e))&&r.width>50&&r.height>50){var o={x:r.x+r.width/2-this._iconRadius(),y:r.y+r.height/2-this._iconRadius(),width:2*this._iconRadius(),height:2*this._iconRadius()},a={x:0,y:0,width:2*this._iconRadius()/this.textureSize,height:2*this._iconRadius()/this.textureSize};ld(e)&&this.imagePrimitive.draw(this.texture,o,a,t),dd(e)&&(a.x+=a.width,this.imagePrimitive.draw(this.texture,o,a,t))}}}function rp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class np{constructor(e,t){rp(this,"gl",void 0),rp(this,"imagePrimitive",void 0),this.gl=e,this.imagePrimitive=t}destroy(){}draw(e,t,r,n){void 0===n&&(n=1);var{gl:i}=this;i.disable(i.DEPTH_TEST),i.enable(i.BLEND),i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA),i.blendEquation(i.FUNC_ADD),this.imagePrimitive.draw(e,t,r,n)}}function ip(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var op=512;class ap{constructor(e){ip(this,"gl",void 0),ip(this,"verticeBuffer",void 0),ip(this,"indiceBuffer",void 0),ip(this,"depthMapTexture",void 0),ip(this,"depthMapFrameBuffer",void 0),ip(this,"shader",void 0),ip(this,"matrix",ad()),ip(this,"projection",ad()),this.gl=e,this.shader=Ld(e,"precision highp float;\n\nattribute vec3 vertex;\n\nuniform mat3 u_matrix;\n\nvoid main(void) {\n    // Z must be one as a 3x3 u_matrix has translation (tx,ty) in the same row.\n    // Just use a 4d matrix, will be simple.\n    vec3 p = vec3((u_matrix * vec3(vertex.xy, 1.0)).xy, vertex.z);\n\n    float perspectiveCorrection = 1.0 + p.z * -0.35; // FIXME: get rid of magic number: -0.35\n    gl_Position = vec4(p.xy, -p.z * 0.7, perspectiveCorrection);\n}\n","precision highp float;\n\nvoid main(void) {\n    float depth = abs(gl_FragCoord.z);\n    gl_FragColor = vec4(depth, depth, depth, 0.25);\n}\n"),this.verticeBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.verticeBuffer),e.bufferData(e.ARRAY_BUFFER,7500,e.DYNAMIC_DRAW),this.indiceBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,6912,e.DYNAMIC_DRAW),this.depthMapTexture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.depthMapTexture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,op,op,0,e.RGBA,e.UNSIGNED_BYTE,null),this.depthMapFrameBuffer=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,this.depthMapFrameBuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.depthMapTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}destroy(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.indiceBuffer),e.deleteTexture(this.depthMapTexture),e.deleteFramebuffer(this.depthMapFrameBuffer),this.shader.destroy()}_calculateMatrix(e,t){var r=t.x,n=e.drawingBufferHeight-t.y-t.height,i=t.width,o=t.height;sd(this.matrix,i,0,0,0,o,0,r,n,1),sd(this.projection,2/e.drawingBufferWidth,0,0,0,2/e.drawingBufferHeight,0,-1,-1,1),ud(this.matrix,this.projection,this.matrix)}computeDepthMap(e,t){var{gl:r,shader:n}=this;r.disable(r.DEPTH_TEST),r.enable(r.BLEND),r.blendFunc(r.ONE,r.ZERO),r.blendEquation(r.FUNC_ADD),r.disable(r.CULL_FACE),r.bindFramebuffer(r.FRAMEBUFFER,this.depthMapFrameBuffer),r.viewport(0,0,op,op),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),n.bind(),this._calculateMatrix(r,t),r.uniformMatrix3fv(n.u_matrix,!1,this.matrix),r.bindBuffer(r.ARRAY_BUFFER,this.verticeBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,e.vertices),r.vertexAttribPointer(n.vertex,3,r.FLOAT,!1,0,0),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),r.bufferSubData(r.ELEMENT_ARRAY_BUFFER,0,e.indices),r.drawElements(r.TRIANGLES,6*(e.size-1)*(e.size-1),r.UNSIGNED_SHORT,0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight)}}function sp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class up{constructor(e){sp(this,"gl",void 0),sp(this,"shader",void 0),sp(this,"verticeBuffer",void 0),this.gl=e,this.shader=Ld(e,"\nattribute vec3 vertex;\n\nvarying vec2 v_shadowTexcoord;\nvarying vec2 v_shadowBlurCoords[8];\n\nvoid main(void) {\n\n    vec3 p = vertex;\n\n    v_shadowTexcoord = vec2((p.x + 1.0) / 2.0, (p.y + 1.0) / 2.0);\n\n    // precompute blur texture coords in vertex shader to enable texture prefetching\n    v_shadowBlurCoords[0] = v_shadowTexcoord + vec2(0.0, -0.016);\n    v_shadowBlurCoords[1] = v_shadowTexcoord + vec2(0.0, -0.012);\n    v_shadowBlurCoords[2] = v_shadowTexcoord + vec2(0.0, -0.008);\n    v_shadowBlurCoords[3] = v_shadowTexcoord + vec2(0.0, -0.004);\n    v_shadowBlurCoords[4] = v_shadowTexcoord + vec2(0.0,  0.004);\n    v_shadowBlurCoords[5] = v_shadowTexcoord + vec2(0.0,  0.008);\n    v_shadowBlurCoords[6] = v_shadowTexcoord + vec2(0.0,  0.012);\n    v_shadowBlurCoords[7] = v_shadowTexcoord + vec2(0.0,  0.016);\n\n    gl_Position = vec4(p.xy, -p.z, 1);\n}\n\n","\nprecision mediump float;\n\nuniform sampler2D depthMapTexture;\n\nvarying vec2 v_shadowTexcoord;\nvarying vec2 v_shadowBlurCoords[8];\n\nvoid main(void) {\n    vec4 color = vec4(0.0, 0.0, 0.0, 0.0);\n\n    color += texture2D(depthMapTexture, v_shadowBlurCoords[0]) * 0.0443683338718;\n    color += texture2D(depthMapTexture, v_shadowBlurCoords[1]) * 0.0776744219933;\n    color += texture2D(depthMapTexture, v_shadowBlurCoords[2]) * 0.115876621105;\n    color += texture2D(depthMapTexture, v_shadowBlurCoords[3]) * 0.147308056121;\n    color += texture2D(depthMapTexture, v_shadowTexcoord     ) * 0.159576912161;\n    color += texture2D(depthMapTexture, v_shadowBlurCoords[4]) * 0.147308056121;\n    color += texture2D(depthMapTexture, v_shadowBlurCoords[5]) * 0.115876621105;\n    color += texture2D(depthMapTexture, v_shadowBlurCoords[6]) * 0.0776744219933;\n    color += texture2D(depthMapTexture, v_shadowBlurCoords[7]) * 0.0443683338718;\n\n    gl_FragColor = color;\n}\n"),this.verticeBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.verticeBuffer),e.bufferData(e.ARRAY_BUFFER,72,e.DYNAMIC_DRAW)}draw(e,t,r){var{gl:n,shader:i}=this;n.enable(n.DEPTH_TEST),n.enable(n.BLEND),n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE),i.bind();var o=n.canvas.width,a=n.canvas.height,s=(t.x-o/2)/(o/2),u=(0-t.y+a/2)/(a/2),c=(t.x+t.width-o/2)/(o/2),l=(0-(t.y+t.height)+a/2)/(a/2),h=new Float32Array([s,u,r,s,l,r,c,u,r,c,u,r,s,l,r,c,l,r]);n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,e),n.uniform1i(i.depthMapTexture,0),n.bindBuffer(n.ARRAY_BUFFER,this.verticeBuffer),n.bufferSubData(n.ARRAY_BUFFER,0,h),n.vertexAttribPointer(i.vertex,3,n.FLOAT,!1,0,0),n.drawArrays(n.TRIANGLES,0,6)}destroy(){var{gl:e}=this;e.deleteBuffer(this.verticeBuffer),this.shader.destroy()}}function cp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class lp{constructor(e){cp(this,"gl",void 0),cp(this,"shadow",void 0),cp(this,"shadowDraw",void 0),cp(this,"bendingPage",void 0),cp(this,"imagePrimitive",void 0),cp(this,"link",void 0),cp(this,"linkTooltip",void 0),cp(this,"highlights",void 0),this.gl=e,this.shadow=new ap(e),this.shadowDraw=new up(e),this.bendingPage=new Fd(e),this.imagePrimitive=new Xd(e),this.link=new tp(e,this.imagePrimitive),this.linkTooltip=new np(e,this.imagePrimitive),this.highlights=new Yd(e)}destroy(){this.shadow.destroy(),this.shadowDraw.destroy(),this.bendingPage.destroy(),this.imagePrimitive.destroy(),this.link.destroy(),this.linkTooltip.destroy(),this.highlights.destroy(),this.gl=null}}var hp=bi(va,Ma,eo,((e,t,r)=>!!e&&(e.allowOnSmallReaders||!t)&&!r));function dp(e,t){var r=[];return e.forEach((e=>{e.links.forEach((n=>{if(hd(n)){var i=n;i.videoService===t&&r.push({link:i,pageWidth:e.width,pageHeight:e.height})}}))})),r}var pp=e=>e.links.loaded,fp=bi(xo,(e=>dp(e,"youtube"))),gp=bi(xo,(e=>dp(e,"vimeo"))),mp="SET_CANVAS_API";function vp(e){return{type:mp,api:e}}var yp={getVisibleComponents:()=>[],getRenderedViews:()=>[],getReadMode:()=>"DOUBLE_PAGE_SPREAD",getPageComponent:()=>null,goToPage:()=>{},goToSpread:()=>{},jumpToPage:()=>{},jumpToSpread:()=>{},setSnapping:()=>{},jumpToPositionByPercent:()=>{},zoomCurrentView:()=>{},getPosition:()=>{},setPosition:()=>{},timestamp:0};function bp(){return vp(yp)}function _p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_p(Object(r),!0).forEach((function(t){xp(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ep="WEBGL_ERROR",Op="ENABLE_WEBGL",Tp="DISABLE_WEBGL",Sp="SET_MAX_DRAWING_BUFFER_WIDTH",Pp="SET_MAX_DRAWING_BUFFER_HEIGHT";function kp(){return{type:Op}}var Ap=e=>({supportsWebGL:e,maxDrawingBufferWidth:6e3,maxDrawingBufferHeight:6e3,forceTo2D:!0}),Ip=bi((e=>e.canvasContext),(e=>e.size),((e,t)=>!(!e.supportsWebGL||e.forceTo2D)&&e.maxDrawingBufferWidth>=t.width&&e.maxDrawingBufferHeight>=t.height));function Rp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jp=1e3/60,Cp=Math.ceil(250/jp)*jp,Dp="EASING_OUT",Np="EASING_IN_OUT",Lp="EASING_OUT_EXPO";function Mp(e,t,r){var n=Math.max(1,r);return{x:-t.x/n*.6+.4*e.x,y:-t.y/n*.6+.4*e.y}}function Fp(e,t,r,n,i,o,a){return{top:Math.max(Math.min(e,a-i/r),0),left:Math.max(Math.min(t,o-n/r),0),zoom:Math.max(Math.min(r,5),1)}}class Bp{constructor(e,t,r,n,i,o,a){Rp(this,"top",void 0),Rp(this,"left",void 0),Rp(this,"zoom",void 0),Rp(this,"width",void 0),Rp(this,"height",void 0),Rp(this,"contentWidth",void 0),Rp(this,"contentHeight",void 0),Rp(this,"snap",void 0),Rp(this,"snapFunction",void 0),Rp(this,"scrollingX",void 0),Rp(this,"scrollingY",void 0),Rp(this,"_lastUpdate",void 0),Rp(this,"_isMoving",void 0),Rp(this,"_lastTouchPosition",void 0),Rp(this,"_initialZoomLevel",void 0),Rp(this,"_lastTouchTime",void 0),Rp(this,"_velocity",void 0),Rp(this,"_animate",void 0),Rp(this,"_isDragging",void 0),Rp(this,"_lastMoveTs",void 0),Rp(this,"_animation",void 0),this.top=e,this.left=t,this.zoom=r,this.width=n,this.height=i,this.contentWidth=o,this.contentHeight=a,this.snap=!1,this.snapFunction=(e,t,r)=>({top:e,left:t,zoom:r}),this.scrollingX=!0,this.scrollingY=!0,this._lastUpdate={left:t,top:e,zoom:r},this._isMoving=!1,this._lastTouchPosition={x:0,y:0},this._initialZoomLevel=1,this._lastTouchTime=0,this._velocity={x:0,y:0},this._animate=!1,this._isDragging=!1,this._lastMoveTs=0}touchStart(e,t,r){this._lastTouchPosition.x=e,this._lastTouchPosition.y=t,this._initialZoomLevel=this.zoom,this._lastTouchTime=r,this._velocity={x:0,y:0},this._animate=!1,this._animation&&this._animation.deferred&&this._animation.deferred.resolve()}touchMove(e,t,r,n){var i=this._lastTouchPosition,o=r-this._lastTouchTime,{top:a,left:s,zoom:u}=this;if(n){var c=this.zoom;(u=Math.max(Math.min(n*this._initialZoomLevel,5),1))!==c&&(s+=e/c-e/u,a+=t/c-t/u)}var l={x:(e-i.x)/u,y:(t-i.y)/u},h=Mp(this._velocity,l,o);Math.abs(h.y/h.x)>=2&&(l.x=0),Math.abs(h.x/h.y)>=2&&(l.y=0),this.scrollingX||1!==u||(l.x=0),this.scrollingY||1!==u||(l.y=0),((s-=1*l.x)>this.contentWidth-this.width/u||s<0)&&(s+=.8*l.x*1),((a-=1*l.y)>this.contentHeight-this.height/u||a<0)&&(a+=.8*l.y*1);var d=Mp(this._velocity,l,o);this._isDragging=!0,this._isMoving=!0,this.left=s,this.top=a,this.zoom=u,this._velocity=d,this._lastTouchPosition.x=e,this._lastTouchPosition.y=t,this._lastTouchTime=r}touchEnd(e,t){var r=this._velocity,n=(this.snap?.36:.06)/this.zoom;if(this._isDragging=!1,function(e){return Math.sqrt(e.x*e.x+e.y*e.y)}(r)>n){var i=this.zoom,o=(this.snap?.36:.006)/i,{duration:a,distanceX:s,distanceY:u}=function(e,t,r){for(var n=0,i=e.x,o=e.y,a=0,s=0;Math.sqrt(i*i+o*o)>t;)n+=jp,a+=(i*=r)*jp,s+=(o*=r)*jp;return{duration:n,distanceX:a,distanceY:s}}(r,o,1-.11/i),c=this.left+s,l=this.top+u,h=this.snap?this.snapFunction(l,c,i):Fp(l,c,i,this.width,this.height,this.contentWidth,this.contentHeight),d=Math.sqrt(Math.pow(s,2)+Math.pow(u,2)),p=a*(Math.sqrt(Math.pow(l-h.top,2)+Math.pow(c-h.left,2))+d)/d;this.animateToPosition(h.top,h.left,h.zoom,t,p,Lp)}else this.animateToPosition(this.top,this.left,this.zoom,t,Cp)}scrollTo(e,t,r,n,i){return void 0===i&&(i=Cp),this.animateToPosition(e,t,r||this.zoom,n,i)}jumpTo(e,t,r){var n=Fp(e,t,r||this.zoom,this.width,this.height,this.contentWidth,this.contentHeight);if(this.snap){var i=this.snapFunction(n.top,n.left,n.zoom);this.top=i.top,this.left=i.left,this.zoom=i.zoom}else this.top=n.top,this.left=n.left,this.zoom=n.zoom}setSnap(e,t,r,n){if(void 0===t&&(t=null),void 0===r&&(r=!0),void 0===n&&(n=null),t&&(this.snapFunction=t),e&&!this.snap){if(!this.snapFunction)throw new Error("Cannot snap without snap function!");if(this.snap=e,r)n&&this.animateToPosition(this.top,this.left,this.zoom,n,Cp);else{var i=this.snapFunction(this.top,this.left,this.zoom);this.top=i.top,this.left=i.left,this.zoom=i.zoom}}else this.snap=e}setScrolling(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),this.scrollingX=e,this.scrollingY=t}resize(e,t,r,n,i,o,a){if(this.top=e,this.left=t,this.zoom=r,this.width=n,this.height=i,this.contentWidth=o,this.contentHeight=a,this.snap){var s=this.snapFunction(e,t,r);this.top=s.top,this.left=s.left,this.zoom=s.zoom}}isSnapped(){if(!this.snapFunction)return!0;var e=this.snapFunction(this.top,this.left,this.zoom);return Math.abs(e.left-this.left)<1&&Math.abs(e.top-this.top)<1&&Math.abs(e.zoom-this.zoom)<.2}get isDragging(){return this._isDragging}get isAnimating(){return this._animate}get isMoving(){return this._isMoving||this._animate}update(e){var t,r=this._animate;if(this._animate&&this._animation){var{start:n,end:i,startTime:o,duration:a,easing:s,deferred:u}=this._animation,c=i.left-n.left,l=i.top-n.top,h=Math.min(e-o,a),d=Math.max(h/a,0);d<1&&d>0&&(s===Dp?(t=d,d=Math.pow(t-1,3)+1):s===Np?d=(e=>{var t=2*e;return t<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)})(d):s===Lp&&(d=(e=>1-Math.pow(2,-10*e))(d)));var p=n.left+c*d,f=n.top+l*d,g=this.width/i.zoom-this.width/n.zoom,m=this.width/n.zoom+g*d,v=this.width/m;this.left=p,this.top=f,this.zoom=v,this._animate=h<a,this._animate||u.resolve()}this._lastUpdate.left===this.left&&this._lastUpdate.top===this.top&&this._lastUpdate.zoom===this.zoom||(this._lastMoveTs=e),this._isMoving=r||this._isDragging&&e-this._lastMoveTs<100,this._lastUpdate.left=this.left,this._lastUpdate.top=this.top,this._lastUpdate.zoom=this.zoom}getHorizontalPositionInPercent(){var e=Math.max(Math.min(100*this.left/(this.contentWidth-this.width),100),0);return Number.isFinite(e)?e:0}animateToPosition(e,t,r,n,i,o){var{top:a,left:s,zoom:u}=Fp(e,t,r,this.width,this.height,this.contentWidth,this.contentHeight);if(this.snap){var c=this.snapFunction(a,s,u);a=c.top,s=c.left,u=c.zoom}if(s===this.left&&a===this.top&&u===this.zoom)return this._animate=!1,Promise.resolve();var l={resolve:()=>{},promise:Promise.resolve()};return l.promise=new Promise((e=>{l.resolve=e})),this._animation={startTime:n,easing:o||(this._animate?Dp:Np),duration:i,start:{top:this.top,left:this.left,zoom:this.zoom},end:{top:a,left:s,zoom:u},deferred:l},this._animate=!0,l.promise}}var Up=__webpack_require__(4445),zp=__webpack_require__.n(Up);function Hp(e,t){var r=Math.floor(e.width),n=0===t?Math.floor(e.x+e.width+.001)-r:Math.floor(e.x),i=Math.floor(e.height);return{x:n,y:Math.floor(e.y),width:r,height:i}}function Wp(e){return Math.max(Math.min(e,1),0)}function Gp(e,t,r){return(t-e)*Wp(r)+e}function Vp(e,t,r){var n=Wp(r);return(t-e)*(1-Math.pow(2,-10*n))+e}function qp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yp(e,t,r){var n=Vh(),i=Vh();return Yh(n,t,r),$h(i,n,e),{x:i[0],y:i[1]}}function $p(e,t){var r=Xh();return Kh(r,t,e.matrix),{p1:Yp(r,e.x,e.y),p2:Yp(r,e.x+e.width,e.y),p3:Yp(r,e.x,e.y+e.height),p4:Yp(r,e.x+e.width,e.y+e.height)}}class Xp extends od{constructor(e,t){super(e,t),qp(this,"_transform",void 0),qp(this,"_lastActionTick",void 0),this._lastActionTick=0}componentDidUpdate(e){zp()(e.selectedResult,this.props.selectedResult)||(this._lastActionTick=this.props.selectedResult?od.lastTick:0)}get isVisible(){return!!this.model&&eo(this.root.__store__.getState())}get width(){return this.model?this.model.width:0}get height(){return this.model?this.model.height:0}get results(){return this.props.results}get selectedResult(){return this.props.selectedResult}get model(){return this.props.model}get transform(){return this._transform||(this._transform=new ed),this.width&&this.height&&this.parent&&this._transform.mSet(this.parent.width/this.width,0,0,this.parent.height/this.height,0,0),this._transform}isAnimating(e){return e-500<this._lastActionTick}draw(e,t){var r=Hp(t,this.props.pageType),n=this.getViewportCTM().matrix;if(e.save(),this.selectedResult)for(var i of(e.fillStyle="rgba(255, 255, 0, 0.5)",this.selectedResult)){var o=i.matrix;e.setTransform(n[0],n[1],n[2],n[3],n[4],n[5]),e.transform(o[0],o[1],o[2],o[3],o[4],o[5]),e.fillRect(i.x,i.y,i.width,i.height)}for(var a of this.results)for(var s of a){e.beginPath(),e.setTransform(1,0,0,1,0,0),e.rect(r.x,r.y,r.width,r.height);var u=s.matrix;e.setTransform(n[0],n[1],n[2],n[3],n[4],n[5]),e.transform(u[0],u[1],u[2],u[3],u[4],u[5]),e.rect(s.x,s.y,s.width,s.height),e.clip("evenodd")}e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0.3)",e.fillRect(r.x,r.y,r.width,r.height),e.restore()}appendWebglOps(e,t,r){var n,i=Hp(t,this.props.pageType),o=this.getViewportCTM().matrix,a=this.transform.matrix,s=(null===(n=this.model)||void 0===n?void 0:n.pageNumber)||0,u=[];for(var c of this.results)for(var l of c)u.push($p(l,o));var h=this.selectedResult,d=[],p=[];if(h)for(var f of h){var g=$p(f,o),m=Hd(g);if(d.push(g),this.isAnimating(od.lastTick)){var v=Hd($p(f,a)),y=null;if(v.max.x-v.min.x>=1&&v.max.y-v.min.y>=1){var b=(m.max.x-m.min.x+40)/(v.max.x-v.min.x);y=this.props.renderManager.generateSurfacesUncached([b,0,0,b,v.min.x*b*-1,v.min.y*b*-1],(v.max.x-v.min.x)*b,(v.max.y-v.min.y)*b,s)}p.push(y)}}if(e.push({type:"highlight-operation",args:[i,u]}),d.length){var _=d.reduce(((e,t)=>{var r=Hd(t);return e.left=Math.min(r.min.x,e.left),e.top=Math.min(r.min.y,e.top),e.right=Math.max(r.max.x,e.right),e.bottom=Math.max(r.max.y,e.bottom),e}),{left:1/0,top:1/0,right:-1/0,bottom:-1/0}),w=Math.max(_.right-_.left,_.bottom-_.top),x=(od.lastTick-this._lastActionTick)/500,E=x<.5?(w+function(e,t,r){var n=Wp(r);return 40*n*(2-n)+0}(0,0,2*x))/w:(w+function(e,t,r){var n=Wp(r);return-40*n*n+40}(0,0,2*(x-.5)))/w,O={x:(_.left+_.right)/2,y:(_.top+_.bottom)/2};e.push({type:"highlight-flash-operation",args:[d,p,O,E]})}}afterDraw(e){this.isAnimating(od.lastTick)&&this.requestRedraw()}}const Kp=[function(e,t){e.save(),t.stack++,e.strokeStyle="rgba(0,0,0,0)",e.fillStyle="#9AA8A9",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(0,0),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),t.stack++,e.save(),t.stack++,e.translate(7,7),e.save(),t.stack++,e.beginPath(),e.moveTo(6.777879,6.845484),e.bezierCurveTo(5.790032,7.833332,4.188142,7.833223,3.200156,6.845237),e.bezierCurveTo(2.21224,5.85732,2.21224,4.255678,3.200156,3.267761),e.bezierCurveTo(4.188224,2.279694,5.789619,2.279748,6.777632,3.267761),e.bezierCurveTo(7.765715,4.255844,7.765877,5.857486,6.777879,6.845484),e.lineTo(8.24994,8.317545),e.bezierCurveTo(10.051001,6.516484,10.050705,3.596713,8.249693,1.795701),e.bezierCurveTo(6.448705,-.005287,3.529182,-.005386,1.728095,1.795701),e.bezierCurveTo(-.072818,3.596614,-.072818,6.516385,1.728095,8.317298),e.bezierCurveTo(3.529034,10.118236,6.449051,10.118434,8.24994,8.317545),e.lineTo(6.777879,6.845484),e.lineTo(6.777879,6.845484),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.save(),t.stack++,e.fillStyle="rgba(154, 168, 169, 0.5)",e.beginPath(),e.moveTo(12,23),e.bezierCurveTo(18.075132,23,23,18.075132,23,12),e.bezierCurveTo(23,5.924868,18.075132,1,12,1),e.bezierCurveTo(5.924868,1,1,5.924868,1,12),e.bezierCurveTo(1,18.075132,5.924868,23,12,23),e.closePath(),e.moveTo(12,20.025024),e.bezierCurveTo(16.432099,20.025024,20.025024,16.432099,20.025024,12),e.bezierCurveTo(20.025024,7.567901,16.432099,3.974976,12,3.974976),e.bezierCurveTo(7.567901,3.974976,3.974976,7.567901,3.974976,12),e.bezierCurveTo(3.974976,16.432099,7.567901,20.025024,12,20.025024),e.closePath(),e.fill("evenodd"),e.stroke(),e.restore(),t.stack--,e.save(),t.stack++,e.fillStyle="#9AA8A9",e.beginPath(),e.moveTo(3.977469,12.202011),e.bezierCurveTo(3.880403,13.366651,2.944759,13.653612,2.481445,13.656799),e.bezierCurveTo(1.992432,13.660164,1,13.117421,1,12),e.bezierCurveTo(1,5.924868,5.924868,1,12,1),e.bezierCurveTo(18.075132,1,23,5.924868,23,12),e.bezierCurveTo(23,13.127857,22.037891,13.51123,21.543091,13.51123),e.bezierCurveTo(21.048291,13.511231,20.045776,13.203328,20.045776,12),e.bezierCurveTo(20.045776,11.948528,20.038295,11.898609,20.023654,11.850214),e.bezierCurveTo(19.943791,7.487233,16.382062,3.974976,12,3.974976),e.bezierCurveTo(7.567901,3.974976,3.974976,7.567901,3.974976,12),e.bezierCurveTo(3.974976,12.067535,3.97581,12.134875,3.977469,12.202011),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--}];var Zp={draw(e,t,r,n){var i=ia();e.save(),e.translate(t,r),e.scale(i,i),e.rotate(n/230),e.translate(-12,-12),Kp[0](e,{stack:0}),e.restore()}};function Jp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Qp{static LINEAR(e,t,r,n){return r*e/n+t}static EASE_IN_CUBIC(e,t,r,n){return r*(e/=n)*e*e+t}static EASE_OUT_CUBIC(e,t,r,n){return e/=n,r*(--e*e*e+1)+t}static EASE_IN_OUT_CUBIC(e,t,r,n){return(e/=n/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t}static calc(e,t,r,n){return void 0===n&&(n=Qp.LINEAR),n(e-t,0,1,r)}constructor(e,t,r){Jp(this,"start",void 0),Jp(this,"duration",void 0),Jp(this,"options",void 0),this.start=e,this.duration=t,this.options=Object.assign({easing:Qp.LINEAR,clipStart:!0,clipEnd:!0,reverse:!1},r||{})}reset(e){return this.start=e,this}isRunning(e){return e>=this.start&&e<=this.start+this.duration}isWaitingToRun(e){return e<this.start}value(e){var t=Qp.calc(e,this.start,this.duration,this.options.easing);return this.options.clipStart&&t<0?t=0:this.options.clipEnd&&t>1&&(t=1),this.options.reverse&&(t=1-t),t}}function ef(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class tf extends od{constructor(){super(...arguments),ef(this,"_isHovered",!1),ef(this,"_hoverAnimation",new Qp(Number.MAX_VALUE,100)),ef(this,"_initialFlashAnimation",new Qp(Number.MAX_VALUE,800)),ef(this,"_toggleAnimation",new Qp(Number.MAX_VALUE,100)),ef(this,"_initialFlashTimeoutId",void 0)}componentDidUpdate(e){this.props.arrivedAtSpreadTick&&!e.arrivedAtSpreadTick?this._initialFlashTimeoutId=setTimeout((()=>{this._initialFlashTimeoutId=void 0,this._initialFlashAnimation.reset(od.lastTick),this.requestRedraw()}),1e3):!this.props.arrivedAtSpreadTick&&e.arrivedAtSpreadTick&&(clearTimeout(this._initialFlashTimeoutId),this._initialFlashTimeoutId=void 0),this.props.isToggledOn&&!e.isToggledOn&&(this._toggleAnimation.options.reverse=!1,this._toggleAnimation.reset(od.lastTick)),!this.props.isToggledOn&&e.isToggledOn&&(this._toggleAnimation.options.reverse=!0,this._toggleAnimation.reset(od.lastTick)),this.props.isToggledOn&&!e.isToggledOn&&this.props.arrivedAtSpreadTick&&this._trackOpportunity()}get displayName(){return"Link"}get model(){return this.props.model}get width(){return this.model.width}get height(){return this.model.height}get transform(){return this._transform||(this._transform=new ed,this._transform.mTranslate(this.model.x,this.model.y)),this._transform}get isVisible(){return!(!this.props.arrivedAtSpreadTick||!this.shouldRenderVideoThumb()&&!this.props.isToggledOn&&!this._isHovered&&!this.isAnimating())}onMouseEnter(e){this._hoverAnimation.reset(od.lastTick),this._hoverAnimation.options.reverse=!1,this._isHovered=!0,this.props.showLinkToolTip(this),this.requestRedraw(),this.props.isToggledOn||this._trackOpportunity()}onMouseLeave(e){var{lastTick:t}=od,r=this._hoverAnimation.value(t);this._hoverAnimation.reset(t-100*(1-r)),this._hoverAnimation.options.reverse=!0,this._isHovered=!1,this.props.hideLinkToolTip(),this.requestRedraw()}onSingleTap(e,t){return this._trackUsage(),this.props.dispatch((r=this.model,e=>{if(e({type:As,linkModel:r}),"gotoPage"===r.type)e(function(e){var{gotoPageNumber:t}=e;return(e,r)=>{e(us(ji(Pa(r()),t)))}}(r));else{if("openUrl"!==r.type)throw new Error("Unsupported link type");if("video"===r.urlType)e(function(e){var{url:t,videoId:r,videoService:n}=e;return function(e,t,r){return{type:fs,service:e,videoId:t,videoUrl:r}}(n,r,t)}(r));else if("email"===r.urlType)window.open(r.url,"_top");else{if("shopping"!==r.urlType&&"url"!==r.urlType)throw new Error("Unsupported urlType ("+r.urlType+")");window.open(r.url,"_blank")}}})),!0;var r}isAnimating(){var{lastTick:e}=od;return this._initialFlashAnimation.isRunning(e)||this._toggleAnimation.isRunning(e)||this._hoverAnimation.isRunning(e)}hoverOpacity(){var{lastTick:e}=od;return this._hoverAnimation.isRunning(e)?this._hoverAnimation.value(e):this._isHovered?1:0}initialFlashOpacity(){if(this.parent&&this.parent.parent.getZoom()>1)return 0;var{lastTick:e}=od;if(this._initialFlashAnimation.isRunning(e)){var t=this._initialFlashAnimation.value(e);return t<.2?t/.2:t<.5?1:1-2*(t-.5)}return 0}linkToggleOpacity(){var{lastTick:e}=od;return this._toggleAnimation.isRunning(e)?this._toggleAnimation.value(e):this.props.isToggledOn?1:0}calculateOpacityForDrawing(){return this.shouldRenderVideoThumb()?0:Math.max(this.initialFlashOpacity(),this.linkToggleOpacity(),this.hoverOpacity())}shouldRenderVideoThumb(){return hd(this.model)}getCustomCursor(){return!!this._isHovered&&"pointer"}_trackOpportunity(){this.props.featureTracker.opportunity(rc.PUBLICATION_LINK),ld(this.model)&&this.props.featureTracker.opportunity(rc.PUBLICATION_VIDEO_LINK)}_trackUsage(){this.props.featureTracker.usage(rc.PUBLICATION_LINK),ld(this.model)&&this.props.featureTracker.usage(rc.PUBLICATION_VIDEO_LINK)}draw(e,t){e.save(),e.beginPath();var r=this.calculateOpacityForDrawing();e.rect(t.x+.5,t.y+.5,t.width-1,t.height-1),e.strokeStyle="rgba(118, 165, 204, "+r+")",e.fillStyle="rgba(118, 165, 204, "+.5*r+")",e.fill(),e.stroke();var n=20*ia();t.width>50&&t.height>50&&(dd(this.model)&&(e.globalAlpha=r,e.fillStyle="rgba(0, 0, 0, 0.7)",Zd.draw(e,t.x+t.width/2,t.y+t.height/2,n)),ld(this.model)&&(e.globalAlpha=r,e.fillStyle="rgba(0, 0, 0, 0.7)",Qd.draw(e,t.x+t.width/2,t.y+t.height/2,n))),e.restore()}appendWebglOps(e,t,r){var n=this.calculateOpacityForDrawing();n>0&&e.push({type:"link-operation",args:[this.model,n,Object.assign({},t)]})}afterDraw(e){this.isAnimating()&&this.requestRedraw()}}function rf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rf(Object(r),!0).forEach((function(t){of(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function of(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class af extends od{constructor(){super(...arguments),of(this,"position",{x:0,y:0,width:0,height:0}),of(this,"unzoomedWidthInHWPx",0),of(this,"unzoomedHeightInHWPx",0),of(this,"onDoubleTap",((e,t)=>this.props.onDoubleTap(e,t,this)))}componentDidMount(){this.updateUnzoomedSizes()}componentDidUpdate(e){this.props.transform.isEqualWith(e.transform)||this.updateUnzoomedSizes()}updateUnzoomedSizes(){var e=this.transform.transformRect(od.RectPool.get(0,0,this.width,this.height));this.unzoomedWidthInHWPx=Math.floor(e.width),this.unzoomedHeightInHWPx=Math.floor(e.height),od.RectPool.release(e)}get displayName(){return"Page"}get width(){return this.props.model.width}get height(){return this.props.model.height}get model(){return this.props.model}get pageType(){return this.props.pageType}get pageNumber(){return this.props.model.pageNumber}get transform(){return this.props.transform}shouldRenderVideoThumb(){return this.model.links.some((e=>hd(e)))}getChildrenToTraverse(){if(!this.props.mayRenderLinks){var e=super.getChildrenToTraverse();return e?e.filter((e=>!(e instanceof tf))):[]}return super.getChildrenToTraverse()}getChildTree(e){return void 0===e&&(e=!1),[od.createElement(Xp,{model:this.props.isPaywalled?null:this.model.textInfoPage,results:this.props.isPaywalled?[]:this.model.findResults,selectedResult:this.props.isPaywalled?null:this.model.selectedFindResult,renderManager:this.props.renderManager,pageType:this.pageType})].concat(this.model.links.map((e=>od.createElement(tf,{arrivedAtSpreadTick:this.props.mayRenderLinks?this.props.arrivedAtSpreadTick:0,dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,hideLinkToolTip:this.props.hideLinkToolTip,isToggledOn:this.props.isLinksToggledOn,model:e,showLinkToolTip:this.props.showLinkToolTip}))))}getOperations(e,t,r){var n=Hp(e,this.pageType),i=function(e,t,r){var n=Math.max(e.x,0),i=Math.min(e.x+e.width,t),o=Math.max(e.y,0),a=Math.min(e.y+e.height,r);return{x:Math.min(n,t),y:Math.min(o,r),width:Math.max(0,i-n),height:Math.max(0,a-o)}}(n,t,r);if(this.updatePagePosition(n),0===i.width||0===i.height)return{done:!0,ops:[]};var o=[n.width/this.props.model.width,0,0,n.height/this.props.model.height,Math.min(0,n.x),Math.min(0,n.y)];try{var a=this.props.renderManager.generateSurfaces(o,n,i,this.unzoomedWidthInHWPx,this.unzoomedHeightInHWPx,this.pageNumber,this.inAnimation,od.lastTick);if(this.shouldRenderVideoThumb()){var s=this.props.renderManager.generateVideoThumbSurfaces(this.pageNumber,n,od.lastTick);0!==a.ops.length&&(a.ops.push(...s.ops),a.done=a.done&&s.done)}return a}catch(e){var u={matrix:o,cappedWidth:i.width,cappedHeight:i.height,unzoomedWidthInHWPx:this.unzoomedWidthInHWPx,unzoomedHeightInHWPx:this.unzoomedHeightInHWPx,pageNumber:this.pageNumber,inAnimation:this.inAnimation};throw e.sentry_extra=nf(nf({},e.sentry_extra),{},{renderOps:u}),e}}draw(e,t){var r=Hp(t,this.pageType),{ops:n,done:i}=this.getOperations(t,e.canvas.width,e.canvas.height);n.forEach((t=>{if(3===t.type)return e.fillStyle="black",void e.fillRect(t.dest_px.x+r.x,t.dest_px.y+r.y,t.dest_px.width,t.dest_px.height);if(!(t.src_px.width<=0||t.src_px.height<=0))try{e.drawImage(t.surface,t.src_px.x,t.src_px.y,t.src_px.width,t.src_px.height,t.dest_px.x+r.x,t.dest_px.y+r.y,t.dest_px.width,t.dest_px.height)}catch(e){var n={src_px:t.src_px,dest_px:t.dest_px,width:t.surface.width,height:t.surface.height};throw e.sentry_extra=nf(nf({},e.sentry_extra),{},{renderImage:n}),e}})),i||0!==n.length||(e.fillStyle="#f2f2f2",e.fillRect(t.x,t.y,t.width,t.height),Zp.draw(e,t.x+t.width/2,t.y+t.height/2,od.lastTick)),i||this.requestRedraw()}updatePagePosition(e){this.position.x=e.x,this.position.y=e.y,this.position.width=e.width,this.position.height=e.height}}function sf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class uf extends od{constructor(){super(...arguments),sf(this,"borders",void 0),sf(this,"_arrivedAtTick",0),sf(this,"spreadSnapFunction",((e,t,r)=>{var n;if(!this.borders)throw new Error("borders should be defined");if(r>1){var i,o=this.width/r,a=this.height/r;i=this.borders.right-this.borders.left<o?this.borders.left-(o-(this.borders.right-this.borders.left))/2:Math.max(Math.min(t,this.borders.right-o),this.borders.left),n={top:this.borders.bottom-this.borders.top<a?this.borders.top-(a-(this.borders.bottom-this.borders.top))/2:Math.max(Math.min(e,this.borders.bottom-a),this.borders.top),left:i,zoom:r}}else n={top:0,left:0,zoom:1};return n})),sf(this,"onPageDoubleTap",((e,t,r)=>{var{smartnavAsset:n}=this.props;if(uf.scroller.zoom>1||!n)return!1;var[i,o]=r.getViewportCTM().inverse().transformPoint(e,t),a=ia(),s=5*r.getViewportCTM().matrix[0]/a,u=function(e,t,r,n,i){Q("getPositionForPoint: ========================================================");var o=e.find((e=>e.pageNumber===n));if(o){Q("getPositionForPoint: screenConfig=",t,", pagePoint=",i,", pageWidth=",o.width,", pageHeight=",o.height);var a=o.blocks.findIndex((e=>((e,t)=>{var{boundingBox:r,type:n}=t;return"text"===n&&((e,t)=>{var{x:r,y:n}=e,{top:i,right:o,bottom:a,left:s}=t;return r>=s&&r<=o&&n>=i&&n<=a})(e,r)})(i,e)));if(-1===a)return Q("getPositionForPoint: Could not find a valid block"),null;Q("getPositionForPoint: Point is within a valid block");var s=((e,t)=>{var r=t({x:0,y:0});return{zoom:(t({x:e.width,y:e.height}).x-r.x)/e.width,offsetX:r.x,offsetY:r.y}})(o,r);Q("getPositionForPoint: oldTransform=",s);var u=((e,t,r,n,i)=>{var o=e.blocks[i];if("text"!==o.type)return null;var a=o.boundingBox,s=K(t,a.left,a.right),u=o.fontSize*s;if(Q("computeNewTransform: bbox=",a,", zoom=",s),Q("computeNewTransform: blockIdx=",i,", fontSize=",o.fontSize,", effectiveFontSize=",u),u<t.minEffectiveFontSize){Q("computeNewTransform: effectiveFontSize < minEffectiveFontSize");var c=Math.min(t.maxZoom,t.minEffectiveFontSize/o.fontSize);return{zoom:c,offsetX:r.zoom*n.x-c*n.x+r.offsetX,offsetY:X(t,r,c,n.y,a.top)}}if(u>t.maxEffectiveFontSize||s>t.maxZoom){Q("computeNewTransform: effectiveFontSize > screenConfig.maxEffectiveFontSize || zoom > screenConfig.maxZoom");var l=ne(t,n,r,s,i,o,e.blocks),h=o.fontSize*l.zoom;if(Q("computeNewTransform: newEffectiveFontSize=",h,", expansion=",l),h>t.maxEffectiveFontSize||l.zoom>t.maxZoom){Q("computeNewTransform: block expansion did not succeed");var d=Math.min(t.maxZoom,t.maxEffectiveFontSize/o.fontSize),p=(a.right+a.left)/2;return{zoom:d,offsetX:t.width/2-p*d,offsetY:X(t,r,d,n.y,a.top)}}return Q("computeNewTransform: block expansion succeeded"),J(t,n,r,l.zoom,l.left,a.top)}Q("computeNewTransform: block width is in the Goldilocks zone");var f=ne(t,n,r,s,i,o,e.blocks);return J(t,n,r,f.zoom,f.left,a.top)})(o,t,s,i,a);Q("getPositionForPoint: newTransform=",u);var c=u?Z(t,u):null;Q("getPositionForPoint: viewport=",c);var l=c?((e,t)=>{var{top:r,right:n,bottom:i,left:o}=t,a=n>e.width?e.width-n:o<0?-o:0,s=i>e.height?e.height-i:r<0?-r:0;return{top:r+s,right:n+a,bottom:i+s,left:o+a}})(o,c):null;if(Q("getPositionForPoint: confinedViewport=",l),l){var{top:h,left:d,right:p}=l;return{pageNumber:o.pageNumber,semiBox:{top:h,left:d,right:p}}}return null}return null}(n,{width:this.props.viewportWidth/a,height:this.props.viewportHeight/a,minEffectiveFontSize:6,maxEffectiveFontSize:100,maxZoom:s,verticalSnapThreshold:0,padding:{top:36,right:36,bottom:36,left:36}},(e=>{var{x:t,y:n}=e,i=(new ed).mScale(1/a),[o,s]=i.multiply(r.getViewportCTM()).transformPoint(t,n);return{x:o,y:s}}),r.props.model.pageNumber,{x:i,y:o});if(u){this.props.dispatch(nu());var[c,l]=r.transform.transformPoint(u.semiBox.left,u.semiBox.top),[h]=r.transform.transformPoint(u.semiBox.right,u.semiBox.top),{xMargin:d,yMargin:p,viewportWidth:f}=this.props,g=f/(h-c),{lastTick:m}=od;return uf.scroller.scrollTo(l+p/g,c+d/g,g,m).then((()=>{this.props.trackOnceMixpanel("reader3_interaction_double_tap",{smartzoom:!0,action:"ZOOM_IN"}),this.props.dispatch(iu())})),this.requestRedraw(),!0}return!1}))}componentWillUpdate(e){(!this.props.isCurrentSpread&&e.isCurrentSpread||this.props.isCurrentSpread&&0===this._arrivedAtTick)&&(this._arrivedAtTick=this.isAllPagesLoaded()&&e.isSnapped?od.lastTick:0),e.isCurrentSpread||(this._arrivedAtTick=0)}get zOrder(){return this.props.isCurrentSpread?1:0}get displayName(){return"Spread"}get transform(){return uf._transform.mSetMatrix(this.props.transform.matrix).mScale(uf.scroller.zoom).mTranslate(-uf.scroller.left,-uf.scroller.top),uf._transform}get inAnimation(){return!!uf.scroller.isMoving||!!this.parent&&this.parent.inAnimation}componentDidMount(){this.props.isCurrentSpread&&(uf.scroller.resize(uf.scroller.top,uf.scroller.left,uf.scroller.zoom,this.width,this.height,this.width,this.height),uf.scroller.setSnap(!0,this.spreadSnapFunction,!1))}componentDidUpdate(e){if(this.props.width!==e.width||this.props.height!==e.height){var t=this.getCenter(),r=uf.scroller.zoom,n=t.x*this.width,i=t.y*this.height,o=n-this.width/uf.scroller.zoom/2,a=i-this.height/uf.scroller.zoom/2;uf.scroller.resize(a,o,r,this.width,this.height,this.width,this.height)}this.props.isCurrentSpread&&!e.isCurrentSpread&&uf.scroller.setSnap(!0,this.spreadSnapFunction,!1)}onGestureStart(e,t,r,n){return uf.scroller.touchStart(e,t,n),uf._zoomBeforeStart=uf.scroller.zoom,uf._positionBeforeStart={left:uf.scroller.left,top:uf.scroller.top},uf.scroller.zoom>1}onGestureChange(e,t,r,n,i,o){return(1===uf.scroller.zoom&&"ZOOM_IN"===o||uf.scroller.zoom>1)&&(uf.scroller.touchMove(e,t,n,i),this.requestRedraw(),!0)}onGestureEnd(e){return uf.scroller.touchEnd(e,od.lastTick),uf.scroller.isMoving&&this.requestRedraw(),uf.scroller.zoom!==uf._zoomBeforeStart?(this.props.trackOnceMixpanel("reader3_interaction_finger_zoom",{action:uf.scroller.zoom>uf._zoomBeforeStart?"ZOOM_IN":"ZOOM_OUT"}),this.props.featureTracker.usage(rc.GESTURE_PINCH_ZOOM)):uf.scroller.top===uf._positionBeforeStart.top&&uf.scroller.left===uf._positionBeforeStart.left||this.props.trackOnceMixpanel("reader3_interaction_pan"),uf.scroller.zoom>1}onDoubleTap(e,t){this.props.dispatch(nu());var{lastTick:r}=od;if(uf.scroller.zoom>1)uf.scroller.scrollTo(0,0,1,r).then((()=>{this.props.trackOnceMixpanel("reader3_interaction_double_tap",{smartzoom:!1,action:"ZOOM_OUT"}),this.props.dispatch(iu())}));else{this.props.featureTracker.usage(rc.DOUBLE_TAP_ZOOM);var n=this.getViewportCTM().inverse().transformPoint(e,t),i=n[0]-uf.scroller.width/4,o=n[1]-uf.scroller.height/4;uf.scroller.scrollTo(o,i,2,r).then((()=>{this.props.trackOnceMixpanel("reader3_interaction_double_tap",{smartzoom:!1,action:"ZOOM_IN"}),this.props.dispatch(iu())}))}return this.requestRedraw(),!0}get unzoomedBBox(){return this.props.transform.transformRect(od.RectPool.get(0,0,this.width,this.height))}setZoom(e,t){void 0===t&&(t=!0);var r=uf.scroller.top+uf.scroller.height/uf.scroller.zoom/2,n=uf.scroller.left+uf.scroller.width/uf.scroller.zoom/2,i=r-uf.scroller.height/e/2,o=n-uf.scroller.width/e/2;t?uf.scroller.scrollTo(i,o,e,od.lastTick):uf.scroller.jumpTo(i,o,e),this.requestRedraw()}getZoom(){return uf.scroller.zoom}getCenter(){var e=uf.scroller.left+uf.scroller.width/uf.scroller.zoom/2,t=uf.scroller.top+uf.scroller.height/uf.scroller.zoom/2;return{x:e/uf.scroller.width,y:t/uf.scroller.height}}setCenter(e){var t=e.y-this.height/uf.scroller.zoom/2,r=e.x-this.width/uf.scroller.zoom/2,n=uf.scroller.zoom,i=uf.scroller.snapFunction(t,r,n);uf.scroller.top=i.top,uf.scroller.left=i.left}isAllPagesLoaded(){for(var e of this.props.pageModels)if(!this.props.renderManager.isPageReady(e.pageNumber))return!1;return!0}getChildTree(e){void 0===e&&(e=!1);var t,r,n,i,o=this.props.pageModels,a=this.props.width,s=this.props.height,u=o.map((e=>e.width)).reduce(((e,t)=>e+t),0),c=Math.max(...o.map((e=>e.height))),l=(n=a)/(t=1===o.length&&"DOUBLE_PAGE_SPREAD"===this.props.readMode?o[0].width:u)<=(i=s)/(r=c)?n/t:i/r,h=s/l,d=(a/l-u)/2,p=(h-c)/2;this.borders={top:p*l,right:a-d*l,bottom:s-p*l,left:d*l};var f=d,g=(h-o[0].height)/2,m=(new ed).mScale(l).mTranslate(f,g),v=od.createElement(af,{arrivedAtSpreadTick:this._arrivedAtTick,dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,hideLinkToolTip:this.props.hideLinkToolTip,isLinksToggledOn:this.props.isLinksToggledOn,isPaywalled:this.props.paywalledPageStatus[0],mayRenderLinks:this.props.mayRenderLinks,model:o[0],pageType:0,showLinkToolTip:this.props.showLinkToolTip,transform:m,renderManager:this.props.renderManager,onDoubleTap:this.onPageDoubleTap});if(2===o.length){f=d+o[0].width,g=(h-o[1].height)/2;var y=(new ed).mScale(l).mTranslate(f,g);return[v,od.createElement(af,{arrivedAtSpreadTick:this._arrivedAtTick,dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,hideLinkToolTip:this.props.hideLinkToolTip,isLinksToggledOn:this.props.isLinksToggledOn,isPaywalled:this.props.paywalledPageStatus[1],mayRenderLinks:this.props.mayRenderLinks,model:o[1],pageType:1,showLinkToolTip:this.props.showLinkToolTip,transform:y,renderManager:this.props.renderManager,onDoubleTap:this.onPageDoubleTap})]}return[v]}afterDraw(e){var t,r,n=uf.scroller.isAnimating||uf.scroller.isDragging||uf.scroller.isMoving;uf.scroller.update(od.lastTick),(uf.scroller.isAnimating||uf.scroller.isDragging||uf.scroller.isMoving||n)&&this.requestRedraw(),this.props.isCurrentSpread&&!this._arrivedAtTick&&this.isAllPagesLoaded()&&this.forceUpdate(),uf._lastZoom!==uf.scroller.zoom&&(uf._lastZoom=uf.scroller.zoom,this.props.dispatch((t=uf.scroller.zoom,r=uf.scroller.isDragging,{type:os,isPinching:r,zoomLevel:t})))}}function cf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}sf(uf,"_transform",new ed),sf(uf,"scroller",new Bp(0,0,1,1,1,1,1)),sf(uf,"_lastZoom",1),sf(uf,"_zoomBeforeStart",1),sf(uf,"_positionBeforeStart",{top:0,left:0});class lf extends od{constructor(e,t){super(e,t),cf(this,"_lastCenterSpreadIndex",-1),cf(this,"_isSnapped",!0),cf(this,"_scrollerMovedLastFrame",!1),cf(this,"_lastVisiblePages",""),cf(this,"_lastPositionInPercent",0),cf(this,"_spreadIndexBeforeGestureStart",0),cf(this,"scroller",void 0),cf(this,"snapFunction",((e,t)=>{var r=this.clampChildrenIndex(this.getSpreadIndexAt(t+this.props.viewportWidth/2)),n=this.children[r];if(!n)return{left:t,top:0,zoom:1};var i=n.unzoomedBBox,o=i.x-this.xMargin;return od.RectPool.release(i),{left:o,top:0,zoom:1}})),this.scroller=new Bp(0,0,1,this.props.viewportWidth,this.props.viewportHeight,this.width,this.height)}get width(){var e=this.children?this.children.length:0;return this.props.viewportWidth*e-(this.xMargin+this.xOverlap)*(e-1)}get height(){return this.props.viewportHeight}get transform(){return this._transform||(this._transform=new ed),this._transform.mReset().mTranslate(-this.scroller.left,-this.scroller.top),this._transform}get inAnimation(){return!!this.scroller.isMoving||super.inAnimation}componentDidMount(){this.scroller.resize(0,0,1,this.props.viewportWidth,this.props.viewportHeight,this.width,this.height),this.scroller.setSnap(!0,this.snapFunction,!1);var e=this.clampChildrenIndex(this.props.currentSpreadIndex),t=this.children[e].unzoomedBBox;this.scroller.jumpTo(0,t.x-this.xMargin,1),od.RectPool.release(t),this.props.featureTracker.opportunity(rc.DOUBLE_TAP_ZOOM),this.props.featureTracker.opportunity(rc.GESTURE_PINCH_ZOOM),this.props.canChangePages&&this.props.featureTracker.opportunity(rc.GESTURE_DRAG_PAGES)}componentDidUpdate(e){if(this.props.viewportWidth!==e.viewportWidth||this.props.viewportHeight!==e.viewportHeight){var t=this.children[this.props.currentSpreadIndex].unzoomedBBox,r=t.x-this.xMargin;this.scroller.resize(0,r,1,this.props.viewportWidth,this.props.viewportHeight,this.width,this.height),od.RectPool.release(t)}}getChildrenToTraverse(){var e=this.getSpreadIndexAt(this.scroller.left),t=this.getSpreadIndexAt(this.scroller.left+this.props.viewportWidth-1);return this.children.slice(Math.max(e,0),Math.min(t,this.children.length-1)+1)}clampChildrenIndex(e){return Math.max(Math.min(e,this.children.length-1),0)}onGestureStart(e,t,r,n){return this._spreadIndexBeforeGestureStart=this.props.currentSpreadIndex,this.scroller.touchStart(e,t,n),1===r.length}onGestureChange(e,t,r,n,i,o){return("SWIPE_LEFT"===o||"SWIPE_RIGHT"===o)&&1===r.length&&(this.scroller.touchMove(e,t,n,i),this.requestRedraw(),!0)}onGestureEnd(e){return this.scroller.touchEnd(e,od.lastTick),this.props.currentSpreadIndex!==this._spreadIndexBeforeGestureStart&&this.props.featureTracker.usage(rc.GESTURE_DRAG_PAGES),this.scroller.isMoving&&this.requestRedraw(),!0}onSingleTapConfirmed(e,t,r){var n=this.getCurrentSpread(),i=n.children[0].viewportBBox;if(n.children.length>1){var o=n.children[1].viewportBBox;i.width+=o.width,i.height=Math.max(i.height,o.height),i.y=Math.min(i.y,o.y)}if(t>i.y&&t<i.y+i.height){var a=this.children.indexOf(n);if(e<i.x)return this.goToSpread(a-1),!0;if(e>i.x+i.width)return this.goToSpread(a+1),!0}return!1}getCurrentSpreadIndex(){return this.getSpreadIndexAt(this.scroller.left+this.props.viewportWidth/2)}getCurrentSpread(){return this.children[this.getCurrentSpreadIndex()]}getVisiblePageNumbers(){for(var e=[],t=Math.max(this.getSpreadIndexAt(this.scroller.left),0),r=this.getSpreadIndexAt(this.scroller.left+this.props.viewportWidth-1),n=od.RectPool.get(0,0,this.props.viewportWidth,this.props.viewportHeight),i=t;i<=r;i++){var o=this.children[i];for(var a of o.children){var s=a.viewportBBox;Wh(n,s)&&e.push(a.model.pageNumber),od.RectPool.release(s)}}return od.RectPool.release(n),e}setSnapping(e){this.scroller.setSnap(e,null,!0,od.lastTick),this.requestRedraw()}jumpToPositionByPercent(e){this.getCurrentSpread().setZoom(1),this.scroller.jumpTo(0,e*(this.width-this.props.viewportWidth)/100),this.requestRedraw()}goToSpread(e){if(this.getCurrentSpreadIndex()!==e){this.getCurrentSpread().setZoom(1);var t=this.clampChildrenIndex(e),r=this.children[t].unzoomedBBox;this.scroller.scrollTo(0,r.x-this.xMargin,1,od.lastTick),od.RectPool.release(r),this.requestRedraw()}}jumpToSpread(e){if(this.getCurrentSpreadIndex()!==e){this.getCurrentSpread().setZoom(1);var t=this.clampChildrenIndex(e),r=this.children[t].unzoomedBBox;this.scroller.jumpTo(0,r.x-this.xMargin,1),od.RectPool.release(r),this.requestRedraw()}}getSpreadIndexAt(e){var t=Math.floor((e-this.xMargin)/(this.props.viewportWidth-this.xMargin-this.xOverlap));return Math.min(Math.max(t,0),this.children.length-1)}get xMargin(){var e=(this.props.readMode,20);return ia()*e}get yMargin(){var e;return this.props.readMode,e=this.props.allowUIToOverlayCover?20:45,ia()*e}get xOverlap(){return 0}getChildTree(e){return void 0===e&&(e=!1),this.props.documentPageSpreadList.map(((e,t)=>{var r=(this.props.viewportWidth-this.xMargin-this.xOverlap)*t+this.xMargin,n=new ed;return n.mTranslate(r,this.yMargin),od.createElement(uf,{dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,height:this.props.viewportHeight-2*this.yMargin,hideLinkToolTip:this.props.hideLinkToolTip,isCurrentSpread:t===this.props.currentSpreadIndex,isLinksToggledOn:this.props.isLinksToggledOn,isSnapped:this._isSnapped,mayRenderLinks:this.props.mayRenderLinks,trackOnceMixpanel:this.props.trackOnceMixpanel,pageModels:e.pages,paywalledPageStatus:e.pages.map((e=>this.props.paywalledPageNumbers.includes(e.pageNumber))),readMode:this.props.readMode,showLinkToolTip:this.props.showLinkToolTip,transform:n,width:this.props.viewportWidth-2*this.xMargin,renderManager:this.props.renderManager,smartnavAsset:this.props.smartnavAsset,xMargin:this.xMargin,yMargin:this.yMargin,viewportWidth:this.props.viewportWidth,viewportHeight:this.props.viewportHeight})}))}afterDraw(e){var t=this.scroller.isDragging||this.scroller.isAnimating||this.scroller.isMoving;this.scroller.update(od.lastTick);var r=this.scroller.isDragging||this.scroller.isAnimating||this.scroller.isMoving;(r||t)&&(this._isSnapped?(this._isSnapped=!1,this.forceUpdate()):this.requestRedraw()),r||!this.scroller.isSnapped()||this._isSnapped?this._isSnapped||this.requestRedraw():(this._isSnapped=!0,this.forceUpdate()),!this._scrollerMovedLastFrame&&r?this.props.onAnimationStart():this._scrollerMovedLastFrame&&!r&&this.props.onAnimationEnd(),this._scrollerMovedLastFrame=r;var n=this.getCurrentSpreadIndex();n!==this.props.currentSpreadIndex&&this.props.onSpreadChange(n);var i=this.getVisiblePageNumbers(),o=i.join()!==this._lastVisiblePages;this._lastVisiblePages=i.join();var a=-1===this._lastCenterSpreadIndex,s=this._lastCenterSpreadIndex!==n&&!a,u=this.children[n].children.map((e=>e.model.pageNumber)),c=this.props.currentPageNumber;if(s)c=u[0];else if(!i.includes(c)){var l=i.find((e=>u.includes(e)));"number"==typeof l&&(c=l)}this._lastCenterSpreadIndex=n;var h=this.scroller.getHorizontalPositionInPercent(),d=h!==this._lastPositionInPercent;this._lastPositionInPercent=h;var p=this.scroller.isDragging;if((d||s||o)&&this.props.dispatch(wi(i,n,c,u,h,d,s,o,p)),s||a){var f=Array.from(new Set([...i,...u]));this.props.renderManager.setActivePages(f,this.props.readMode)}}}function hf(e){return!!(window.WebGLRenderingContext&&e instanceof WebGLRenderingContext)||!(!e||!e.hasOwnProperty("drawingBufferWidth"))}function df(e){var t={failIfMajorPerformanceCaveat:!0,stencil:!0};try{var r=e.getContext("webgl",t);if(r)return r}catch(e){}try{var n=e.getContext("experimental-webgl",t);if(n)return n}catch(e){}return null}function pf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ff="Inter,'Inter-Regular',sans-serif",gf="#4c4c4c";class mf extends od{constructor(e,t){super(e,t),pf(this,"_renderedText",""),pf(this,"_textWidth",0),pf(this,"gl",void 0),pf(this,"_texture",null),pf(this,"_alphaCanvas",void 0);var r=this.root.props.ctx;hf(r)&&(this.gl=r,this.initializeTexture())}componentWillUnmount(){this.gl&&this._texture&&this.gl.deleteTexture(this._texture)}get displayName(){return"LinkTooltip"}get width(){return this.props.link?this.props.link.width:0}get height(){return this.props.link?20:0}get isVisible(){return this.props.link&&this.props.link.isVisible}get model(){return this.props.link.model}get text(){return"gotoPage"===this.model.type?"Navigate to page "+this.model.gotoPageNumber:"openUrl"===this.model.type?""+this.model.url:""}initializeTexture(){if(this.gl){var e=this.gl;this._texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}}drawRoundRect(e,t,r,n,i,o){e.beginPath(),e.moveTo(t+o,r),e.lineTo(t+n-o,r),e.quadraticCurveTo(t+n,r,t+n,r+o),e.lineTo(t+n,r+i-o),e.quadraticCurveTo(t+n,r+i,t+n-o,r+i),e.lineTo(t+o,r+i),e.quadraticCurveTo(t,r+i,t,r+i-o),e.lineTo(t,r+o),e.quadraticCurveTo(t,r,t+o,r),e.closePath(),e.fill(),e.stroke()}updateOffscreenCanvases(){var e=this._alphaCanvas||document.createElement("canvas"),t=e.getContext("2d",{alpha:!1});t.font="12px "+ff;var r=Math.ceil(t.measureText(this.text).width+12),n=ia(),i=r*n,o=20*n,a=4*n,s=3.5*n;e.width=i,e.height=o,t.fillStyle=gf,t.strokeStyle=gf,t.clearRect(0,0,i,o),this.drawRoundRect(t,0,0,i,o,a),t.fillStyle="#ffffff",t.textBaseline="alphabetic",t.textAlign="center",t.font=12*n+"px "+ff,t.fillText(this.text,i/2,o/2+s),this._textWidth=r,this._renderedText=this.text,this._alphaCanvas=e}updateTexture(){if(this.gl&&this._alphaCanvas){var{gl:e,_alphaCanvas:t}=this;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.bindTexture(e.TEXTURE_2D,this._texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t)}}getBBoxCoordinates(){var e=ia(),t=this._textWidth*e,r=20*e,n=15*e,i=this.props.link.viewportBBox,o=this.root.viewportBBox,a=Math.min(Math.min(1,o.width/t,Math.min(1,o.height/r))),s=t*a,u=r*a,c=n*a,l=Math.max(i.x+i.width/2-s/2,0),h=Math.max(i.y+i.height+(c-u/2),0);return l+s>o.width&&(l-=l+s-o.width),h+u>o.height&&(h-=h+u-o.height),{x:l,y:h,width:s,height:u}}appendWebglOps(e,t,r){this._renderedText!==this.text&&(this.updateOffscreenCanvases(),this.updateTexture());var n=this.getBBoxCoordinates();e.push({type:"tooltip-operation",args:[this._texture,n,{x:0,y:0,width:1,height:1}]})}draw(e,t){this._renderedText!==this.text&&this.updateOffscreenCanvases();var{x:r,y:n,width:i,height:o}=this.getBBoxCoordinates();this._alphaCanvas&&e.drawImage(this._alphaCanvas,r,n,i,o)}}function vf(e){var t=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);e.x/=t,e.y/=t,e.z/=t}function yf(e,t,r,n,i,o,a){a.x+=o*t-i*r,a.y+=n*r-o*e,a.z+=i*e-n*t}function bf(e,t,r,n,i){e<r-1&&i.push(n[t+0+3*r]-n[t+0],n[t+1+3*r]-n[t+1],n[t+2+3*r]-n[t+2])}function _f(e,t,r,n,i){e>0&&i.push(n[t+0-3*r]-n[t+0],n[t+1-3*r]-n[t+1],n[t+2-3*r]-n[t+2])}function wf(e,t,r,n,i){e>0&&i.push(n[t+0-3]-n[t+0],n[t+1-3]-n[t+1],n[t+2-3]-n[t+2])}function xf(e,t,r,n,i){e<r-1&&i.push(n[t+0+3]-n[t+0],n[t+1+3]-n[t+1],n[t+2+3]-n[t+2])}function Ef(e,t,r,n,i,o,a){t===n-1?(wf(e,r,0,i,o),_f(t,r,n,i,o),xf(e,r,n,i,o)):0===e?(_f(t,r,n,i,o),xf(e,r,n,i,o),bf(t,r,n,i,o)):0===t?(xf(e,r,n,i,o),bf(t,r,n,i,o),wf(e,r,0,i,o)):e===n-1?(bf(t,r,n,i,o),wf(e,r,0,i,o),_f(t,r,n,i,o)):(bf(t,r,n,i,o),wf(e,r,0,i,o),_f(t,r,n,i,o),xf(e,r,n,i,o));for(var s=o.length/3,u=0;u<s-1;u++)yf(o[3*u+0],o[3*u+1],o[3*u+2],o[3*(u+1)+0],o[3*(u+1)+1],o[3*(u+1)+2],a)}__webpack_require__(8428);var Of={x:0,y:0,z:0},Tf=[];function Sf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pf={x:0,y:0,z:0},kf={x:0,y:0,z:0};function Af(e){return t=Wp(e),(1*Math.pow(2,10*(t-1))+0)*Math.PI;var t}function If(e){return Vp(.5,.082,e)*Math.PI}function Rf(e){var t=.98;return(e=Math.max(Math.min(e,1),0))<t?-6.8*Math.pow(e/t,20)-1.3:-391.9*Math.pow((e-t)/(1-t),6)-8.1}class jf{constructor(e,t){void 0===t&&(t=0),Sf(this,"size",void 0),Sf(this,"minDepth",void 0),Sf(this,"indices",void 0),Sf(this,"vertices",void 0),Sf(this,"normals",void 0),Sf(this,"perspectiveCorrections",void 0),Sf(this,"textureCoords",void 0),Sf(this,"backFacingIndices",void 0),Sf(this,"backFacingNormals",void 0),Sf(this,"backFacingTextureCoords",void 0),Sf(this,"_point",{x:0,y:0,z:0}),this.minDepth=t;for(var r=[],n=[],i=[],o=[],a=[],s=[],u=[],c=[],l=0;l<e;l++)for(var h=l/(e-1),d=0;d<e;d++){var p=d/(e-1),f=this._tweakDepth(0);r.push(p,h,f),n.push(0,0,1),o.push(this._getPerspectiveCorrection(f)),a.push(p,h),s.push(0,0,-1),c.push(1-p,h)}for(var g=0;g<e-1;g++)for(var m=(g+0)*e,v=(g+1)*e,y=0;y<e-1;y++){var b=m+y,_=v+y;i.push(_,b,_+1),i.push(b,b+1,_+1),u.push(_+1,b+1,_),u.push(b+1,b,_)}this.size=e,this.indices=new Uint16Array(i),this.vertices=new Float32Array(r),this.normals=new Float32Array(n),this.perspectiveCorrections=new Float32Array(o),this.textureCoords=new Float32Array(a),this.backFacingIndices=new Uint16Array(u),this.backFacingNormals=new Float32Array(s),this.backFacingTextureCoords=new Float32Array(c)}_tweakDepth(e){return.8*Math.max(e,this.minDepth)}_getPerspectiveCorrection(e){return 1+e/.8*-.2}_bendPoint(e,t,r,n,i,o){(function(e,t,r,n){Pf.x=e.x,Pf.y=e.y,Pf.z=e.z,kf.x=e.x,kf.y=e.y,kf.z=e.z;var i=Pf,o=kf;n>0&&(i.y=1-i.y),function(e,t,r){var n=Math.sin(t),i=Math.cos(t),o=e.y-r,a=Math.sqrt(e.x*e.x+o*o),s=Math.asin(e.x/a)/n,u=a*n,c=Math.sin(s),l=Math.cos(s);e.x=u*c,e.y=a+r-u*(1-l)*n,e.z=u*(1-l)*i}(i,t,r),n>0&&(i.y=1-i.y),function(e,t,r){var n=Math.sqrt(1+(1-r)*(1-r))*Math.sin(t),i=e.x/n;e.x=n*Math.sin(i),e.z=n-n*Math.cos(i)}(o,t,r);var a=Math.abs(n);e.x=a*i.x+(1-a)*o.x,e.y=a*i.y+(1-a)*o.y,e.z=a*i.z+(1-a)*o.z})(e,t,r,i),function(e,t){var r=Math.sin(t),n=Math.cos(t),i=e.x*n-e.z*r,o=e.x*r+e.z*n;e.x=i,e.z=o}(e,n),e.x*=o?-1:1,e.z=this._tweakDepth(e.z)}bend(e,t){for(var r=1/e<0,n=Math.abs(e),i=Af(n),o=If(n),a=Rf(n),s=this._point,u=0;u<this.size;u++)for(var c=0;c<this.size;c++){s.x=c/(this.size-1),s.y=u/(this.size-1),s.z=0,this._bendPoint(s,o,a,i,t,r);var l=u*this.size*3+3*c;this.vertices[l+0]=s.x,this.vertices[l+1]=s.y,this.vertices[l+2]=s.z,this.perspectiveCorrections[u*this.size+c]=this._getPerspectiveCorrection(s.z)}!function(e,t,r,n){for(var i=Of,o=Tf,a=0;a<e;a++)for(var s=0;s<e;s++){i.x=0,i.y=0,i.z=0,o.length=0;var u=a*e*3+3*s;Ef(s,a,u,e,t,o,i),vf(i),r[u+0]=i.x,r[u+1]=i.y,r[u+2]=i.z,n[u+0]=-i.x,n[u+1]=-i.y,n[u+2]=-i.z}}(this.size,this.vertices,this.normals,this.backFacingNormals)}calculateProgress(e,t,r,n,i){var o=e<t;if(o){if(r<=e)return-0;if(r>=t)return-1}else{if(r>=e)return 0;if(r<=t)return 1}for(var a=this._point,s=o?-.5:.5,u=0;u<16;u++){var c=Math.abs(s),l=Af(c),h=If(c),d=Rf(c);a.x=1,a.y=(i+1)/2,a.z=0,this._bendPoint(a,h,d,l,i,o);var p=a.x/this._getPerspectiveCorrection(a.z),f=n.x+n.width*p;if(Math.abs(f-r)<1)break;s+=Math.sign(f-r)/Math.pow(2,u+2)}return Math.max(Math.min(s,1),-1)}}function Cf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Df=1e-4;function Nf(e){return"SINGLE_PAGE_SPREAD"===e?200:400}function Lf(e){var t=Math.abs(e);return t<.1?Vp(0,1,10*t):t>.9?Vp(0,1,10*(1-t)):1}class Mf extends od{constructor(e,t){super(e,t),Cf(this,"animation",void 0),Cf(this,"_targetSpreadIndex",void 0),Cf(this,"_gesture",{startX:0,startY:0,endX:0,endY:0,velocity:0,timeStamp:0}),Cf(this,"_bendingMesh",new jf(25,.001)),Cf(this,"_flatMesh",new jf(2,0)),Cf(this,"_isSnapped",!0),Cf(this,"_wasAnimatingLastFrame",!1),Cf(this,"_lastSpreadIndex",-1),Cf(this,"_lastPositionInPercent",0),Cf(this,"_lastVisiblePages",""),Cf(this,"_pendingTargetSpreadIndex",NaN),Cf(this,"_lightRatioEasing",Lf),Cf(this,"_progressEasing",(e=>this.animation.value(e))),Cf(this,"_justStartedAnimation",!1),this._targetSpreadIndex=this.props.currentSpreadIndex,this.animation=new Qp(Number.MAX_VALUE,Nf(this.props.readMode),{easing:Qp.EASE_IN_OUT_CUBIC})}componentDidMount(){this.props.featureTracker.opportunity(rc.DOUBLE_TAP_ZOOM),this.props.featureTracker.opportunity(rc.GESTURE_PINCH_ZOOM),this.props.canChangePages&&this.props.featureTracker.opportunity(rc.GESTURE_DRAG_PAGES)}get width(){return this.props.viewportWidth}get height(){return this.props.viewportHeight}onGestureStart(e,t,r,n){return!this.props.disableGestures&&(this.animation.isRunning(od.lastTick)&&this.jumpToSpread(this._targetSpreadIndex),this._gesture={startX:e,startY:t,endX:e,endY:t,velocity:0,timeStamp:n},!0)}onGestureChange(e,t,r,n,i,o){if(this.props.disableGestures)return!1;if(("SWIPE_LEFT"===o||"SWIPE_RIGHT"===o)&&1===r.length){var a=-(e-this._gesture.endX)/Math.max(1,n-this._gesture.timeStamp)*.6+.4*this._gesture.velocity;this._gesture.endX=e,this._gesture.endY=t,this._gesture.timeStamp=n,this._gesture.velocity=a;var s=this.getCurrentSpreadIndex(),u=this._getValidSpreadIndex(s+("SWIPE_LEFT"===o?1:-1));return s!==u&&this._tweakAnimation({duration:Number.MAX_VALUE,targetSpreadIndex:u}),!0}return!1}onGestureEnd(e){if(this.props.disableGestures)return!1;if(this._isDraggingManually()){var t=this._getPageSetupForFlip(this.getCurrentSpreadIndex(),this._targetSpreadIndex),r=this._getProgressBasedOnFingerPosition(t.start.edge,t.end.edge),n=this._targetSpreadIndex>this.getCurrentSpreadIndex()?this._gesture.velocity>0:this._gesture.velocity<0,i=Math.abs(this._gesture.velocity),o=n&&(r>.6||i>.36),a=Nf(this.props.readMode)*(.95-Math.atan(i)/Math.PI);return this._tweakAnimation({duration:a,startTime:od.lastTick-a*(o?r:1-r),reverse:!o}),o&&this.props.featureTracker.usage(rc.GESTURE_DRAG_PAGES),!0}return!1}onSingleTapConfirmed(e,t,r){var n=this.getCurrentSpread(),i=n.children[0].viewportBBox;if(n.children.length>1){var o=n.children[1].viewportBBox;i.width+=o.width,i.height=Math.max(i.height,o.height),i.y=Math.min(i.y,o.y)}if(t>i.y&&t<i.y+i.height){var a=this.children.indexOf(n);if(e<i.x)return this.props.disableGestures?this.jumpToSpread(Math.max(a-1,0)):this.goToSpread(Math.max(a-1,0)),!0;if(e>i.x+i.width)return this.props.disableGestures?this.jumpToSpread(Math.min(a+1,this.children.length-1)):this.goToSpread(Math.min(a+1,this.children.length-1)),!0}return!1}getCurrentSpreadIndex(){return this.props.currentSpreadIndex}getCurrentSpread(){return this.children[this.getCurrentSpreadIndex()]}getVisiblePageNumbers(){var e=[];if(this.getCurrentSpreadIndex()!==this._targetSpreadIndex){var t=Math.min(this.getCurrentSpreadIndex(),this._targetSpreadIndex),r=Math.max(this.getCurrentSpreadIndex(),this._targetSpreadIndex);e.push(...this.children[t].children.map((e=>e.model.pageNumber))),e.push(...this.children[r].children.map((e=>e.model.pageNumber)))}else{var n=od.RectPool.get(0,0,this.props.viewportWidth,this.props.viewportHeight),i=this.getCurrentSpread();for(var o of i.children){var a=o.viewportBBox;Wh(n,a)&&e.push(o.model.pageNumber),od.RectPool.release(a)}od.RectPool.release(n)}return e}setSnapping(e){}jumpToPositionByPercent(e){this.getCurrentSpread().setZoom(1),this.jumpToSpread(Math.round(e/100*(this.children.length-1)))}goToSpread(e){var{lastTick:t}=od;this.animation.isRunning(t)?this._pendingTargetSpreadIndex=e:this._animateToSpread(e,t,Nf(this.props.readMode))}jumpToSpread(e){this._animateToSpread(e,od.lastTick,0)}_getValidSpreadIndex(e){return Math.max(0,Math.min(this.children.length-1,e))}_animateToSpread(e,t,r){this._targetSpreadIndex=this._getValidSpreadIndex(e),this.getCurrentSpreadIndex()!==this._targetSpreadIndex&&(this.getCurrentSpread().setZoom(1),this._tweakAnimation({startTime:t,duration:r}))}_tweakAnimation(e){void 0===e&&(e={}),this.animation.duration="number"==typeof e.duration?e.duration:Nf(this.props.readMode),this._targetSpreadIndex=this._getValidSpreadIndex("number"==typeof e.targetSpreadIndex?e.targetSpreadIndex:this._targetSpreadIndex),this.animation.reset(e.startTime||0),this.animation.options.reverse=!!e.reverse,this._justStartedAnimation=!0,this.requestRedraw()}get xMargin(){return 20*ia()}get yMargin(){var e=this.props.allowUIToOverlayCover?20:45;return ia()*e}getChildrenToTraverse(){var e=this.getCurrentSpreadIndex();return this.children.slice(e,e+1)}getChildTree(e){void 0===e&&(e=!1);var{xMargin:t,yMargin:r}=this,n=new ed;return n.mTranslate(t,r),this.props.documentPageSpreadList.map(((e,i)=>od.createElement(uf,{dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,height:this.props.viewportHeight-2*r,hideLinkToolTip:this.props.hideLinkToolTip,isCurrentSpread:i===this.props.currentSpreadIndex,isLinksToggledOn:this.props.isLinksToggledOn,isSnapped:this._isSnapped,mayRenderLinks:this.props.mayRenderLinks&&this._isSnapped,trackOnceMixpanel:this.props.trackOnceMixpanel,pageModels:e.pages,paywalledPageStatus:e.pages.map((e=>this.props.paywalledPageNumbers.includes(e.pageNumber))),readMode:this.props.readMode,renderManager:this.props.renderManager,showLinkToolTip:this.props.showLinkToolTip,transform:n,width:this.props.viewportWidth-2*t,smartnavAsset:this.props.smartnavAsset,xMargin:this.xMargin,yMargin:this.yMargin,viewportWidth:this.props.viewportWidth,viewportHeight:this.props.viewportHeight})))}beforeDraw(e){!this._wasAnimatingLastFrame&&this.animation.isRunning(od.lastTick)&&this.props.onAnimationStart(),(!this.animation.isRunning(od.lastTick)&&(this._wasAnimatingLastFrame||this._justStartedAnimation)||0===this.animation.duration)&&(this.animation.options.reverse&&(this._targetSpreadIndex=this.getCurrentSpreadIndex()),this._targetSpreadIndex!==this.getCurrentSpreadIndex()&&this.props.onSpreadChange(this._targetSpreadIndex),isNaN(this._pendingTargetSpreadIndex)||(this.goToSpread(this._pendingTargetSpreadIndex),this._pendingTargetSpreadIndex=NaN))}appendWebglOps(e,t,r){this.animation.isRunning(od.lastTick)?this._appendWebglOpsForFlipping(e,this.getCurrentSpreadIndex(),this._targetSpreadIndex,r):this._appendWebglOpsForPages(e,r),this._justStartedAnimation=!1}afterDraw(e){this._wasAnimatingLastFrame&&!this.animation.isRunning(od.lastTick)&&this.props.onAnimationEnd();var t=this._isDraggingManually();this._wasAnimatingLastFrame=this.animation.isRunning(od.lastTick),this._wasAnimatingLastFrame&&!t&&this.requestRedraw();var r=this.getVisiblePageNumbers(),n=this.getCurrentSpreadIndex(),i=this.getCurrentSpread().children.map((e=>e.model.pageNumber)),o=n/Math.max(this.children.length-1,1)*100,a=this._lastPositionInPercent!==o,s=-1===this._lastSpreadIndex,u=this._lastSpreadIndex!==n&&!s,c=r.join()!==this._lastVisiblePages,l=this.props.currentPageNumber;if(u)l=i[0];else if(!r.includes(l)){var h=r.find((e=>i.includes(e)));"number"==typeof h&&(l=h)}if(this._lastPositionInPercent=o,this._lastSpreadIndex=n,this._lastVisiblePages=r.join(),(a||u||c)&&this.props.dispatch(wi(r,n,l,i,o,a,u,c,t)),this._wasAnimatingLastFrame===this._isSnapped&&(this._isSnapped=!this._wasAnimatingLastFrame,this._isSnapped||this.props.hideLinkToolTip(),this.forceUpdate()),u||s){var d=Array.from(new Set([...r,...i]));this.props.renderManager.setActivePages(d,this.props.readMode)}}_appendWebglOpsForFlipping(e,t,r,n){var i=this._getPageSetupForFlip(t,r),o=r<t,a=this._getConicContribution(),s=this._getProgressBasedOnFingerPosition(i.start.edge,i.end.edge),u=Hp(this._transformBBox(i.start.bbox,i.end.bbox,s),1),c=this._bendingMesh.calculateProgress(i.start.edge,i.end.edge,this._getFingerPosition(i.start.edge,i.end.edge),u,a);this._bendingMesh.bend(c,a);var l=this._lightRatioEasing(s),h=i.start.bending?this._loadPreviewTextureInfos(i.start.bending,u,n).ops:[],d=i.end.bending?this._loadPreviewTextureInfos(i.end.bending,u,n).ops:[];if(h.some((e=>e&&(0===e.type||1===e.type)))||(h=[null]),d.some((e=>e&&(0===e.type||1===e.type)))||(d=[null]),h.forEach((t=>{t&&3===t.type?e.push({type:"fill-bending-page-operation",args:[this._bendingMesh,t,u,l,o,!!i.start.bending,od.lastTick]}):e.push({type:"bending-page-operation",args:[this._bendingMesh,t,u,l,o,!!i.start.bending,od.lastTick]})})),d.forEach((t=>{t&&3===t.type?e.push({type:"fill-bending-page-operation",args:[this._bendingMesh,t,u,l,!o,!!i.end.bending,od.lastTick]}):e.push({type:"bending-page-operation",args:[this._bendingMesh,t,u,l,!o,!!i.end.bending,od.lastTick]})})),e.push({type:"depth-map-operation",args:[this._bendingMesh,u]}),i.start.flat&&i.end.bending){var p=this._transformBBox(i.start.flat.viewportBBox,i.end.bending.viewportBBox,s);this._appendWebglOpsForPage(e,i.start.flat,p,n),e.push({type:"shadow-operation",args:[p,Df]})}if(i.start.bending&&i.end.flat){var f=this._transformBBox(i.start.bending.viewportBBox,i.end.flat.viewportBBox,s);this._appendWebglOpsForPage(e,i.end.flat,f,n),e.push({type:"shadow-operation",args:[f,Df]})}}_transformBBox(e,t,r){var n=Math.abs(r);return{x:Gp(e.x,t.x,n),y:Gp(e.y,t.y,n),width:Gp(e.width,t.width,n),height:Gp(e.height,t.height,n)}}_isDraggingManually(){return!(this.animation.duration!==Number.MAX_VALUE||!this._gesture)}_getConicContribution(){if(this.animation.duration!==Nf(this.props.readMode)&&this._gesture){var e=(this._gesture.endY-this._gesture.startY)/(this.height-this._gesture.startY);return Math.min(1,Math.max(-1,e))}return-.5}_getFingerPosition(e,t){return this._isDraggingManually()?this._gesture.endX-this._gesture.startX+e:e+(t-e)*this._progressEasing(od.lastTick)}_getProgressBasedOnFingerPosition(e,t){var r=this._getFingerPosition(e,t);return Math.min(1,Math.max(0,(r-e)/(t-e)))}_getPageSetupForFlip(e,t){var r=t<e;return function(e,t,r,n){return"SINGLE_PAGE_SPREAD"===r?n?function(e,t){var r=e[0].viewportBBox,n=t[0].viewportBBox;return{start:{bending:null,flat:e[0],bbox:r,edge:r.x},end:{bending:t[0],flat:null,bbox:n,edge:n.x+n.width}}}(e,t):function(e,t){var r=e[0].viewportBBox,n=t[0].viewportBBox;return{start:{bending:e[0],flat:null,bbox:r,edge:r.x+r.width},end:{bending:null,flat:t[0],bbox:n,edge:n.x}}}(e,t):n?function(e,t){var r=e[0].viewportBBox,n=t[t.length-1].viewportBBox;return{start:{bending:e[0],flat:e.length>1?e[e.length-1]:null,bbox:Object.assign({},r,{x:r.x+r.width}),edge:r.x},end:{bending:t[t.length-1],flat:t.length>1?t[0]:null,bbox:n,edge:n.x+n.width}}}(e,t):function(e,t){var r=e[e.length-1].viewportBBox,n=t[0].viewportBBox;return{start:{bending:e[e.length-1],flat:e.length>1?e[0]:null,bbox:r,edge:r.x+r.width},end:{bending:t[0],flat:t.length>1?t[t.length-1]:null,bbox:Object.assign({},n,{x:n.x+n.width}),edge:n.x}}}(e,t)}(this.children[e].children,this.children[t].children,this.props.readMode,r)}_appendWebglOpsForPages(e,t){this.getCurrentSpread().children.forEach((r=>{this._appendWebglOpsForPage(e,r,r.viewportBBox,t)}))}_appendWebglOpsForPage(e,t,r,n){if(this.overlaps(r)){var i=Hp(r,t.pageType),o=this._lightRatioEasing(0),{done:a,ops:s}=this._loadTextureInfos(t,r,n);s.forEach((t=>{3===t.type?e.push({type:"fill-bending-page-operation",args:[this._flatMesh,t,i,o,!1,!0,od.lastTick]}):e.push({type:"bending-page-operation",args:[this._flatMesh,t,i,o,!1,!0,od.lastTick]})})),a||0!==s.length||e.push({type:"bending-page-operation",args:[this._flatMesh,null,i,o,!1,!0,od.lastTick]}),a||this.requestRedraw()}}_loadPreviewTextureInfos(e,t,r){var n=this._loadTextureInfos(e,t,r);return n.ops=n.ops.filter((e=>0!==e.type)),n}_loadTextureInfos(e,t,r){return e.getOperations(t,r.width,r.height)}}function Ff(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bf=od.connect(class extends od{constructor(e,t){super(e,t),Ff(this,"_currentSpreadIndex",void 0),Ff(this,"spreadAnimator",void 0),Ff(this,"_isLinkToggledOn",!1),Ff(this,"_showTooltip",null),Ff(this,"_frameCountAtAnimationStart",-1),Ff(this,"_interactionStartTime",-1),Ff(this,"_inAnimation",!1),Ff(this,"onSpreadChange",(e=>{this._currentSpreadIndex=e,this._isLinkToggledOn=!1,this.forceUpdate()})),Ff(this,"onAnimationStart",(()=>{this._frameCountAtAnimationStart=this.frameCount,this._interactionStartTime=od.lastTick,this._inAnimation=!0})),Ff(this,"onAnimationEnd",(()=>{if(this._inAnimation=!1,this._frameCountAtAnimationStart>=0&&this._interactionStartTime>=0){var e=od.lastTick-this._interactionStartTime,t=e/(1e3/60)-(this.frameCount-this._frameCountAtAnimationStart);t>0&&this.props.metrics.onFrameDrop({droppedFrames:t,duration:e,webgl:this.props.usePageFlip})}})),Ff(this,"showLinkToolTip",(e=>{this._showTooltip!==e&&(this._showTooltip=e,this.forceUpdate())})),Ff(this,"hideLinkToolTip",(()=>{this._showTooltip&&(this._showTooltip=null,this.forceUpdate())})),this.__store__=e.store,this._currentSpreadIndex=ji(e.readMode,e.currentPageNumber)}componentDidMount(){this.spreadAnimator=this.children[0];var e={getVisibleComponents:()=>this.getVisibleDescendants(),getRenderedViews:e=>this.getRenderedViews(e),getReadMode:()=>this.props.readMode,getPageComponent:e=>{var t,r=ji(this.props.readMode,e),n=null===(t=this.spreadAnimator)||void 0===t?void 0:t.children[r];return n.children[0].pageNumber===e?n.children[0]:n.children[1]},goToPage:t=>{e.goToSpread(ji(e.getReadMode(),t))},goToSpread:e=>{if(this.props.findIsVisible&&this.spreadAnimator)this.spreadAnimator.jumpToSpread(e);else{var t=this.owner;this.props.usePageFlip||this.props.dispatch(kp()),setTimeout((()=>{t.canvasObjectTree&&t.canvasObjectTree.spreadAnimator.goToSpread(e)}),0)}},jumpToPage:t=>{e.jumpToSpread(ji(e.getReadMode(),t))},jumpToSpread:e=>{var t;return null===(t=this.spreadAnimator)||void 0===t?void 0:t.jumpToSpread(e)},setSnapping:e=>{var t;return null===(t=this.spreadAnimator)||void 0===t?void 0:t.setSnapping(e)},jumpToPositionByPercent:e=>{var t;return null===(t=this.spreadAnimator)||void 0===t?void 0:t.jumpToPositionByPercent(e)},zoomCurrentView:(e,t)=>{var r,n;return null===(r=this.spreadAnimator)||void 0===r||null===(n=r.getCurrentSpread())||void 0===n?void 0:n.setZoom((e=>Math.max(Math.min(e,5),1))(e),t)},getPosition:()=>this.getPosition(),setPosition:e=>this.setPosition(e),timestamp:Date.now()};this.props.dispatch(vp(e))}componentDidUpdate(e){!e.browserTabIsVisible&&this.props.browserTabIsVisible&&(this._interactionStartTime=-1,this._frameCountAtAnimationStart=-1)}componentWillUnmount(){this.props.dispatch(bp())}getChildTree(e){void 0===e&&(e=!1);var t={allowUIToOverlayCover:this.props.allowUIToOverlayCover,canChangePages:this.props.documentPageSpreadList.length>1,currentSpreadIndex:this._currentSpreadIndex,currentPageNumber:this.props.currentPageNumber,disableGestures:this.props.findIsVisible,dispatch:this.props.dispatch,documentPageSpreadList:this.props.documentPageSpreadList,featureTracker:this.props.featureTracker,hideLinkToolTip:this.hideLinkToolTip,isLinksToggledOn:this._isLinkToggledOn,mayRenderLinks:this.props.mayRenderLinks,trackOnceMixpanel:this.props.trackOnceMixpanel,paywalledPageNumbers:this.props.paywalledPageNumbers,onAnimationEnd:this.onAnimationEnd,onAnimationStart:this.onAnimationStart,onSpreadChange:this.onSpreadChange,readMode:this.props.readMode,showLinkToolTip:this.showLinkToolTip,viewportHeight:this.props.height,viewportWidth:this.props.width,renderManager:this.props.renderManager,smartnavAsset:this.props.smartnavAsset,experiment:this.props.experiment};return[this.props.usePageFlip?od.createElement(Mf,t):od.createElement(lf,t),od.createElement(mf,{link:this._showTooltip})]}get frameCount(){return this.owner.frameCount}get inAnimation(){return this._inAnimation}onSingleTapConfirmed(e,t,r){return this._isLinkToggledOn=!this._isLinkToggledOn,this.forceUpdate(),!0}getPosition(){var e,t,r=null===(e=this.spreadAnimator)||void 0===e?void 0:e.getCurrentSpread(),n=r.children,{activeVideoLink:i}=this.props;if(n.length<2?t=n[0]:i&&(t=n.find((e=>e.model.pageNumber===i.page.pageNumber))),!t){var o=od.RectPool.get(0,0,this.width,this.height),a=n[0].viewportBBox,s=n[1].viewportBBox,u=Wh(o,a)-Wh(o,s);t=u>0?n[0]:u<0?n[1]:n.find((e=>e.model.pageNumber===this.props.currentPageNumber)),od.RectPool.release(o)}if(!t)return null;var c=r.getCenter(),l=t.transform.inverse().transformPoint(c.x*r.width,c.y*r.height);return{x:l[0]/t.width,y:l[1]/t.height,zoom:r.getZoom(),pageNumber:t.pageNumber}}setPosition(e){var t,r=ji(this.props.readMode,e.pageNumber),n=null===(t=this.spreadAnimator)||void 0===t?void 0:t.children[r],i=n.children.find((t=>t.pageNumber===e.pageNumber));if(uf.scroller.zoom=e.zoom,i){var o,a=i.transform.transformPoint(e.x*i.width,e.y*i.height);n.setCenter({x:a[0],y:a[1]}),null===(o=this.spreadAnimator)||void 0===o||o.jumpToSpread(r),this.requestRedraw()}}getRenderedViews(e){void 0===e&&(e=!0);var t={},r={x:0,y:0,width:this.width,height:this.height};return od.traverse(this,((n,i)=>{if(!Wh(r,i))return!1;if(e&&!n.isVisible)return!0;t.hasOwnProperty(n.displayName)||(t[n.displayName]=[]);var o={},a=Object.keys(n).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(n)));for(var s of a){var u=n[s];"number"!=typeof u&&"string"!=typeof u&&"boolean"!=typeof u||(o[s]=u)}var c=n.model||{};return t[n.displayName].push(Object.assign(n.viewportBBox,{model:c,view:o})),!0})),JSON.parse(JSON.stringify(t))}},(e=>({allowUIToOverlayCover:Ma(e)||e.features.allowUIToOverlayCover,browserTabIsVisible:!e.visibility.isHidden,activeVideoLink:e.inlineVideo.activeVideoLink,currentPageNumber:e.reader.currentPageNumber,currentSpreadIndex:e.reader.currentSpreadIndex,documentPageSpreadList:Aa(e),findIsVisible:eo(e),featureTracker:e.featureTracker,mayRenderLinks:hp(e),paywalledPageNumbers:To(e),smartnavAsset:e.smartnav.pages,experiment:e.experiment.identifier}))),Uf=__webpack_require__(2004),zf=__webpack_require__.n(Uf),Hf=__webpack_require__(8389),Wf=__webpack_require__.n(Hf),Gf=(__webpack_require__(3315),"youtube_api_ready"),Vf="set_active_video_link";function qf(e){return{type:Vf,videoLink:e}}var Yf=__webpack_require__(2741),$f=__webpack_require__.n(Yf);function Xf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Kf=void 0;class Zf{constructor(e,t){Xf(this,"_player",void 0),Xf(this,"id",void 0),Xf(this,"_isPlaying",!1),Xf(this,"_isFullscreen",!1),Xf(this,"fullscreenCallback",void 0),Xf(this,"playStatusCallback",void 0),Xf(this,"_onPlay",(()=>{this._isPlaying=!0,this._invokePlayStatusCallback()})),Xf(this,"_onPause",(()=>{this._isPlaying=!1,this._invokePlayStatusCallback()})),Xf(this,"_onEnded",(()=>{this._isPlaying=!1,this._invokePlayStatusCallback()})),Xf(this,"_onFullscreenChange",(()=>{var e=document.getElementById(this.id);this._isFullscreen=!!e&&e.contains(Ou()),this.fullscreenCallback&&this.fullscreenCallback()})),this._player=t,this.id=e,this._player.on("play",this._onPlay),this._player.on("pause",this._onPause),this._player.on("ended",this._onEnded),wu(this._onFullscreenChange)}play(){return this._player.play()}pause(){this._player.pause()}destroy(){xu(this._onFullscreenChange),this.fullscreenCallback=void 0,this.playStatusCallback=void 0,this._player.unload()}isPlaying(){return this._isPlaying}isFullscreen(){return this._isFullscreen}isReady(){return!0}_invokePlayStatusCallback(){this.playStatusCallback&&this.playStatusCallback()}}function Jf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Qf{constructor(e,t){Jf(this,"_player",void 0),Jf(this,"id",void 0),Jf(this,"_isFullscreen",!1),Jf(this,"_maxReloadRetries",3),Jf(this,"fullscreenCallback",void 0),Jf(this,"playStatusCallback",void 0),Jf(this,"_onFullscreenChange",(()=>{var e=document.getElementById(this.id);this._isFullscreen=!!e&&e.contains(Ou()),this.fullscreenCallback&&this.fullscreenCallback()})),Jf(this,"_onStateChange",(()=>{this.playStatusCallback&&this.playStatusCallback()})),this._player=t,this.id=e,wu(this._onFullscreenChange)}play(){return this._player.playVideo(),Promise.resolve()}pause(){this._player.pauseVideo()}destroy(){xu(this._onFullscreenChange),this.fullscreenCallback=void 0,this.playStatusCallback=void 0,this._player.destroy()}isPlaying(){return this._player.getPlayerState()===window.YT.PlayerState.PLAYING}isFullscreen(){return this._isFullscreen}isReady(){return this._player.getDuration()>0}}function eg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tg=[{width:210,height:120},{width:120,height:210}],rg={x:0,y:0,width:1,height:1};class ng extends Ne.Component{constructor(){super(...arguments),eg(this,"_played",!1),eg(this,"_playerInitialized",!1),eg(this,"_trackingFlag",{videoImpressed:!1,videoWatched:!1,videoWentWrong:!1}),eg(this,"state",{inlinePlayer:null,errorOccurred:!1}),eg(this,"_playStatusCallback",(()=>{this._played=this._played||this._isPlaying(),this.props.interactionCallback(this.props.inlineVideo,this._isPlaying(),this._isFullscreen()),this._shouldVideoBeRendered()&&this._trackOpportunity(),this._played&&this._trackUsage()})),eg(this,"_fullscreenCallback",(()=>{this.props.interactionCallback(this.props.inlineVideo,this._isPlaying(),this._isFullscreen())}))}componentDidMount(){this.props.shouldBeLoaded&&!this.props.isExplicit&&this._createPlayer()}shouldComponentUpdate(e,t){return!$f()(this.props,e)||!$f()(this.state,t)}componentDidUpdate(e){this.props.shouldBeLoaded&&!this.props.isExplicit?this._createPlayer():this._destroyPlayer();var{inlinePlayer:t}=this.state;if(t){t.fullscreenCallback=this._fullscreenCallback,t.playStatusCallback=this._playStatusCallback;var{hidden:r,shouldBePaused:n,shouldAutoplay:i}=this.props;this._isPlaying()&&(r||n)&&t.pause(),this._shouldVideoBeRendered()&&!r&&i&&!this._played&&t.play()}}componentWillUnmount(){this._destroyPlayer()}_createPlayer(){if(!this._playerInitialized){var e,{inlineVideo:{link:t}}=this.props,r=(null===(e=t.inlineData)||void 0===e?void 0:e.autoplay)||!1,n=this._getVideoContainerId();"youtube"===t.videoService?function(e,t,r,n){return new Promise((i=>{var o=new Qf(t,new window.YT.Player(t,{videoId:e,playerVars:{showinfo:0,autoplay:0,rel:0},events:{onReady:()=>{r&&o._player.mute(),i(o)},onError:t=>{5===t.data&&o._maxReloadRetries>0?(o._maxReloadRetries--,o._player.loadVideoById(e)):n()},onStateChange:()=>o._onStateChange()}}))}))}(t.videoId,n,r,(()=>this._trackError())).then((e=>this.setState({inlinePlayer:e}))):"vimeo"===t.videoService&&function(e,t,r){return(Kf||(Kf=new Promise((e=>{var t=document.createElement("script");t.src="https://player.vimeo.com/api/player.js",t.addEventListener("load",(()=>e())),document.head.appendChild(t)}))),Kf).then((()=>{if(!window.Vimeo)throw new Error("Attempting to use Vimeo player without SDK");var n=new window.Vimeo.Player(t,{id:e,muted:r,autoplay:!1,autopause:!1,title:!1,portrait:!1,byline:!1,transparent:!1});return n.on("error",(()=>{n.loadVideo(e)})),n.ready().then((()=>Promise.resolve(new Zf(t,n))))}))}(t.videoId,n,r).then((e=>this.setState({inlinePlayer:e}))).catch((()=>this._trackError())),this._playerInitialized=!0}}_getVideoContainerId(){var{inlineVideo:{link:{videoService:e,id:t}}}=this.props;return"videoplayer_"+e+"_"+t}_destroyPlayer(){rt().rIC((()=>{var{inlinePlayer:e}=this.state;!e||this.props.shouldBeLoaded&&!this.state.errorOccurred||(e.fullscreenCallback=void 0,e.playStatusCallback=void 0,e.destroy(),this.setState({inlinePlayer:null}),this._playerInitialized=!1,this._played=!1)}))}_isPlaying(){return!!this.state.inlinePlayer&&this.state.inlinePlayer.isPlaying()}_isFullscreen(){return!!this.state.inlinePlayer&&this.state.inlinePlayer.isFullscreen()}_isReady(){return!!this.state.inlinePlayer&&this.state.inlinePlayer.isReady()}_playerSizeOk(e){var{inlineVideo:{link:t,pageWidth:r,pageHeight:n}}=this.props,i=ia();return tg.some((o=>e.width/i*(t.width/r)>o.width&&e.height/i*(t.height/n)>o.height))}_shouldVideoBeRendered(){var{pageViewportBBox:e}=this.props;return!!e&&(!(!this._isPlaying()&&!this._isFullscreen())||this._playerSizeOk(e)&&!!this.state.inlinePlayer&&!this.state.errorOccurred)}_shouldIconBeRendered(){var{pageViewportBBox:e}=this.props;return!(!e||this._isPlaying()||this._isFullscreen()||this._playerSizeOk(e))}_trackOpportunity(){this._isReady()&&(this._trackingFlag.videoImpressed||(this._trackingFlag.videoImpressed=!0,this.props.featureTracker.opportunity(rc.PUBLICATION_INLINE_VIDEO_LINK),this.props.metrics.monitor("reader3-inpub-video-opportunity",{view:1,service:this.props.inlineVideo.link.videoService})))}_trackUsage(){this._trackingFlag.videoWatched||(this._trackingFlag.videoWatched=!0,this.props.featureTracker.usage(rc.PUBLICATION_INLINE_VIDEO_LINK),this.props.metrics.monitor("reader3-inpub-video-view",{view:1,service:this.props.inlineVideo.link.videoService}))}_trackError(){this._trackingFlag.videoWentWrong||(this._trackingFlag.videoWentWrong=!0,this.props.metrics.monitor("reader3-inpub-video-error",{failure:1,service:this.props.inlineVideo.link.videoService}),this._destroyPlayer(),this.setState({errorOccurred:!0}))}_adjustAlignment(e,t){var{top:r,left:n}=e,i=r+e.height,o=n+e.width;Math.abs(r-t.top)<=4&&(r=t.top),Math.abs(n-t.left)<=4&&(n=t.left),Math.abs(i-(t.top+t.height))<=4&&(i=t.top+t.height),Math.abs(o-(t.left+t.width))<=4&&(o=t.left+t.width),e.top=Math.floor(r),e.left=Math.floor(n),e.height=Math.ceil(i)-e.top,e.width=Math.ceil(o)-e.left}renderPlayer(){var e=this._shouldVideoBeRendered();e&&this._trackOpportunity();var t={display:e?"block":"none"};return(0,z.jsx)("div",{className:"inline-video__player",style:t,children:(0,z.jsx)("div",{id:this._getVideoContainerId()})})}renderArrow(){var e={display:this._shouldIconBeRendered()?"block":"none"};return(0,z.jsx)("div",{className:"inline-video__cta",dangerouslySetInnerHTML:{__html:'<svg width="36" height="36"><path d="M12.34 10.01c.1-.02.2-.01.3.04l13.08 7.56c.02 0 .04.02.06.04a.4.4 0 0 1 .03.7l-13.16 7.6a.39.39 0 0 1-.22.05h-.03a.4.4 0 0 1-.4-.4V10.4c0-.2.15-.36.34-.39Z" stroke-width="2" stroke="#F2F2F2" fill="#F2F2F2" fill-rule="evenodd"/></svg>'},style:e})}renderMessage(){var{pageViewportBBox:e,inlineVideo:{link:{videoService:t,url:r}}}=this.props,n={display:e&&this._playerSizeOk(e)?"block":"none"};return this.props.isExplicit?(0,z.jsx)("div",{className:"inline-video__message",style:n,children:(0,z.jsx)(Lh,{onSubmit:()=>window.open(r,"_blank"),service:t})}):this.state.errorOccurred?(0,z.jsx)("div",{className:"inline-video__message",style:n,children:(0,z.jsx)(Nh,{onSubmit:()=>window.open(r,"_blank"),service:t})}):null}render(){var{inlineVideo:{link:e,pageWidth:t,pageHeight:r}}=this.props,n=this.props.pageViewportBBox||rg,i=ia(),o={top:n.y/i,left:n.x/i,width:n.width/i,height:n.height/i},a=o.width/t,s=o.height/r,u={top:e.y*s+o.top,left:e.x*a+o.left,width:e.width*a,height:e.height*s};return this._adjustAlignment(u,o),(0,z.jsxs)("div",{className:"inline-video__container",style:u,children:[this.renderPlayer(),this.renderArrow(),this.renderMessage()]})}}var ig=Rr((e=>({activeVideoLink:e.inlineVideo.activeVideoLink,inlineYoutubeVideos:fp(e),inlineVimeoVideos:gp(e),youtubeApiReady:e.inlineVideo.youtubeApiReady,vimeoApiReady:e.inlineVideo.vimeoApiReady,featureTracker:e.featureTracker})),null,null,{pure:!1})((function(e){var{activeVideoLink:t,dispatch:r,pageViewportBBoxes:n,hidden:i,inlineYoutubeVideos:o,inlineVimeoVideos:a,youtubeApiReady:s,vimeoApiReady:u,featureTracker:c,metrics:l}=e,h=(0,Ne.useRef)(!1);(0,Ne.useEffect)((()=>{h.current||0===o.length||s||(h.current=!0,new Promise((e=>{var t=document.createElement("script");t.id="yt-api",t.src="https://www.youtube.com/iframe_api";var r=document.getElementsByTagName("script")[0];r.parentNode&&(r.parentNode.insertBefore(t,r),window.onYouTubeIframeAPIReady=e)})).then((()=>r({type:Gf}))))}),[r,o,s]),(0,Ne.useEffect)((()=>{if(t){var{page:{pageNumber:e}}=t;n.hasOwnProperty(e)||r(qf(null))}}),[t,r,n]);var d=(e,n,i)=>{if(i||n)r(qf(e.link));else{var{link:{id:o}}=e;t&&t.id===o&&!n&&r(qf(null))}},p=Object.keys(n).map((e=>parseInt(e,10))),f=[];return s&&f.push(...o),u&&f.push(...a),(0,z.jsx)(z.Fragment,{children:((e,r)=>{var o=Math.min(...r)-2,a=Math.max(...r)+2,s=!1;return e.flatMap((e=>{var{id:u,inlineData:h,page:{pageNumber:p}}=e.link,f=o<=p&&p<=a;if(f){var g=n[p],m=!!h&&h.isExplicit,v=!!t&&t.id!==u,y=!s&&r.includes(p)&&!v&&!!h&&h.autoplay;return y&&(s=!0),[(0,z.jsx)(ng,{featureTracker:c,hidden:i,inlineVideo:e,interactionCallback:d,isExplicit:m,metrics:l,pageViewportBBox:g,shouldAutoplay:y,shouldBeLoaded:f,shouldBePaused:v},""+u)]}return[]}))})(f,p)})}));function og(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ag(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?og(Object(r),!0).forEach((function(t){sg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):og(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ug=Ne.forwardRef((function(e,t){var{getPageComponent:r,visiblePageNumbers:n,currentPageNumbers:i,metrics:o}=e,[a,s]=Ne.useState({}),[u,c]=Ne.useState(!0);return Ne.useImperativeHandle(t,(()=>({updatePagePositions:Wf()((e=>{var t={};i.forEach((e=>{var i=r(e);i&&(n.includes(e)?t[e]=ag({},i.position):t[e]=ag({},i.viewportBBox))})),s((e=>zf()(t,e)?e:t)),c(e)}),50)}))),(0,z.jsx)("div",{className:"dynamic-content__container",style:{display:u?"none":"block"},children:(0,z.jsx)(ig,{hidden:u,metrics:o,pageViewportBBoxes:a})})})),cg=Rr((e=>({getPageComponent:e.canvasApi?e.canvasApi.getPageComponent:()=>null,visiblePageNumbers:e.reader.visiblePageNumbers,currentPageNumbers:Sa(e)})),null,null,{forwardRef:!0,pure:!1})(ug);function lg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lg(Object(r),!0).forEach((function(t){dg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pg(e){for(var t={x:0,y:0},r=0;r<e.length;r++)t.x+=e[r].x,t.y+=e[r].y;return{x:t.x/e.length,y:t.y/e.length}}function fg(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(t(n))return n}}class gg extends Ne.Component{constructor(e){var t;super(e),t=this,dg(this,"_singleTapWasHandled",!1),dg(this,"_lastMoveHitlist",[]),dg(this,"_handlersOfCurrentGesture",[]),dg(this,"_glExtOesStandardDerivatives",null),dg(this,"frameCount",0),dg(this,"canvas",void 0),dg(this,"inputHandler",void 0),dg(this,"previousPosition",null),dg(this,"canvasObjectTree",null),dg(this,"ctx",null),dg(this,"glManager",null),dg(this,"renderManager",null),dg(this,"inPubContentRef",void 0),dg(this,"canvasContainer",void 0),dg(this,"onFallbackTo2D",(()=>{this.inputHandler&&this.inputHandler.reset(),this.props.metrics.monitor("reader3-fallback-to-2d",{fallback:1})})),dg(this,"getCustomCursor",(()=>{for(var e=this._lastMoveHitlist.length-1;e>=0;e--)if(this._lastMoveHitlist[e].getCustomCursor&&this._lastMoveHitlist[e].getCustomCursor())return this._lastMoveHitlist[e].getCustomCursor();return"default"})),dg(this,"createRenderManager",(()=>{var e=this.renderManager;this.renderManager=new Cd({useWebGL:this.props.usePageFlip,ctx:hf(this.ctx)?this.ctx:null,hintMaxWidth:this.props.width,hintMaxHeight:this.props.height,pageModels:this.props.documentPages,loadStatsTracker:this.props.loadStatsTracker,renderManager:e})})),dg(this,"createContextAndInitializeCanvas",(()=>{var e,t,r=document.createElement("canvas");if(r.className="document-canvas",r.style.width=r.style.height="100%",r.width=this.props.width,r.height=this.props.height,this.glManager&&(this.glManager.destroy(),this.glManager=null),this.canvas?(this._glExtOesStandardDerivatives=null,this.canvas.removeEventListener("webglcontextlost",this.handleContextLost,!1),this.canvas.removeEventListener("webglcontextrestored",this.handleContextRestored,!1),null===(e=this.canvasContainer.current)||void 0===e||e.replaceChild(r,this.canvas)):null===(t=this.canvasContainer.current)||void 0===t||t.appendChild(r),this.canvas=r,this.props.usePageFlip){var n=df(this.canvas);this.ctx=n,n?(this._glExtOesStandardDerivatives=n.getExtension("OES_standard_derivatives"),n.viewport(0,0,n.drawingBufferWidth,n.drawingBufferHeight),this.glManager=new lp(n),this.canvas.addEventListener("webglcontextlost",this.handleContextLost,!1),this.canvas.addEventListener("webglcontextrestored",this.handleContextRestored,!1)):this.handleWebGLError()}else this.ctx=this.canvas.getContext("2d")})),dg(this,"findComponentsAtPoint",(function(e,r,n){void 0===n&&(n=!0);var i=[];return t.canvasObjectTree&&od.traverse(t.canvasObjectTree,((t,o)=>!(n&&!t.isVisible||!function(e,t,r){return e>=r.x&&e<r.x+r.width&&t>=r.y&&t<r.y+r.height}(e,r,o)||(i.push(t),0)))),i})),dg(this,"bubbleEvent",(function(e,r,n){for(var i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];var s={handled:!1,possibleHandlers:[]};for(var u of t.findComponentsAtPoint(r,n)){var c=e(u);c&&s.possibleHandlers.push(u)}return fg(s.possibleHandlers,(t=>{var i=e(t);return!(!i||!i.call(t,r,n,...o)||(s.handled=!0,0))})),s})),dg(this,"updateMouseHitlist",((e,t,r)=>{var n=this.findComponentsAtPoint(e,t,!1),i=n[n.length-1],o=this._lastMoveHitlist[this._lastMoveHitlist.length-1];i!==o&&(o&&o.onMouseLeave&&o.onMouseLeave(r),i&&i.onMouseEnter&&i.onMouseEnter(r)),this._lastMoveHitlist=n,fg(n,(n=>!!n.onMouseMove&&(n.onMouseMove(e,t,r),!0)))})),dg(this,"releaseMouseHitlist",(e=>{var t=this._lastMoveHitlist[this._lastMoveHitlist.length-1];t&&t.onMouseLeave&&t.onMouseLeave(e),this._lastMoveHitlist=[]})),dg(this,"fallbackTo2DIfViewportExceedGPULimit",(()=>{if(this.ctx&&hf(this.ctx)){var e=this.props.width-this.ctx.drawingBufferWidth>1,t=this.props.height-this.ctx.drawingBufferHeight>1;(e||t)&&(e&&this.props.dispatch((n=this.ctx.drawingBufferWidth,{type:Sp,width:n})),t&&this.props.dispatch((r=this.ctx.drawingBufferHeight,{type:Pp,height:r})),this.onFallbackTo2D())}var r,n})),dg(this,"handleWebGLError",(e=>{e&&Vt(e,{extra:{"fallback-to-2d":!0}}),this.onFallbackTo2D(),this.props.dispatch({type:Ep})})),dg(this,"buildCanvasObjectTree",(e=>{if(this.props.visible&&this.props.height&&this.props.width&&!(!this.ctx||hf(this.ctx)&&this.ctx.isContextLost())){try{this.canvasObjectTree&&!e||this.createRenderManager(),this.canvasObjectTree=od.buildTree(od.createElement(Bf,{ctx:this.ctx,height:this.props.height,loadStatsTracker:this.props.loadStatsTracker,trackOnceMixpanel:this.props.trackOnceMixpanel,readMode:this.props.readMode,renderManager:this.renderManager,store:this.props.store,usePageFlip:this.props.usePageFlip,width:this.props.width,metrics:this.props.metrics}),this.canvasObjectTree,this)}catch(e){if(!(hf(this.ctx)&&e instanceof Error))throw e;this.handleWebGLError(e)}this.canvasObjectTree&&this.previousPosition&&(this.canvasObjectTree.setPosition(this.previousPosition),this.previousPosition=null)}})),dg(this,"drawCanvasObjectTree",(()=>{var e=this.canvasObjectTree,t=this.glManager;if(this.ctx&&this.props.visible&&e&&(!hf(this.ctx)||!this.ctx.isContextLost())){try{var r={x:0,y:0,width:this.props.width,height:this.props.height};hf(this.ctx)?t&&od.drawWebgl(e,t,r):od.draw2d(e,this.ctx,r)}catch(e){if(!(hf(this.ctx)&&e instanceof Error))throw e;this.handleWebGLError(e)}var n=this.getCustomCursor();"string"==typeof n&&this.canvasContainer.current&&this.canvasContainer.current.style.cursor!==n&&(this.canvasContainer.current.style.cursor=n),this.frameCount+=1}})),dg(this,"handleContextLost",(e=>{e.preventDefault(),this.props.metrics.monitor("reader3-webgl-context-lost"),this.props.dispatch({type:Tp})})),dg(this,"handleContextRestored",(()=>{this.props.metrics.monitor("reader3-webgl-context-restored"),this.buildCanvasObjectTree(),this.canvasObjectTree&&this.canvasObjectTree.requestRedraw()})),this.inPubContentRef=Ne.createRef(),this.canvasContainer=Ne.createRef()}componentDidMount(){this._singleTapWasHandled=!1,this._lastMoveHitlist=[],this._handlersOfCurrentGesture=[],this.frameCount=0,this.createContextAndInitializeCanvas(),this.fallbackTo2DIfViewportExceedGPULimit(),this.buildCanvasObjectTree(),this.canvasObjectTree?this.canvasObjectTree.requestRedraw():this.props.dispatch(bp()),window.ISSUU_READER_DOCUMENTCANVAS=this;var e=this.canvasContainer.current;this.inputHandler=new el(e,{getScalingFactor:()=>ia(),catchWheelEvent:()=>this.props.fullscreenEnabled,onSingleTap:(e,t)=>{var r;this._singleTapWasHandled=this.bubbleEvent((e=>e.onSingleTap),e,t).handled,null===(r=this.inputHandler)||void 0===r||r.requestToIntercept()},onSingleTapConfirmed:(e,t)=>{this.bubbleEvent((e=>e.onSingleTapConfirmed),e,t,this._singleTapWasHandled),this._singleTapWasHandled=!1,this.props.dispatch((e=>{e(Zs())}))},onDoubleTap:(e,t)=>{this.bubbleEvent((e=>e.onDoubleTap),e,t),this.props.dispatch((e=>{e(Zs())}))},onGestureStart:(e,t)=>{this.props.usePageFlip||this.props.dispatch(kp());var{x:r,y:n}=pg(e);this.bubbleEvent((e=>e.onGestureStart),r,n,e,t).possibleHandlers.forEach((e=>{this._handlersOfCurrentGesture.push(e)})),this.props.dispatch(nu())},onGestureChange:(e,t,r,n)=>{this.releaseMouseHitlist(t);var{x:i,y:o}=pg(e);fg(this._handlersOfCurrentGesture,(a=>{var s;return!(!a.onGestureChange||!a.onGestureChange(i,o,e,t,r,n)||(null===(s=this.inputHandler)||void 0===s||s.requestToIntercept(),0))})),this.props.dispatch(((e,t)=>{var r=t().reader.zoomLevel;e(1!==ru&&1!==r?Js():Zs(!1))}))},onGestureEnd:e=>{fg(this._handlersOfCurrentGesture,(t=>(t.onGestureEnd&&t.onGestureEnd(e),!1))),this._handlersOfCurrentGesture.length=0,this.props.dispatch(iu())},onMouseEnter:()=>{this.props.usePageFlip||this.props.dispatch(kp())},onMouseMove:(e,t,r)=>{this.updateMouseHitlist(e,t,r)},onMouseLeave:e=>{this.releaseMouseHitlist(e)}});var t=e=>{this.canvas&&(od.lastTick=e,this.canvasObjectTree&&this.canvasObjectTree.hasPendingRedraw&&this.drawCanvasObjectTree(),this.updateInPubContent(),requestAnimationFrame(t))};requestAnimationFrame(t)}UNSAFE_componentWillReceiveProps(e){var t=this.props;this.props=e;var r=t.readMode!==this.props.readMode||t.usePageFlip!==this.props.usePageFlip||t.visible!==this.props.visible||t.linksLoaded!==this.props.linksLoaded;if(this.canvasObjectTree&&r){var n=this.canvasObjectTree;this.previousPosition=n.getPosition(),od.unmountTree(n),this.canvasObjectTree=null}t.usePageFlip!==this.props.usePageFlip&&this.createContextAndInitializeCanvas();var i,o,a=t.width!==this.props.width||t.height!==this.props.height;a&&this.canvas&&(this.canvas.width=this.props.width,this.canvas.height=this.props.height,this.fallbackTo2DIfViewportExceedGPULimit()),this.props.usePageFlip&&(a&&this.ctx&&hf(this.ctx)&&this.ctx.viewport(0,0,this.ctx.drawingBufferWidth,this.ctx.drawingBufferHeight),/(iPad|iPhone|iPod).*(AppleWebKit\/).*(Version\/9\.).*(Mobile\/).*(Safari\/)/i.test(navigator.userAgent)&&this.canvas&&(t.visible&&!this.props.visible&&(this.canvas.style.display=""),!t.visible&&this.props.visible&&(this.canvas.style.display="none",setTimeout((()=>{this.canvas&&(this.canvas.style.display="")}),250)))),this.buildCanvasObjectTree(a),this.canvasObjectTree&&this.canvasObjectTree.requestRedraw(),1===this.props.zoomLevel?null===(i=this.inputHandler)||void 0===i||i.enableBrowserHandlingOfVerticalPanningGestures():null===(o=this.inputHandler)||void 0===o||o.disableBrowserHandlingOfAllPanningGestures()}shouldComponentUpdate(){return!1}componentWillUnmount(){var e,t;this.inputHandler&&this.inputHandler.destroy(),this.renderManager&&this.renderManager.release(),this.glManager&&(this.glManager.destroy(),this.glManager=null),this.ctx=null,this._glExtOesStandardDerivatives=null,null===(e=this.canvas)||void 0===e||e.removeEventListener("webglcontextlost",this.handleContextLost,!1),null===(t=this.canvas)||void 0===t||t.removeEventListener("webglcontextrestored",this.handleContextRestored,!1)}updateInPubContent(){var e=this.inPubContentRef.current,t=!!this.canvasObjectTree&&this.canvasObjectTree.inAnimation;null==e||e.updatePagePositions(t)}render(){return(0,z.jsxs)("div",{children:[(0,z.jsx)("div",{ref:this.canvasContainer,style:{width:"100%",height:"100%",position:"absolute"}}),(0,z.jsx)(cg,{metrics:this.props.metrics,ref:this.inPubContentRef})]})}}dg(gg,"displayName","Canvas");var mg=Rr((e=>({height:e.size.height,width:e.size.width,readMode:Pa(e),visible:!e.visibility.supported||!e.visibility.isHidden,usePageFlip:Ip(e),fullscreenEnabled:ba(e),documentPages:xo(e),dropdownOpen:qa(e),linksLoaded:pp(e),zoomLevel:e.reader.zoomLevel,isIdle:e.reader.isIdle})),null,null,{pure:!1})((e=>(0,z.jsx)(qt.Consumer,{children:t=>(0,z.jsx)(gg,hg(hg({},e),{},{store:t.store}))}))),vg="HIDDEN",yg="ENGAGED",bg=du((function(e,t){var{dispatch:r,getState:n,featureTracker:i,getCanvasApi:o}=t,a=n();eo(a)?r(mu({isBlur:!1})):(r(Qi()).then((()=>{var e=n(),t=to(e);return r(co(t))})),o().zoomCurrentView(1,!0)),i.usage("BUTTON_OPEN_FIND"),r(ul("reader3_interaction_open_find"))})),_g=Fe().div(["",""],(e=>{var{disabled:t}=e;return El({horizontalShift:t?-40:0})})),wg=(0,Ne.memo)((function(){var e=Lr(),t=Br(uo);(0,Ne.useEffect)((()=>{e(sl("BUTTON_OPEN_FIND"))}),[e]);var r=t?"Find":"Find is not available";return(0,z.jsx)(_g,{"data-tooltip":r,disabled:!t,children:(0,z.jsx)(al,{"aria-label":r,content:'<svg viewBox="-9 -9 34 34"><path d="M6.29 12.58A6.29 6.29 0 1 0 6.29 0a6.29 6.29 0 0 0 0 12.58zm0-1.68a4.61 4.61 0 1 0 0-9.22 4.61 4.61 0 0 0 0 9.22zm4.67 1.83a1.26 1.26 0 0 1 1.78-1.78l2.89 2.9a1.26 1.26 0 1 1-1.78 1.78l-2.9-2.9zm-3.19-3.5L7.35 7.8H5.16l-.44 1.43H3.36l2.1-6.02h1.56l2.12 6.02H7.77zm-.73-2.5a336.68 336.68 0 0 1-.8-2.59c-.08.35-.34 1.22-.76 2.6h1.56z" fill="currentColor" fill-rule="evenodd"/></svg>',disabled:!t,onClick:()=>{e(bg())},type:"button"})})})),xg='<svg viewBox="0 0 36 36"><path d="M22.3 15.71c.17.18.42.29.7.29h4a1 1 0 0 0 0-2h-3v-3a1 1 0 0 0-2 0v4c0 .28.11.52.29.7Zm-8.6 0a.98.98 0 0 1-.7.29H9a1 1 0 0 1 0-2h3v-3a1 1 0 0 1 2 0v4c0 .28-.11.52-.29.7Zm8.59 4.59a.98.98 0 0 0-.29.7v4a1 1 0 0 0 2 0v-3h3a1 1 0 0 0 0-2h-4a.98.98 0 0 0-.7.29Zm-8.58 0c.18.17.29.42.29.7v4a1 1 0 0 1-2 0v-3H9a1 1 0 0 1 0-2h4c.28 0 .52.11.7.29Z" fill="currentColor"/></svg>',Eg='<svg viewBox="0 0 36 36"><path d="M27.7 10.29A.98.98 0 0 0 27 10h-4a1 1 0 0 0 0 2h3v3a1 1 0 0 0 2 0v-4a.98.98 0 0 0-.29-.7Zm-19.4 0A.98.98 0 0 1 9 10h4a1 1 0 0 1 0 2h-3v3a1 1 0 0 1-2 0v-4c0-.28.11-.52.29-.7ZM27.71 25.7A.98.98 0 0 0 28 25v-4a1 1 0 0 0-2 0v3h-3a1 1 0 0 0 0 2h4c.28 0 .52-.11.7-.29Zm-19.42 0A.98.98 0 0 1 8 25v-4a1 1 0 0 1 2 0v3h3a1 1 0 0 1 0 2H9a.98.98 0 0 1-.7-.29Z" fill="currentColor"/></svg>',Og=Fe().div(["",""],(e=>{var{fullscreenEnabled:t}=e;return El({horizontalShift:t?0:-15})})),Tg=(0,Ne.memo)((function(e){var{fullscreenEnabled:t}=e,r=Lr(),n=t?xg:Eg,i=t?"Exit":"Fullscreen";return(0,Ne.useEffect)((()=>{r(sl(rc.BUTTON_FULLSCREEN))}),[r]),(0,z.jsx)(Og,{"data-tooltip":i,fullscreenEnabled:t,children:(0,z.jsx)(al,{"aria-label":i,content:n,id:"ird3-button-fullscreen",onClick:()=>{r(Hu()),r(Pl(rc.BUTTON_FULLSCREEN)),t||r(ul("reader3_interaction_fullscreen")),r(eu())}})})})),Sg=Fe().div([""," margin:0 5px;"],El({})),Pg=Fe()(ol)(["height:14px;padding:11px 0;width:60px;"]),kg=(0,Ne.memo)((function(){var e=Lr(),t=Br(da),r=Br(Ha),n="https:"+Br(Kl)+"/explore"+st(r||""),i=t&&t.openInNewTab?"_blank":"_top";return(0,Ne.useEffect)((()=>{e(sl(rc.BUTTON_LOGO))}),[e]),(0,z.jsx)(Sg,{"data-testid":"read-on-issuu","data-tooltip":"Read more on Issuu",children:(0,z.jsx)(Pg,{"aria-label":"Read more Publications on Issuu",content:ut,href:n,onClick:t=>{t.preventDefault(),e(eu()),e(Pl(rc.BUTTON_LOGO)),e(ul("reader3_interaction_read_on_issuu")),window.open(n,i)},target:i})})})),Ag=Fe().div(["",""],El({horizontalShift:-15})),Ig=Fe().div(["left:-2px;position:relative;"]),Rg=(0,Ne.memo)((function(e){var{largeViewEngaged:t}=e,r=Lr();(0,Ne.useEffect)((()=>{var e=t?rc.BUTTON_DISENGAGE_LARGEVIEW:rc.BUTTON_ENGAGE_LARGEVIEW;r(sl(e))}),[r,t]);var n=t?'<svg viewBox="0 0 36 36"><path d="M12 15v6h12v-6H12zm-1-2h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H11a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1z" fill="currentColor"/></svg>':'<svg viewBox="0 0 36 36"><path d="M10 13v10h16V13H10zm-1-2h18a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V12a1 1 0 0 1 1-1z" fill="currentColor"/></svg>',i=t?"Standard View":"Larger View";return(0,z.jsx)(Ig,{children:(0,z.jsx)(Ag,{"data-tooltip":i,children:(0,z.jsx)(al,{"aria-label":i,content:n,id:"ird3-button-large-view",onClick:()=>{var e=t?rc.BUTTON_DISENGAGE_LARGEVIEW:rc.BUTTON_ENGAGE_LARGEVIEW;r(Pl(e)),r(ul(t?"reader3_interaction_standard_view":"reader3_interaction_large_view")),r({type:"LARGE_VIEW_BUTTON_CLICKED"})}})})})}));function jg(e,t){return{proportion:e,available:t}}var Cg=bi(Ia,Ra,((e,t)=>e/t*100)),Dg=bi(Ra,Si,To,Oo,Pa,((e,t,r,n,i)=>{for(var o=e+1,a=[jg(2,!0)],s=n?r.map((e=>ji(i,e))):[],u=1;u<o;u++){var c=a[a.length-1],l=!s.includes(u),h=2;"DOUBLE_PAGE_SPREAD"===i&&u<e&&(h=4),l===c.available?c.proportion+=h:a.push(jg(h,l))}return a})),Ng=e=>{var t=(0,Ne.useRef)(null),r=(0,Ne.useCallback)((()=>{var r=t.current;if(r){var n=r.getContext("2d");if(n){var i=r.width=r.clientWidth;n.clearRect(0,0,i,1),n.fillStyle="yellow",e.markers.forEach((e=>{n.fillRect(Math.round(e*(i-3)),0,3,1)}))}}}),[e.markers]),n=(0,Ne.useCallback)((()=>{requestAnimationFrame(r)}),[r]);return(0,Ne.useEffect)(n),(0,Ne.useEffect)((()=>(window.addEventListener("resize",n),requestAnimationFrame(r),()=>window.removeEventListener("resize",n))),[r,n]),(0,z.jsx)("canvas",{className:"slider-markers",height:1,ref:t})},Lg=e=>{var{segment:t,done:r}=e,n=["slider__track"];t.available||n.push("slider__track--unavailable"),r&&n.push("slider__track--done");var i={flex:t.proportion};return(0,z.jsx)("div",{className:n.join(" "),style:i})};function Mg(e,t){return Math.min(Math.max(e/t*100,0),100)}var Fg=e=>{var{onChange:t,onChangeEnd:r,onChangeStart:n,onMouseMove:i,locked:o,markers:a,progress:s,segments:u,type:c,value:l,tooltip:h}=e,[d,p]=(0,Ne.useState)(!1),[f,g]=(0,Ne.useState)(!1),m=(0,Ne.useRef)(0),v=(0,Ne.useRef)(null),y=Br(go),b=Br(wa),[_,w]=(0,Ne.useState)(0),x=(0,Ne.useRef)(_),E=(0,Ne.useRef)();(0,Ne.useEffect)((()=>{var e,t;m.current===(null===(e=v.current)||void 0===e?void 0:e.clientWidth)||b||(m.current=(null===(t=v.current)||void 0===t?void 0:t.clientWidth)||0)}));var O=(0,Ne.useCallback)((e=>{g(!0),n();var r=Mg(e[0].x,m.current);w(r),x.current=r,t(r)}),[t,n]),T=(0,Ne.useCallback)((e=>{var r;null===(r=E.current)||void 0===r||r.requestToIntercept();var n=Mg(e[0].x,m.current);x.current=n,t(n,e[0].x)}),[t]),S=(0,Ne.useCallback)((()=>{g(!1),r(x.current)}),[r,g]),P=(0,Ne.useCallback)((()=>p(!0)),[]),k=(0,Ne.useCallback)((()=>p(!1)),[]),A=(0,Ne.useCallback)((e=>{var t=Mg(e,m.current);null==i||i(t,e)}),[i]);(0,Ne.useEffect)((()=>{var e=v.current;return e&&y.timestamp&&(m.current=e.clientWidth,E.current=new el(e,{onGestureStart:o?void 0:O,onGestureChange:o?void 0:T,onGestureEnd:o?void 0:S,onMouseEnter:P,onMouseMove:A,onMouseLeave:k})),()=>{var e;null===(e=E.current)||void 0===e||e.destroy()}}),[y.timestamp,o]);var I=xc()({slider:!0},{"slider--hover":d},{"slider--alternate":"SLIDER_TYPE_ALTERNATE"===c},{"slider--locked":o}),R=f?x.current:s,j={position:"absolute",clipPath:"polygon(0% 0%, "+R+"% 0%, "+R+"% 100%, 0% 100%)"};return(0,z.jsxs)("div",{className:I,ref:v,children:[(0,z.jsxs)("div",{className:"slider__track-container-container",children:[(0,z.jsx)("div",{className:"slider__track-container slider__track-done",style:j,children:u.map(((e,t)=>(0,z.jsx)(Lg,{done:!0,segment:e},t)))}),(0,z.jsxs)("div",{className:"slider__track-container",children:[u.map(((e,t)=>(0,z.jsx)(Lg,{done:!1,segment:e},t))),a&&!!a.length&&(0,z.jsx)(Ng,{markers:a,value:l})]}),(0,z.jsx)("div",{className:"slider__thumb",style:{left:R+"%"}}),h&&(d||f)&&h]}),(0,z.jsx)("span",{style:{position:"absolute",visibility:"hidden"},children:l})]})},Bg=du((function(e,t){var{dispatch:r}=t;r({type:ns,val:e}),r(tu())})),Ug=Hh()?66:33,zg=Fe().div.attrs((e=>{var{styles:t}=e;return{style:t}}))(["background-color:",";border-radius:",";bottom:","px;display:flex;flex-direction:column;overflow:auto;pointer-events:none;position:absolute;z-index:",";"],Oe,Re,Ug,2),Hg=Fe().div(["align-items:center;color:",";display:flex;font-size:",";justify-content:center;line-height:1.4;margin:0 auto;min-height:","px;padding:0 4px;"],Te,je,20),Wg=(0,Ne.forwardRef)(((e,t)=>{var{tooltip:r,children:n,styles:i}=e;return(0,z.jsxs)(zg,{styles:i,children:[n,(0,z.jsx)(Hg,{ref:t,children:r})]})}));function Gg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gg(Object(r),!0).forEach((function(t){qg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Wg.displayName="SliderTooltip";var Yg=100,$g=Fe().div(["align-items:center;color:",";display:flex;font-size:0.6em;height:","px;justify-content:center;text-align:center;width:100%;"],Ae,Yg),Xg=Fe().div(["display:flex;flex:1 1 50%;justify-content:",";"],(e=>{var{align:t}=e;return t})),Kg=e=>({large:e.map((()=>!1)),small:e.map((()=>!1))}),Zg=Hh()?1.8:2.4,Jg=e=>{var t,r,{mousePosition:n,pageSpread:i,pageNumbersWidth:o}=e,a=Br(bo),s=Br((e=>e.size.height/ia())),[u,c]=(0,Ne.useState)(1),[l,h]=(0,Ne.useState)(),[d,p]=(0,Ne.useState)(.7),[f,g]=(0,Ne.useState)(!1),[m,v]=(0,Ne.useState)(Kg(i)),y=(0,Ne.useRef)(),b=(0,Ne.useRef)(null),_=null!==(t=null===(r=b.current)||void 0===r?void 0:r.clientHeight)&&void 0!==t?t:20,w=u>1?"large":"small",x=m.small.every((e=>e)),E=m.large.every((e=>e)),O=(0,Ne.useCallback)((()=>{y.current&&clearTimeout(y.current),Yg*Zg+_+2*Ug<s&&(y.current=setTimeout((()=>{c(Zg)}),900))}),[_,s]),T=(0,Ne.useCallback)((e=>{return a[e-1]?(t=a[e-1],void 0===(r=w)&&(r="small"),pd(Ue+t.imageUri.replace(".jpg","_thumb_"+r+".jpg"))):null;var t,r}),[a,w]);(0,Ne.useEffect)((()=>(x&&O(),()=>{clearTimeout(y.current)})),[x,O]),(0,Ne.useEffect)((()=>{c(1),p(.7),g(!1),v(Kg(i)),h(i);var e=setTimeout((()=>p(1)),100);return()=>{clearTimeout(e)}}),[i]);var S=(0,Ne.useCallback)((e=>{var t=e>=0?e:0,r=20-o,n=77*i.length*Zg/2;return t-n<r?t-n-r:0}),[i.length,o]);(0,Ne.useEffect)((()=>{l&&(1===l.length?[0,1]:l).map((e=>T(e+2))).forEach((e=>{e&&(e=>{(new Image).src=e})(e)}))}),[l,T]);var P=(0,Ne.useMemo)((()=>{if(l){var e=!1,t=l.map(((t,r)=>{var n=T(t);return n?(e=!0,(0,z.jsx)(Xg,{align:1===l.length?"center":1===r?"left":"right",children:(0,z.jsx)("img",{"image-alt":"Page "+t+" thumbnail",onError:()=>g(!0),onLoad:()=>{((e,t)=>{v((r=>{var n=[...r[t]];return n[e]=!0,Vg(Vg({},r),{},{[t]:n})}))})(r,w)},src:n,style:{width:"auto",maxWidth:"100%",opacity:d,height:"auto",maxHeight:Yg*u,transition:"all 200ms ease-in"}})},t)):null}));return e?(0,z.jsx)(z.Fragment,{children:t}):void 0}}),[T,d,l,u,w]),k=E?u:1,A=P?77*i.length*k:o,I=_+(P?Yg:0),R=S(n.x),j="calc("+n.slider+"% - "+(A/2+(k>1?R:0))+"px)";return(0,z.jsx)(Wg,{ref:b,styles:{width:A,marginLeft:j,minHeight:I,transition:k>1?"all 200ms ease-in":"initial"},tooltip:i.join(" - "),children:(0,z.jsx)(rm,{loadError:f,loaded:x,children:P})})},Qg=Fe().div(["flex:1;opacity:0.35;width:100%;"]),em=Fe().div(["align-items:center;display:flex;flex:1;overflow:hidden;"]),tm=Fe().div(["display:none;"]),rm=e=>{var{loaded:t,children:r,loadError:n}=e;return(0,z.jsx)(em,{children:n?(0,z.jsx)($g,{children:"Preview unavailable"}):t&&r?r:!t&&r?(0,z.jsxs)(Qg,{children:[(0,z.jsx)(Tc,{}),(0,z.jsx)(tm,{children:r})]}):null})},nm=Fe().div(["align-items:center;display:flex;z-index:",";"],0),im=Fe().div(["flex:1 1 auto;margin-right:3px;width:auto;"]),om=Fe().strong(["color:",";flex:0 0 auto;font-size:",";font-weight:700;letter-spacing:0.3px;margin-right:12px;min-width:","ch;text-align:right;text-shadow:0 0 2px rgba(0,0,0,1);"],Ae,"0.75rem",(e=>{var{noOfPages:t,inSpread:r}=e;return t.toString().length*(r?3:2)+3})),am=(0,Ne.memo)((function(){var e=Br(Sa).join("-"),t=Br(Pi),r=Br(go),n=Br(Ta),i=Br(Pa),o=Br(Cg),a=Br(Dg),s=Br(fo),u=Lr(),c=Ne.useRef(n);c.current=n;var l=(0,Ne.useCallback)((()=>"DOUBLE_PAGE_SPREAD"===i?1+Math.ceil((t-1)/2):t),[i,t]),h=Br(Pi||1),d=(0,Ne.useRef)(null),[p,f]=(0,Ne.useState)([0]),[g,m]=(0,Ne.useState)({slider:0,x:0}),v=(0,Ne.useCallback)((e=>{if("DOUBLE_PAGE_SPREAD"===i){var r=Math.round(e/100*(l()-1)),n=0===r?1:2*r;return 1===n||n===t&&t%2==0?[n]:[n,n+1]}return[1+Math.round(e/100*(l()-1))]}),[l,t,i]),y=(0,Ne.useCallback)(((e,t)=>{var r=v(e);m((r=>({slider:e,x:t||r.x}))),f((e=>e[0]!==r[0]?r:e))}),[v]);(0,Ne.useEffect)((()=>{y(n)}),[n,y]);var b=(0,Ne.useMemo)((()=>{var e,t;return(0,z.jsx)(Jg,{mousePosition:g,pageNumbersWidth:null!==(e=null===(t=d.current)||void 0===t?void 0:t.clientWidth)&&void 0!==e?e:0,pageSpread:p})}),[p,g]);return(0,z.jsxs)(nm,{"data-testid":"page-controls",children:[(0,z.jsxs)(om,{"data-testid":"page-numbers",inSpread:"DOUBLE_PAGE_SPREAD"===i,noOfPages:h,ref:d,children:[e," / ",t]}),(0,z.jsx)(im,{"data-testid":"page-controls-slider",children:(0,z.jsx)(Fg,{locked:1===t,markers:s,onChange:(e,t)=>{y(e,t),u(tu())},onChangeEnd:e=>{null==r||r.setSnapping(!0),null==r||r.jumpToPositionByPercent(e),e!==c.current&&(u(Pl(rc.SLIDER_PAGES)),u(ul("reader3_interaction_slider_page_jump"))),u(Bg(!1))},onChangeStart:()=>{null==r||r.setSnapping(!1),u(Bg(!0))},onMouseMove:y,progress:o,segments:a,tooltip:b,value:n})})]})})),sm=Fe()(al)(["",";"],El({})),um=[jg(1,!0)],cm=(0,Ne.memo)((function(){var e=Br(xa),t=Br(Ea),r=Br(go),n=Lr(),i=(0,Ne.useRef)(e),o=(0,Ne.useRef)(null),a=e=>{n(tu()),null==r||r.zoomCurrentView(e,!0),i.current=e},s=25*(e-1);return(0,Ne.useEffect)((()=>{(()=>{if(!o.current)return!1;var e=window.getComputedStyle(o.current.parentNode);return e&&"none"!==e.display})()&&(n(sl(rc.BUTTON_ZOOMIN)),n(sl(rc.BUTTON_ZOOMOUT)),n(sl(rc.SLIDER_ZOOM)))}),[n]),(0,z.jsxs)("div",{className:"zoom-controls",ref:o,children:[(0,z.jsx)("div",{className:"zoom-controls__button",children:(0,z.jsx)(sm,{"aria-label":"Zoom out",content:'<svg width="36" height="36"><rect transform="rotate(90 18 18)" x="17" y="10" width="2" height="16" rx="2" fill="currentColor"/></svg>',"data-tooltip":"Zoom out",id:"ird3-button-zoomout",onClick:()=>{a(e-1),n(ul("reader3_interaction_zoom_out")),n(Pl(rc.BUTTON_ZOOMOUT)),n(eu())}})}),(0,z.jsx)("div",{className:"zoom-controls__slider",children:(0,z.jsx)(Fg,{onChange:e=>{var t=i.current,r=e/100*4+1;a(r),t!==r&&(n(ul("reader3_interaction_zoom_slider")),n(Pl(rc.SLIDER_ZOOM)))},onChangeEnd:()=>{n(Bg(!0))},onChangeStart:()=>{n(Bg(!0))},progress:t,segments:um,type:"SLIDER_TYPE_ALTERNATE",value:s})}),(0,z.jsx)("div",{className:"zoom-controls__button",children:(0,z.jsx)(sm,{"aria-label":"Zoom in",content:'<svg viewBox="0 0 36 36"><rect x="17" y="10" width="2" height="16" rx="2" fill="currentColor"/><rect transform="rotate(-90 18 18)" x="17" y="10" width="2" height="16" rx="2" fill="currentColor"/></svg>',"data-tooltip":"Zoom in",id:"ird3-button-zoomin",onClick:()=>{e>=5||(a(e+1),n(ul("reader3_interaction_zoom_in")),n(Pl(rc.BUTTON_ZOOMIN)),n(eu()))}})})]})})),lm=e=>{var{visible:t}=e,r=Br(Fa),n=Br(ba),i=Br(_a),o=Br(ma),a=Br(ha),s=Br(ua),u=Br(Oa),c=Ne.useRef(null),l=Ne.useRef(t),h=Lr();l.current=t,Ne.useEffect((()=>{h(sl(rc.SLIDER_PAGES));var e=c.current;if(e){var t=new el(e,{onMouseEnter:()=>{l.current&&h(ss(!0))},onMouseLeave:()=>{h(ss(!1))}});return()=>{t.destroy()}}}),[h]);var d=!1;if(o&&!s)switch(o.showButtons){case"ALWAYS":d=!0;break;case"HIDE_WHEN_NOT_SUPPORTED":d=i}var p=xc()("controls",{"controls--hidden":!t});return(0,z.jsxs)("div",{className:p,ref:c,children:[(0,z.jsx)("div",{className:"controls__background"}),(0,z.jsx)("div",{className:"controls__part controls__part--page-controls",children:(0,z.jsx)(am,{})}),a&&(0,z.jsx)("div",{className:"controls__part controls__part--zoom-controls",children:(0,z.jsx)(cm,{})}),r&&(0,z.jsx)("div",{className:"controls__part",children:(0,z.jsx)(kg,{})}),(0,z.jsx)("div",{className:"controls__part",children:(0,z.jsx)(wg,{})}),u!==vg&&!n&&(0,z.jsx)("div",{className:"controls__part",children:(0,z.jsx)(Rg,{largeViewEngaged:u===yg})}),d&&(0,z.jsx)("div",{className:"controls__part",children:(0,z.jsx)(Tg,{fullscreenEnabled:n})})]})},hm=Fe().div([""," left:50%;opacity:",";pointer-events:",";position:absolute;top:50%;transform:translate(-50%,-50%);z-index:",";"],El({}),(e=>{var{visible:t}=e;return t?"":0}),(e=>{var{visible:t}=e;return t?"auto":"none"}),1),dm=Fe()(ol)(["background:","b2;border:0;border-radius:100%;box-shadow:0 0 0 1px ","b2,0 0 20px ","cc;cursor:pointer;height:50px;padding:7px;transition:background 0.2s ease-out 0s,opacity 0.2s ease-out 0s;width:50px;&:hover{background:",";}"],ke,"#b0b2b7",ke,ke),pm=e=>{var{visible:t}=e,r=(0,Ne.useRef)(null),n=(0,Ne.useRef)(t),i=Lr(),o=Br(ba),a=o?xg:Eg,s=o?"Exit":"Fullscreen";return n.current=t,(0,Ne.useEffect)((()=>{var e=r.current;if(e){var t=new el(e,{onMouseEnter:()=>{n.current&&i(ss(!0))},onMouseLeave:()=>{i(ss(!1))}});return()=>{t.destroy()}}}),[i]),(0,Ne.useEffect)((()=>{t&&i(sl(rc.BUTTON_CTA_OVERLAY))}),[i,t]),(0,z.jsx)(hm,{"data-tooltip":s,ref:r,visible:t,children:(0,z.jsx)(dm,{content:a,id:"ird3-button-fullscreen",onClick:()=>{i(Pl(rc.BUTTON_CTA_OVERLAY)),i(eu()),i(ul("reader3_interaction_fullscreen_from_embed")),i(Hu())}})})},fm="SMARTZOOM_TUTORIAL_SEEN",gm=(0,Me.keyframes)(["from{opacity:0;transform:translateY(-115px);}to{opacity:1;transform:translateY(-100px);}"]),mm=(0,Me.keyframes)(["from{opacity:1;transform:translateY(-100px);}to{opacity:0;transform:translateY(-85px);}"]),vm=(0,Me.css)(["animation:"," 0.25s ease-out forwards;display:block;"],gm),ym=(0,Me.css)(["animation:"," 0.2s ease-in forwards;display:block;"],mm),bm=Fe().div(["background-color:",";border-radius:",";color:",";display:none;font-size:",";left:calc(50% - 50px - ",");line-height:1.4;padding:"," ",";pointer-events:none;position:absolute;text-align:center;top:50%;width:100px;",""],Oe,Re,Te,je,De,Ce,De,(e=>{var{uiState:t}=e;return"FADE_IN"===t?vm:"FADE_OUT"===t?ym:void 0})),_m=(0,Ne.memo)((function(){var e=Br(ka),t=Lr(),r=(0,Ne.useRef)(!1),n=(0,Ne.useCallback)((e=>{t({type:"SET_SMARTZOOM_TUTORIAL_VISIBILITY",visibility:e})}),[t]);if((0,Ne.useEffect)((()=>{"VISIBLE"!==e||r.current||(function(){try{window.localStorage.setItem(fm,"true")}catch(e){}}(),r.current=!0)}),[e]),(0,Ne.useEffect)((()=>{if("HIDDEN_INITIAL"!==e){if("HIDDEN_FINAL"!==e){if("HIDDEN_RESET"!==e){var t=function(e,t){if("VISIBLE"===e||"HIDDEN_READY"===e){var r="VISIBLE"===e;return setTimeout((()=>{t(r?"HIDDEN_FINAL":"VISIBLE")}),r?2e3:1e3)}}(e,n);return()=>{"number"==typeof t&&clearTimeout(t)}}n("HIDDEN_READY")}}else(function(){try{return"true"===window.localStorage.getItem(fm)}catch(e){return!1}})()||n("HIDDEN_READY")}),[n,e]),"HIDDEN_INITIAL"===e)return null;var i=function(e){return"VISIBLE"===e?"FADE_IN":"HIDDEN_FINAL"===e?"FADE_OUT":"HIDDEN"}(e);return(0,z.jsxs)(bm,{uiState:i,children:[(0,z.jsx)("div",{dangerouslySetInnerHTML:{__html:'<svg width="24" height="24" viewBox="0 0 512 512"><path fill="currentColor" d="M396.3 274.7c0-.6-.1-1.2-.3-1.8-4.5-19.5-17.5-31.7-33.9-31.7-4.8 0-9.4 1-13.6 2.8a34.22 34.22 0 0 0-32.4-23.5c-5.6 0-10.9 1.4-15.5 3.8a34.06 34.06 0 0 0-30.5-18.8c-4.2 0-8.2.8-11.9 2.1V166c0-18.8-15.3-34.2-34.2-34.2-18.8 0-34.2 15.3-34.2 34.2v142.6l-12.4-21.5c-4.6-8.3-11.9-14-20.7-16.2-8.5-2.1-17.6-.6-25.1 4.1-12.6 8-16.6 25.9-10.3 45.4 0 .1.1.2.1.3 1.3 3.9 33.4 94.8 71.6 132.9 2.2 2.2 5 3.3 7.9 3.3a11.2 11.2 0 0 0 7.9-19.1c-34-33.9-64.9-120.6-66.3-124.4-2.8-8.8-2.3-17.4 1.1-19.6 2.3-1.4 5-1.9 7.6-1.3 2.8.7 5 2.6 6.7 5.6l33.3 57.7c2.5 4.4 7.7 6.5 12.5 5.2 4.9-1.3 8.3-5.7 8.3-10.8V166.1c0-6.5 5.3-11.9 11.9-11.9 6.5 0 11.9 5.3 11.9 11.9v127.7c0 6.2 5 11.1 11.1 11.1 6.2 0 11.1-5 11.1-11.1v-55.1c0-.1.1-.2.1-.3.6-6 5.7-10.6 11.8-10.6 6.5 0 11.9 5.3 11.9 11.9v58.2c0 6.2 5 11.1 11.1 11.1 6.2 0 11.1-5 11.1-11.1v-43.1c0-6.5 5.3-11.9 11.9-11.9 6.5 0 11.9 5.3 11.9 11.9v14.9c0 .7.1 1.4.2 2.1-.1 1.2-.2 2.4-.2 3.7V298c0 6.2 5 11.1 11.1 11.1s11.1-5 11.1-11.1v-22.5c0-6.5 5.3-11.9 11.9-11.9 7.5 0 10.8 8.9 11.9 13.5.6 10.9 5.7 112.3-13.3 158.9a11.12 11.12 0 1 0 20.6 8.4c22.2-53.8 15.5-165 15.2-169.7z"/><path fill="currentColor" d="M278.4 192.2c5.9 1.7 12.1-1.6 13.9-7.5a72 72 0 0 0 2.9-20.2c0-39.2-31.9-71.2-71.2-71.2-39.2 0-71.2 31.9-71.2 71.2 0 8.7 1.5 17.2 4.6 25.2a11.07 11.07 0 0 0 14.3 6.5c5.8-2.2 8.7-8.6 6.5-14.4-2.1-5.5-3.2-11.3-3.2-17.3 0-26.9 21.9-48.9 48.9-48.9a48.97 48.97 0 0 1 46.9 62.8c-1.7 5.9 1.7 12.1 7.6 13.8z"/><path fill="currentColor" d="M136.5 220.5c1.7 0 3.5-.4 5.1-1.2 5.5-2.8 7.6-9.5 4.8-15a85.64 85.64 0 0 1-9.6-39.8c0-48.1 39.1-87.2 87.2-87.2s87.2 39.1 87.2 87.2c0 7.6-1 15.1-2.9 22.4-1.6 6 2 12.1 7.9 13.6 6 1.6 12.1-2 13.6-7.9 2.4-9.1 3.6-18.5 3.6-28.1 0-60.4-49.1-109.5-109.5-109.5s-109.5 49.1-109.5 109.5c0 17.3 4.2 34.6 12 49.9 2.1 3.9 6 6.1 10.1 6.1z"/></svg>'}}),(0,z.jsx)("div",{children:"Double tap on text to zoom"})]})})),wm=(0,Ne.memo)((function(e){var{showAsOverlay:t,visible:r,children:n}=e,i=Lr();return(0,z.jsxs)("div",{className:xc()("more-content-container",{"more-content-container--hidden":!r,"more-content-container--overlay":t}),children:[n,(0,z.jsx)("button",{className:xc()("more-content-container__close-button",{"more-content-container__close-button--left":ra()}),dangerouslySetInnerHTML:{__html:Oh},onClick:()=>{i(Uu()),i(eu())},type:"button"}),!t&&(0,z.jsx)("div",{className:"more-content-container__clickable-background",onClick:()=>{i(Uu())}})]})})),xm='<svg viewBox="-4 -4 30 52"><path d="M1.15 42.05a2.62 2.62 0 0 1 0-3.45L16.17 22 1.15 5.4a2.62 2.62 0 0 1 0-3.45 2.06 2.06 0 0 1 3.12 0l16.58 18.32c.87.96.87 2.5 0 3.45L4.27 42.05c-.43.48-1 .72-1.56.72a2.1 2.1 0 0 1-1.56-.72Z" fill="currentColor"/></svg>',Em=Fe()(ol)(["padding:15px;position:absolute;top:50%;transform:translate3d(0,-50%,0);width:","px;z-index:2;@media (max-width:620px){width:","px;}"],60,50),Om=Fe()(Em)(["left:0;transform:translate3d(0,-50%,0) scale(-1,1);"]),Tm=Fe()(Em)(["right:0;"]),Sm=(0,Ne.memo)((function(){var e=Lr(),t=Br(hu),r=Br(lu);return(0,Ne.useEffect)((()=>{r&&e(sl(rc.BUTTON_ARROW_BACKWARD)),t&&e(sl(rc.BUTTON_ARROW_FORWARD))}),[e,r,t]),(0,z.jsxs)(z.Fragment,{children:[r&&(0,z.jsx)(Om,{"aria-label":"Previous page",content:xm,"data-testid":"button-previous-page",onClick:t=>{t.preventDefault(),e(Pl(rc.BUTTON_ARROW_BACKWARD)),e(ul("reader3_interaction_previous_page_arrow")),e(eu()),e(cs())}}),t&&(0,z.jsx)(Tm,{"aria-label":"Next page",content:xm,"data-testid":"button-next-page",onClick:t=>{t.preventDefault(),e(Pl(rc.BUTTON_ARROW_FORWARD)),e(ul("reader3_interaction_next_page_arrow")),e(eu()),e(ls())}})]})}));function Pm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function km(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pm(Object(r),!0).forEach((function(t){Am(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Am(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Im=Rr((e=>({currentPageNumbers:e.reader.currentPageNumbers,documentId:Si(e).documentId,exitedFullscreen:e.readmore.exitedFullscreen,featureTracker:e.featureTracker,fullscreenEnabled:ba(e),interactedWithReader:e.reader.interactedWithReader,isControlsVisible:Da(e),logo:za(e),moreContentContainerIsVisible:Ya(e),readMorePlugin:e.readMorePlugin,readerSizeInPixels:Na(e),renderPaywallOverlay:Oo(e),renderReadmore:ou(e),renderVideoOverlay:mh(e),showCTAOverlay:$a(e),canShowAds:Fh(e),showReadmoreAsOverlay:uu(e),showSmartZoomTutorial:Za(e)})),void 0,void 0,{pure:!1})((e=>{var{canShowAds:t,config:r,currentPageNumbers:n,dispatch:i,documentId:o,exitedFullscreen:a,featureTracker:s,fullscreenEnabled:u,interactedWithReader:c,isControlsVisible:l,loadStatsTracker:h,logo:d,metrics:p,moreContentContainerIsVisible:f,readMorePlugin:g,readerSizeInPixels:m,renderPaywallOverlay:v,renderReadmore:y,renderVideoOverlay:b,showCTAOverlay:_,showReadmoreAsOverlay:w,showSmartZoomTutorial:x,trackOnceMixpanel:E}=e,O=(0,Ne.useRef)(null),T=(0,Ne.useRef)(!1),[S,P]=(0,Ne.useState)(!1),k=(0,Ne.useCallback)((()=>{setTimeout((()=>{window.matchMedia("(orientation: portrait)").matches&&(s.usage(rc.PORTRAIT_MODE),s.opportunity(rc.LANDSCAPE_MODE)),window.matchMedia("(orientation: landscape)").matches&&(s.usage(rc.LANDSCAPE_MODE),s.opportunity(rc.PORTRAIT_MODE))}),2e3)}),[s]),A=(0,Ne.useCallback)((()=>{var[e,t]=m.split("x");return{currentPageNumbers:n.toString(),documentId:o,fullScreen:u,reader3Width:e,reader3Height:t}}),[n,o,u,m]),I=(0,Ne.useCallback)(((e,t,r)=>E(e,km(km({},A()),t),r)),[A,E]);(0,Ne.useEffect)((()=>{var e=O.current;if(e){var t=new zh(e,(()=>{c||setTimeout((()=>{i({type:is})}),500)})),r=new el(e,{onMouseMove:()=>{i((e=>{e(Zs())}))},onMouseEnter:()=>{i((e=>{e(Zs())}))},onMouseLeave:()=>{i((e=>{e(Js())}))}});return window.matchMedia("(orientation: portrait)").matches&&Hh()&&s.opportunity(rc.LANDSCAPE_MODE),window.matchMedia("(orientation: landscape)").matches&&Hh()&&s.opportunity(rc.PORTRAIT_MODE),window.addEventListener("orientationchange",k,!1),Hh()&&s.usage(rc.READER_LOADED_MOBILE),I("reader3_interaction_reader_viewed"),()=>{t.destroy(),r.destroy(),window.removeEventListener("orientationchange",k,!1)}}}),[i,s,c,I,k]),(0,Ne.useEffect)((()=>{s.opportunity(rc.FULLSCREEN_MORE),y&&a&&f&&s.usage(rc.FULLSCREEN_MORE)}),[y,a,f,s]);var R=t&&Hh()&&u;T.current=T.current||R;var j=T.current,C=_?(0,z.jsx)(pm,{visible:l}):(0,z.jsx)(lm,{visible:l||j&&!S}),D={backgroundImage:d?"url('"+d.url+"')":"none"},N=xc()("reader__layout",{"reader__layout--with-ad":j&&!S&&u});return(0,z.jsxs)("div",{className:"reader",ref:O,style:D,tabIndex:1,children:[(0,z.jsxs)("div",{className:N,children:[(0,z.jsx)($l,{showFullScreenAd:j&&!S}),!_&&(0,z.jsx)(gl,{}),(0,z.jsxs)("div",{className:"reader__canvas-container",children:[(0,z.jsx)(mg,{loadStatsTracker:h,metrics:p,trackOnceMixpanel:I}),(0,z.jsx)(Sm,{})]}),x&&(0,z.jsx)(_m,{}),C,y&&(0,z.jsx)(wm,{showAsOverlay:w,visible:f,children:null==g?void 0:g.render(r,a,f,w)}),v&&(0,z.jsx)(gh,{}),b&&(0,z.jsx)(Mh,{metrics:p})]}),j&&!S&&(0,z.jsx)(Bc,{hidden:!u,onAdUnfulfilled:()=>P(!0)})]})}));function Rm(e){var t=ia();return[e.clientWidth*t,e.clientHeight*t]}var jm=Rr((e=>({backgroundColor:Ba(e),backgroundImage:Ua(e),config:e.config,loading:e.loading,sessionId:e.config.sessionId,showBlockedEmbedScreen:cc(e)})))((e=>{var{backgroundColor:t,backgroundImage:r,config:n,featureTracker:i,loading:o,loadStatsTracker:a,metrics:s,documentConnector:u,sessionId:c,showBlockedEmbedScreen:l,trackOnceMixpanel:h}=e,d=(0,Ne.useRef)(null),p=Lr();(0,Ne.useEffect)((()=>{var e=d.current;if(e){var[t,r]=Rm(e);function n(){var e=d.current;if(e){var[t,r]=Rm(e);p(function(e,t){return{type:vc,width:e,height:t}}(t,r)),p((e=>{e(Zs())}))}}return p(function(e,t){return{type:mc,width:e,height:t}}(t,r)),lc(window,"resize",n)}}),[p]),(0,Ne.useEffect)((()=>{p(qs(u))}),[p,u]),(0,Ne.useEffect)((()=>function(){var e=hc();if(e){var t=e.replace(/[H|h]idden/,"")+"visibilitychange";return lc(document,t,(()=>{p({type:"ON_VISIBILITY_CHANGE"})}))}}()),[p]);var f=["testcafe-reader-container","reader-container"],g=null;switch(o.status){case"loading-status@FAILED":g=(0,z.jsx)(Ee,{error:o.error,reloadDocument:()=>{u.reset(),p(qs(u))},sessionId:c});break;case"loading-status@SUCCESS":g=l?(0,z.jsx)(uc,{}):(0,z.jsx)(oc,{featureTracker:i,children:(0,z.jsx)(Im,{config:n,loadStatsTracker:a,metrics:s,trackOnceMixpanel:h})});break;default:g=(0,z.jsx)(Tc,{})}r&&("TOP_LEFT"===r.style?f.push("reader-container--background-image-top-left"):"STRETCH"===r.style&&f.push("reader-container--background-image-stretch"));var m={width:"100%",height:"100%",backgroundColor:t,backgroundImage:r?"url('"+r.url+"')":"none"};return(0,z.jsx)("div",{className:f.join(" "),id:"ird3-main",ref:d,style:m,children:g})})),Cm=()=>{},Dm=void 0,Nm=!0;function Lm(e){Dm=window.setInterval((()=>{Ca(e.getState())?Nm=!0:ja(e.getState())&&(Nm=!1),e.dispatch(Nm?ls():cs())}),4e3)}function Mm(){Dm&&(window.clearInterval(Dm),Dm=void 0)}var Fm=e=>t=>r=>{var n=t(r);switch(r.type){case Ws:e.getState().reader.autoFlipInitially&&Lm(e);break;case as:e.getState().reader.interactedWithReader&&Mm();break;case"EMBED_PREVIEW":Mm(),e.getState().features.autoFlip&&Lm(e)}return n};function Bm(e){var t=null,r=e;function n(e){if(t&&r){e.dispatch(t);var n=e.getState().readMorePlugin;n&&e.dispatch(function(e){return(t,r)=>{var n=r(),i=Si(n);e&&"user"===i.documentPath.type&&e.load(n.config.origins.api,i.publicationId,i.documentPath.username,Go(n),Vo(n)).then((e=>{e&&t(Bu())})).catch((()=>{t({type:Lu})}))}}(n))}}return e=>i=>o=>{var a,s,u,c,l=i(o);switch(o.type){case Vs:a=o.timeStamp,s=o.pageNumber,u=o.targetSpreadIndex,c=o.currentPageNumbers,t={timeStamp:a,pageNumber:s,targetSpreadIndex:u,currentPageNumbers:c,type:Ws},n(e);break;case"ENABLE_TRACKING":r||(r=!0,n(e))}return l}}function Um(e){return t=>r=>n=>{var i=r(n);switch(n.type){case Ws:var{loading:o}=t.getState();if("loading-status@LOADING"===o.status&&e.monitor("reader3-documentload-stats",{success_time:o.loadSuccessTime?o.loadSuccessTime-o.loadStartTime:0}),e.isEmbed){var a={};a[La(t.getState())]=1,e.monitor("reader3-embed-size",a)}break;case Gs:var{loading:s}=t.getState();"loading-status@FAILED"===s.status&&e.monitor("reader3-documentload-stats",{failed_time:s.loadFailureTime-s.loadStartTime,backend_error:s.error.name===le?1:0,fetch_error:s.error.name===ue?1:0});break;case Nu:e.monitor("reader3-readmoreload-stats",{success:1});break;case Lu:e.monitor("reader3-readmoreload-stats",{failure:1});break;case Au:var u="reader3-fullscreen-method."+n.fullscreenMethod;e.monitor(u,{count:1})}return i}}function zm(e){return t=>r=>n=>{var i=r(n),o=t.getState();switch(n.type){case is:e.onActivity(o.reader.interactedWithReader);break;case os:e.onZoom(o.reader.zoomLevel);break;case"DOWNLOAD_SUCCESS":e.onDownload(Si(o));break;case _i:if(n.currentPagesHasChanged){var a=o.reader.currentPageNumbers;e.onPageChanged(a)}break;case Ws:var s=Sa(o);e.onDocumentLoaded(Si(o),s,ba(o));break;case vc:e.onResize(n.width+"x"+n.height,ba(o));break;case As:if("gotoPage"===n.linkModel.type){var{id:u,page:{pageNumber:c},gotoPageNumber:l}=n.linkModel;e.onClippingActionGotoPage(u,c,l)}else{var{id:h,page:{pageNumber:d},url:p}=n.linkModel;e.onClippingActionOpenUrl(h,d,p)}}return i}}function Hm(e){var t=!1,r=!1;return n=>i=>o=>{var a=i(o);if(o.type===xi&&Oo(n.getState())&&(t=!0,n.dispatch(((e,t)=>{var r=t(),{api:n}=Xl(r),{documentPath:i}=Si(r),o=ya(r);return"NOTLOADED"!==r.paywall.status?Promise.resolve():(e({type:vt}),"user"===i.type?fetch(n+"/call/paywall/reader/v2/overlay/"+i.username+"/"+i.documentName,{credentials:o?"include":"omit",mode:"cors"}).then((e=>{if(!e.ok)throw new Error("Error load paywallOverlay Api (response.status: "+e.status+")");return e.json()})).then((t=>{var{currentUserPurchased:r,isNotAvailable:n,priceAmount:i,priceCurrency:o,readPurchasedPath:a}=t;return e({type:yt,currentUserPurchased:r,isNotAvailable:n,priceAmount:i,priceCurrency:o,readPurchasedPath:a})})).catch((t=>e({type:bt,error:t}))):void e({type:bt,error:new Error("Paywall not support for non-user documents")}))}))),!t)return a;if(o.type===yt)e.monitor("paywall.reader3.show-document");else if(!r&&o.type===_i){var s=n.getState();ts(s)&&(e.monitor("paywall.reader3.show-overlay"),r=!0)}return a}}function Wm(e){return Object.assign({},e,{visibleDropdown:null,readMoreDropdownVisible:!1})}var Gm={visibleDropdown:null,readMoreDropdownVisible:!1},Vm={youtubeApiReady:!1,vimeoApiReady:!0,activeVideoLink:null},qm={pages:[]};function Ym(e,t){if(void 0===e&&(e=qm),t.type===xi){var{doc:{pages:r}}=t;return{pages:r}}return e}function $m(e){if(e.backgroundImage){var t=null;if("topleft"===e.backgroundImagePosition?t="TOP_LEFT":"stretch"===e.backgroundImagePosition&&(t="STRETCH"),t)return{url:e.backgroundImage,style:t,hideWhenNotInFullscreen:!e.showBackgroundImagesOutsideFullscreen}}return null}function Xm(e){return e.logo?{url:e.logo,hideWhenNotInFullscreen:!e.showBackgroundImagesOutsideFullscreen}:null}var Km={status:"loading-status@INITIALIZED"},Zm={arrivedAtSpreadTimeStamp:0,autoFlipInitially:!1,hoveringOverControls:!1,initialPageNumber:0,interactedWithReader:!1,interactingWithControls:!1,interactingWithCanvas:!1,isIdle:!0,isReady:!1,lastSpreadIndexArrivedAt:-1,targetSpreadIndex:0,visiblePageNumbers:[],currentPageNumbers:[],currentPageNumber:0,currentSpreadIndex:-1,positionInPercent:0,zoomLevel:1,largeViewState:"HIDDEN",smartzoomTutorialVisibility:"HIDDEN_INITIAL"};function Jm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jm(Object(r),!0).forEach((function(t){ev(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jm(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ev(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tv(e,t){return Object.assign({},e,{hoveringOverControls:t})}function rv(e,t){return Object.assign({},e,{largeViewState:t})}function nv(e,t){var{hasPageChanged:r}=void 0===t?{hasPageChanged:!1}:t;return"HIDDEN_INITIAL"===e.smartzoomTutorialVisibility?e:"VISIBLE"===e.smartzoomTutorialVisibility?Qm(Qm({},e),{},{smartzoomTutorialVisibility:"HIDDEN_FINAL"}):r&&"HIDDEN_READY"===e.smartzoomTutorialVisibility?Qm(Qm({},e),{},{smartzoomTutorialVisibility:"HIDDEN_RESET"}):e}var iv=(e,t)=>Qm(Qm({},Zm),{},{autoFlipInitially:e.autoFlip,initialPageNumber:t});function ov(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class av{constructor(e){ov(this,"gaTracker",void 0),ov(this,"_baseUrl",""),ov(this,"_previousPageNumbers",[]),ov(this,"_timeoutId",void 0),this.gaTracker=e}destroy(){clearTimeout(this._timeoutId)}onDocumentLoaded(e,t,r){this._baseUrl=e,this._previousPageNumbers=r,rt().rIC((()=>{this.gaTracker.sendPageview(this._baseUrl+"/"+t),this.gaTracker.handleDocumentLoadByPublisherAccount(this._baseUrl)}))}onPageChanged(e){this._previousPageNumbers.join()!==e.join()&&(this._previousPageNumbers=e,clearTimeout(this._timeoutId),this._timeoutId=setTimeout((()=>{var e=this._previousPageNumbers.slice();rt().rIC((()=>{e.forEach((e=>{this.gaTracker.sendPageview(this._baseUrl+"/"+e)}))}))}),1e3))}}function sv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class uv{constructor(e){sv(this,"metrics",void 0),sv(this,"mode",void 0),sv(this,"_hasTrackedTimeToCover",!1),sv(this,"_pageLoadStartTime",new Map),sv(this,"_fontLoadStartTime",new Map),sv(this,"_imageDecodeStartTime",new Map),sv(this,"_pageLoadStats",{failedCount:0,successCount:0,successAfterRetryCount:0,failedTotalTime:0,successTotalTime:0,layersImageFallbackCount:0,fontloadCount:0,fontloadTotalTime:0}),sv(this,"_pageLoadStatsTimerId",null),sv(this,"_totalFontRenderCalls",0),sv(this,"_totalSlowFontRenderCalls",0),sv(this,"_totalFramesDroppedOnFontRendering",0),sv(this,"_fontRenderingTimings",{uncached:[],preview:[],hires:[]}),sv(this,"_fontLoadTimings",[]),sv(this,"_imageDecodeTimings",[]),this.metrics=e}onLoaderError(){this.metrics.monitor("reader3-render-manager-load-layer-error")}onOpsValidationError(e){this.metrics.monitor("reader3-render-manager-ops-validation-failed",{count:e})}onDynamicApiLoadComplete(e,t){t?this.metrics.monitor("reader3-dynamicapi-stats",{failure:1,failure_time:Math.round(e)}):this.metrics.monitor("reader3-dynamicapi-stats",{success:1,success_time:Math.round(e)})}onPageLoadStart(e,t){this.mode=t,this._pageLoadStartTime.set(e,performance.now())}onPageLoadSuccess(e){var t=performance.now();if(!this._hasTrackedTimeToCover){try{var r=window.performance.timing.fetchStart-window.performance.timing.navigationStart,n=performance.now()-r;this.metrics.onTimeToCover(n)}catch(e){}this._hasTrackedTimeToCover=!0}this._pageLoadStats.successCount+=1,this._pageLoadStats.successTotalTime+=t-(this._pageLoadStartTime.get(e)||0),this._pageLoadStartTime.delete(e),this.batchPageLoadStats()}onPageLoadSuccessAfterRetry(e){this._pageLoadStats.successAfterRetryCount+=1,this.onPageLoadSuccess(e)}onPageLoadFailure(e){this._pageLoadStats.failedCount+=1,this._pageLoadStats.failedTotalTime+=performance.now()-(this._pageLoadStartTime.get(e)||0),this.batchPageLoadStats()}onLayersImageFallback(){this._pageLoadStats.layersImageFallbackCount+=1,this.batchPageLoadStats()}uncachedFontRenderingTracker(){return this._fontRenderingTracker("uncached")}previewFontRenderingTracker(){return this._fontRenderingTracker("preview")}hiresFontRenderingTracker(){return this._fontRenderingTracker("hires")}_fontRenderingTracker(e){var t;return{start:()=>{t=performance.now()},end:()=>{var r=performance.now()-t;this._fontRenderingTimings[e].push(Math.round(r)),this._totalFontRenderCalls+=1;var n=Math.max(Math.floor(r/(1e3/60))-1,0);n&&(this._totalSlowFontRenderCalls+=1,this._totalFramesDroppedOnFontRendering+=n),this.batchPageLoadStats()}}}onFontLoadStart(e){this._fontLoadStartTime.set(e,performance.now())}onFontLoadEnd(e){var t=performance.now()-(this._fontLoadStartTime.get(e)||0);this._fontLoadTimings.push(Math.round(t)),this._fontLoadStartTime.delete(e)}onImageDecodeStart(e){this._imageDecodeStartTime.set(e,performance.now())}onImageDecodeEnd(e){var t=performance.now()-(this._imageDecodeStartTime.get(e)||0);this._imageDecodeTimings.push(Math.round(t)),this._imageDecodeStartTime.delete(e)}batchPageLoadStats(){if(!this._pageLoadStatsTimerId){var e=this._pageLoadStats;this._pageLoadStatsTimerId=setTimeout((()=>{if(this._pageLoadStatsTimerId=null,e.successCount>0){var t={success_count:e.successCount,success_total_time:e.successTotalTime,success_avg_time:e.successTotalTime/e.successCount,success_after_retry:e.successAfterRetryCount,mode:this.mode,load_and_decode_count:void 0,load_and_decode_total_time:void 0,load_and_decode_avg_time:void 0};e.fontloadCount>0&&(Object.assign(t,{load_and_decode_count:e.fontloadCount,load_and_decode_total_time:e.fontloadTotalTime,load_and_decode_avg_time:e.fontloadTotalTime/e.fontloadCount}),e.fontloadCount=0,e.fontloadTotalTime=0),this.metrics.monitor("reader3-pageload-stats",t),e.successCount=0,e.successAfterRetryCount=0,e.successTotalTime=0}e.layersImageFallbackCount>0&&(this.metrics.monitor("reader3-pageload-stats",{layers_image_fallback_count:e.layersImageFallbackCount}),e.layersImageFallbackCount=0),e.failedCount>0&&(this.metrics.monitor("reader3-pageload-stats",{failed_count:e.failedCount,failed_total_time:e.failedTotalTime,failed_avg_time:e.failedTotalTime/e.failedCount,mode:this.mode}),e.failedCount=0,e.failedTotalTime=0),this._totalFontRenderCalls>0&&(this.metrics.monitor("reader3-fontrender-stats",{total:this._totalFontRenderCalls,total_slow:this._totalSlowFontRenderCalls,total_frames_dropped:this._totalFramesDroppedOnFontRendering,mode:this.mode,time_uncached:this._fontRenderingTimings.uncached.slice(0),time_preview:this._fontRenderingTimings.preview.slice(0),time_hires:this._fontRenderingTimings.hires.slice(0)}),this._totalFontRenderCalls=0,this._totalSlowFontRenderCalls=0,this._totalFramesDroppedOnFontRendering=0,this._fontRenderingTimings.uncached.length=0,this._fontRenderingTimings.preview.length=0,this._fontRenderingTimings.hires.length=0),(this._fontLoadTimings.length||this._imageDecodeTimings.length)&&(this.metrics.monitor("reader3-fontload-stats",{image_decode:this._fontLoadTimings.slice(0),font_load:this._imageDecodeTimings.slice(0),mode:this.mode}),this._fontLoadTimings.length=0,this._imageDecodeTimings.length=0)}),5e3)}}}function cv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class lv{constructor(e){cv(this,"quantcastTracker",void 0),cv(this,"_previousPageNumbers",[]),cv(this,"_timeoutId",void 0),this.quantcastTracker=e}destroy(){clearTimeout(this._timeoutId)}onDocumentLoaded(e){this._previousPageNumbers=e,rt().rIC((()=>{this.quantcastTracker.track()}))}onPageChanged(e){this._previousPageNumbers.join()!==e.join()&&(this._previousPageNumbers=e,clearTimeout(this._timeoutId),this._timeoutId=setTimeout((()=>{var e=this._previousPageNumbers.slice();rt().rIC((()=>{e.forEach((()=>{this.quantcastTracker.track()}))}))}),1e3))}}var hv=16;function dv(e,t,r){var n=e.createShader(r);if(!n)throw new Error("Couldn't create shader");if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error("Cannot compile "+r+" shader: "+e.getShaderInfoLog(n));return n}function pv(e,t,r,n,i){if(e.checkFramebufferStatus(e.FRAMEBUFFER)!==e.FRAMEBUFFER_COMPLETE)throw new Error("cannot read from framebuffer");var o=new Uint8Array(1024);e.readPixels(0,0,hv,hv,e.RGBA,e.UNSIGNED_BYTE,o);for(var a=0;a<256;a++){var s=o.subarray(4*a,4*(a+1));if(s[0]!==t||s[1]!==r||s[2]!==n||s[3]!==i)return!1}return!0}function fv(e){var{featureTracker:t,mixpanelOnceTracker:r,preloadingCache:n}=e;return e=>{function i(t){e.dispatch({type:"SET_STATE",state:t})}function o(){return e.getState().canvasApi}function a(){return n}return n=>s=>"function"==typeof s&&"isServiced"in s?s({dispatch:e.dispatch,getState:e.getState,setState:i,getCanvasApi:o,featureTracker:t,mixpanelOnceTracker:r,getPreloadingCache:a}):n(s)}}if(window.chrome){var gv=document.createElement("div");gv.style.position="absolute",gv.style.left="0px",gv.style.top="0px",gv.innerHTML='<svg width="1" height="1"><path fill="#995ba5" d="M16 187a8 8 0 0 1 8-8h7l6 4h3l6-4h106.64v35H45.5l-6 4h-3l-6-4H24a8 8 0 0 1-8-8zm47.83-3h-14.5v5c0 10-8-8-8 7.5s8-2.5 8 7.5v6h14.5zm78.81 0h-14.5v5c0 10-8-8-8 7.5s8-2.5 8 7.5v6h14.5z"/><path fill="#995ba5" d="M16 187a8 8 0 0 1 8-8h7l6 4h3l6-4h106.64v35H45.5l-6 4h-3l-6-4H24a8 8 0 0 1-8-8zm47.83-3h-14.5v5c0 10-8-8-8 7.5s8-2.5 8 7.5v6h14.5zm78.81 0h-14.5v5c0 10-8-8-8 7.5s8-2.5 8 7.5v6h14.5z"/><path fill="#995ba5" d="M16 187a8 8 0 0 1 8-8h7l6 4h3l6-4h106.64v35H45.5l-6 4h-3l-6-4H24a8 8 0 0 1-8-8zm47.83-3h-14.5v5c0 10-8-8-8 7.5s8-2.5 8 7.5v6h14.5zm78.81 0h-14.5v5c0 10-8-8-8 7.5s8-2.5 8 7.5v6h14.5z"/><path fill="#995ba5" d="M16 187a8 8 0 0 1 8-8h7l6 4h3l6-4h106.64v35H45.5l-6 4h-3l-6-4H24a8 8 0 0 1-8-8zm47.83-3h-14.5v5c0 10-8-8-8 7.5s8-2.5 8 7.5v6h14.5zm78.81 0h-14.5v5c0 10-8-8-8 7.5s8-2.5 8 7.5v6h14.5z"/><path fill="#995ba5" d="M16 187a8 8 0 0 1 8-8h7l6 4h3l6-4h106.64v35H45.5l-6 4h-3l-6-4H24a8 8 0 0 1-8-8zm47.83-3h-14.5v5c0 10-8-8-8 7.5s8-2.5 8 7.5v6h14.5zm78.81 0h-14.5v5c0 10-8-8-8 7.5s8-2.5 8 7.5v6h14.5z"/><path fill="#995ba5" d="M16 187a8 8 0 0 1 8-8h7l6 4h3l6-4h106.64v35H45.5l-6 4h-3l-6-4H24a8 8 0 0 1-8-8zm47.83-3h-14.5v5c0 10-8-8-8 7.5s8-2.5 8 7.5v6h14.5zm78.81 0h-14.5v5c0 10-8-8-8 7.5s8-2.5 8 7.5v6h14.5z"/></svg>',document.body&&document.body.appendChild(gv)}var mv=Object.prototype.toString;function vv(e){switch(mv.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Sv(e,Error)}}function yv(e,t){return mv.call(e)===`[object ${t}]`}function bv(e){return yv(e,"ErrorEvent")}function _v(e){return yv(e,"DOMError")}function wv(e){return yv(e,"String")}function xv(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function Ev(e){return yv(e,"Object")}function Ov(e){return"undefined"!=typeof Event&&Sv(e,Event)}function Tv(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function Sv(e,t){try{return e instanceof t}catch(e){return!1}}function Pv(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.substr(0,t)}...`}function kv(e,t){if(!Array.isArray(e))return"";var r=[];for(let t=0;t<e.length;t++){var n=e[t];try{r.push(String(n))}catch(e){r.push("[value cannot be serialized]")}}return r.join(t)}function Av(e,t){return!!wv(e)&&(yv(t,"RegExp")?t.test(e):"string"==typeof t&&-1!==e.indexOf(t))}var Iv=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class Rv{static __initStatic(){this.id="InboundFilters"}__init(){this.name=Rv.id}constructor(e={}){this._options=e,Rv.prototype.__init.call(this)}setupOnce(e,t){var r=e=>{var r=t();if(r){var n=r.getIntegration(Rv);if(n){var i=r.getClient(),o=i?i.getOptions():{},a=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...Iv],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(n._options,o);return function(e,t){return!((!t.ignoreInternal||!function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))&&!function(e,t){return!(!t||!t.length)&&function(e){if(e.message)return[e.message];if(e.exception)try{const{type:t="",value:r=""}=e.exception.values&&e.exception.values[0]||{};return[`${r}`,`${t}: ${r}`]}catch(e){return[]}return[]}(e).some((e=>t.some((t=>Av(e,t)))))}(e,t.ignoreErrors)&&!function(e,t){if(!t||!t.length)return!1;var r=jv(e);return!!r&&t.some((e=>Av(r,e)))}(e,t.denyUrls)&&function(e,t){if(!t||!t.length)return!0;var r=jv(e);return!r||t.some((e=>Av(r,e)))}(e,t.allowUrls))}(e,a)?null:e}}return e};r.id=this.name,e(r)}}function jv(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let r=e.length-1;r>=0;r--){var t=e[r];if(t&&"<anonymous>"!==t.filename&&"[native code]"!==t.filename)return t.filename||null}return null}(t):null}catch(e){return null}}Rv.__initStatic();var Cv=__webpack_require__(6727);function Dv(e,t){try{let i=e;var r=[];let o=0,a=0;var n=" > ".length;let s;for(;i&&o++<5&&(s=Nv(i,t),!("html"===s||o>1&&a+r.length*n+s.length>=80));)r.push(s),a+=s.length,i=i.parentNode;return r.reverse().join(" > ")}catch(e){return"<unknown>"}}function Nv(e,t){var r=e,n=[];let i,o,a,s,u;if(!r||!r.tagName)return"";n.push(r.tagName.toLowerCase());var c=t&&t.length?t.filter((e=>r.getAttribute(e))).map((e=>[e,r.getAttribute(e)])):null;if(c&&c.length)c.forEach((e=>{n.push(`[${e[0]}="${e[1]}"]`)}));else if(r.id&&n.push(`#${r.id}`),i=r.className,i&&wv(i))for(o=i.split(/\s+/),u=0;u<o.length;u++)n.push(`.${o[u]}`);var l=["type","name","title","alt"];for(u=0;u<l.length;u++)a=l[u],s=r.getAttribute(a),s&&n.push(`[${a}="${s}"]`);return n.join("")}function Lv(e,t,r){if(t in e){var n=e[t],i=r(n);if("function"==typeof i)try{Fv(i,n)}catch(e){}e[t]=i}}function Mv(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}function Fv(e,t){var r=t.prototype||{};e.prototype=t.prototype=r,Mv(e,"__sentry_original__",t)}function Bv(e){return e.__sentry_original__}function Uv(e){if(vv(e))return{message:e.message,name:e.name,stack:e.stack,...Hv(e)};if(Ov(e)){var t={type:e.type,target:zv(e.target),currentTarget:zv(e.currentTarget),...Hv(e)};return"undefined"!=typeof CustomEvent&&Sv(e,CustomEvent)&&(t.detail=e.detail),t}return e}function zv(e){try{return"undefined"!=typeof Element&&Sv(e,Element)?Dv(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function Hv(e){if("object"==typeof e&&null!==e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}return{}}function Wv(e,t=40){var r=Object.keys(Uv(e));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=t)return Pv(r[0],t);for(let e=r.length;e>0;e--){var n=r.slice(0,e).join(", ");if(!(n.length>t))return e===r.length?n:Pv(n,t)}return""}function Gv(e){return Vv(e,new Map)}function Vv(e,t){if(Ev(e)){if(void 0!==(i=t.get(e)))return i;var r={};for(var n of(t.set(e,r),Object.keys(e)))void 0!==e[n]&&(r[n]=Vv(e[n],t));return r}var i;return Array.isArray(e)?void 0!==(i=t.get(e))?i:(r=[],t.set(e,r),e.forEach((e=>{r.push(Vv(e,t))})),r):e}let qv;class Yv{constructor(){Yv.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=Yv.id}setupOnce(){qv=Function.prototype.toString,Function.prototype.toString=function(...e){var t=Bv(this)||this;return qv.apply(t,e)}}}Yv.__initStatic();var $v,Xv=__webpack_require__(4180);function Kv(e){return new Jv((t=>{t(e)}))}function Zv(e){return new Jv(((t,r)=>{r(e)}))}!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}($v||($v={}));class Jv{__init(){this._state=$v.PENDING}__init2(){this._handlers=[]}constructor(e){Jv.prototype.__init.call(this),Jv.prototype.__init2.call(this),Jv.prototype.__init3.call(this),Jv.prototype.__init4.call(this),Jv.prototype.__init5.call(this),Jv.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new Jv(((r,n)=>{this._handlers.push([!1,t=>{if(e)try{r(e(t))}catch(e){n(e)}else r(t)},e=>{if(t)try{r(t(e))}catch(e){n(e)}else n(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new Jv(((t,r)=>{let n,i;return this.then((t=>{i=!1,n=t,e&&e()}),(t=>{i=!0,n=t,e&&e()})).then((()=>{i?r(n):t(n)}))}))}__init3(){this._resolve=e=>{this._setResult($v.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult($v.REJECTED,e)}}__init5(){this._setResult=(e,t)=>{this._state===$v.PENDING&&(Tv(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state!==$v.PENDING){var e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===$v.RESOLVED&&e[1](this._value),this._state===$v.REJECTED&&e[2](this._value),e[0]=!0)}))}}}}function Qv(){var e=(0,Cv.R)(),t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");var r=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&r())>>e/4).toString(16)))}function ey(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function ty(e){const{message:t,event_id:r}=e;if(t)return t;var n=ey(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function ry(e,t,r){var n=e.exception=e.exception||{},i=n.values=n.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=r||"Error")}function ny(e,t){var r=ey(e);if(r){var n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){var i={...n&&n.data,...t.data};r.mechanism.data=i}}}function iy(e){if(e&&e.__sentry_captured__)return!0;try{Mv(e,"__sentry_captured__",!0)}catch(e){}return!1}function oy(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,Xv.ph)(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:Qv()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{var r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}class ay{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){var t=new ay;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments]),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&oy(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts={...this._contexts,[e]:t},this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){var e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){var t=e(this);return t instanceof ay?t:this}return e instanceof ay?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):Ev(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,t){var r="number"==typeof t?Math.min(t,100):100;if(r<=0)return this;var n={timestamp:(0,Xv.yW)(),...e};return this._breadcrumbs=[...this._breadcrumbs,n].slice(-r),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};var r=this._span.transaction&&this._span.transaction.name;r&&(e.tags={transaction:r,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...sy(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,t,r,n=0){return new Jv(((i,o)=>{var a=e[n];if(null===t||"function"!=typeof a)i(t);else{var s=a({...t},r);Tv(s)?s.then((t=>this._notifyEventProcessors(e,t,r,n+1).then(i))).then(null,o):this._notifyEventProcessors(e,s,r,n+1).then(i).then(null,o)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function sy(){return(0,Cv.Y)("globalEventProcessors",(()=>[]))}function uy(e){sy().push(e)}(0,Cv.R)();var cy=["debug","info","warn","error","log","assert","trace"];let ly;ly=function(){let e=!1;var t={enable:()=>{e=!0},disable:()=>{e=!1}};return cy.forEach((e=>{t[e]=()=>{}})),t}();var hy=__webpack_require__(3623),dy=100;class py{__init(){this._stack=[{}]}constructor(e,t=new ay,r=4){this._version=r,py.prototype.__init.call(this),this.getStackTop().scope=t,e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){var e=ay.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){var r=this._lastEventId=t&&t.event_id?t.event_id:Qv(),n=new Error("Sentry syntheticException");return this._withClient(((i,o)=>{i.captureException(e,{originalException:e,syntheticException:n,...t,event_id:r},o)})),r}captureMessage(e,t,r){var n=this._lastEventId=r&&r.event_id?r.event_id:Qv(),i=new Error(e);return this._withClient(((o,a)=>{o.captureMessage(e,t,{originalException:e,syntheticException:i,...r,event_id:n},a)})),n}captureEvent(e,t){var r=t&&t.event_id?t.event_id:Qv();return"transaction"!==e.type&&(this._lastEventId=r),this._withClient(((n,i)=>{n.captureEvent(e,{...t,event_id:r},i)})),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:r,client:n}=this.getStackTop();if(!r||!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=dy}=n.getOptions&&n.getOptions()||{};if(!(o<=0)){var a={timestamp:(0,Xv.yW)(),...e},s=i?function(e){var t=(0,Cv.R)();if(!("console"in t))return e();var r=t.console,n={};cy.forEach((e=>{var i=r[e]&&r[e].__sentry_original__;e in t.console&&i&&(n[e]=r[e],r[e]=i)}));try{return e()}finally{Object.keys(n).forEach((e=>{r[e]=n[e]}))}}((()=>i(a,t))):a;null!==s&&r.addBreadcrumb(s,o)}}setUser(e){var t=this.getScope();t&&t.setUser(e)}setTags(e){var t=this.getScope();t&&t.setTags(e)}setExtras(e){var t=this.getScope();t&&t.setExtras(e)}setTag(e,t){var r=this.getScope();r&&r.setTag(e,t)}setExtra(e,t){var r=this.getScope();r&&r.setExtra(e,t)}setContext(e,t){var r=this.getScope();r&&r.setContext(e,t)}configureScope(e){const{scope:t,client:r}=this.getStackTop();t&&r&&e(t)}run(e){var t=gy(this);try{e(this)}finally{gy(t)}}getIntegration(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(e){return null}}startTransaction(e,t){return this._callExtensionMethod("startTransaction",e,t)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){var e=this.getStackTop(),t=e&&e.scope,r=t&&t.getSession();r&&function(e){let t={};"ok"===e.status&&(t={status:"exited"}),oy(e,t)}(r),this._sendSessionUpdate(),t&&t.setSession()}startSession(e){const{scope:t,client:r}=this.getStackTop(),{release:n,environment:i}=r&&r.getOptions()||{};var o=(0,Cv.R)();const{userAgent:a}=o.navigator||{};var s=function(e){var t=(0,Xv.ph)(),r={sid:Qv(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return Gv({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(r)};return e&&oy(r,e),r}({release:n,environment:i,...t&&{user:t.getUser()},...a&&{userAgent:a},...e});if(t){var u=t.getSession&&t.getSession();u&&"ok"===u.status&&oy(u,{status:"exited"}),this.endSession(),t.setSession(s)}return s}shouldSendDefaultPii(){var e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop();if(e){var r=e.getSession();r&&t&&t.captureSession&&t.captureSession(r)}}_withClient(e){const{scope:t,client:r}=this.getStackTop();r&&e(r,t)}_callExtensionMethod(e,...t){var r=fy().__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[e])return r.extensions[e].apply(this,t)}}function fy(){var e=(0,Cv.R)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function gy(e){var t=fy(),r=yy(t);return by(t,e),r}function my(){var e=fy();return vy(e)&&!yy(e).isOlderThan(4)||by(e,new py),(0,hy.KV)()?function(e){try{var t=fy().__SENTRY__,r=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!r)return yy(e);if(!vy(r)||yy(r).isOlderThan(4)){var n=yy(e).getStackTop();by(r,new py(n.client,ay.clone(n.scope)))}return yy(r)}catch(t){return yy(e)}}(e):yy(e)}function vy(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function yy(e){return(0,Cv.Y)("hub",(()=>new py),e)}function by(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}var _y=[];function wy(e){return e.reduce(((e,t)=>(e.every((e=>t.name!==e.name))&&e.push(t),e)),[])}function xy(e){var t=e.defaultIntegrations&&[...e.defaultIntegrations]||[],r=e.integrations;let n=[...wy(t)];Array.isArray(r)?n=[...n.filter((e=>r.every((t=>t.name!==e.name)))),...wy(r)]:"function"==typeof r&&(n=r(n),n=Array.isArray(n)?n:[n]);var i=n.map((e=>e.name)),o="Debug";return-1!==i.indexOf(o)&&n.push(...n.splice(i.indexOf(o),1)),n}function Ey(...e){var t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,r=0)=>{var n=[];for(var i of e.split("\n").slice(r)){var o=i.replace(/\(error: (.*)\)/,"$1");for(var a of t){var s=a(o);if(s){n.push(s);break}}}return function(e){if(!e.length)return[];let t=e;var r=t[0].function||"",n=t[t.length-1].function||"";return-1===r.indexOf("captureMessage")&&-1===r.indexOf("captureException")||(t=t.slice(1)),-1!==n.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,50).map((e=>({...e,filename:e.filename||t[0].filename,function:e.function||"?"}))).reverse()}(n)}}var Oy="<anonymous>";function Ty(e){try{return e&&"function"==typeof e&&e.name||Oy}catch(e){return Oy}}function Sy(){if(!("fetch"in(0,Cv.R)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function Py(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}var ky=(0,Cv.R)(),Ay={},Iy={};function Ry(e,t){Ay[e]=Ay[e]||[],Ay[e].push(t),function(e){if(!Iy[e])switch(Iy[e]=!0,e){case"console":"console"in ky&&cy.forEach((function(e){e in ky.console&&Lv(ky.console,e,(function(t){return function(...r){jy("console",{args:r,level:e}),t&&t.apply(ky.console,r)}}))}));break;case"dom":!function(){if("document"in ky){var e=jy.bind(null,"dom"),t=Fy(e,!0);ky.document.addEventListener("click",t,!1),ky.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{var r=ky[t]&&ky[t].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(Lv(r,"addEventListener",(function(t){return function(r,n,i){if("click"===r||"keypress"==r)try{var o=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},a=o[r]=o[r]||{refCount:0};if(!a.handler){var s=Fy(e);a.handler=s,t.call(this,r,s,i)}a.refCount+=1}catch(e){}return t.call(this,r,n,i)}})),Lv(r,"removeEventListener",(function(e){return function(t,r,n){if("click"===t||"keypress"==t)try{var i=this.__sentry_instrumentation_handlers__||{},o=i[t];o&&(o.refCount-=1,o.refCount<=0&&(e.call(this,t,o.handler,n),o.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,r,n)}})))}))}}();break;case"xhr":!function(){if("XMLHttpRequest"in ky){var e=XMLHttpRequest.prototype;Lv(e,"open",(function(e){return function(...t){var r=this,n=t[1],i=r.__sentry_xhr__={method:wv(t[0])?t[0].toUpperCase():t[0],url:t[1]};wv(n)&&"POST"===i.method&&n.match(/sentry_key/)&&(r.__sentry_own_request__=!0);var o=function(){if(4===r.readyState){try{i.status_code=r.status}catch(e){}jy("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:r})}};return"onreadystatechange"in r&&"function"==typeof r.onreadystatechange?Lv(r,"onreadystatechange",(function(e){return function(...t){return o(),e.apply(r,t)}})):r.addEventListener("readystatechange",o),e.apply(r,t)}})),Lv(e,"send",(function(e){return function(...t){return this.__sentry_xhr__&&void 0!==t[0]&&(this.__sentry_xhr__.body=t[0]),jy("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}}();break;case"fetch":(function(){if(!Sy())return!1;var e=(0,Cv.R)();if(Py(e.fetch))return!0;let t=!1;var r=e.document;if(r&&"function"==typeof r.createElement)try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=Py(n.contentWindow.fetch)),r.head.removeChild(n)}catch(e){}return t})()&&Lv(ky,"fetch",(function(e){return function(...t){var r={args:t,fetchData:{method:Cy(t),url:Dy(t)},startTimestamp:Date.now()};return jy("fetch",{...r}),e.apply(ky,t).then((e=>(jy("fetch",{...r,endTimestamp:Date.now(),response:e}),e)),(e=>{throw jy("fetch",{...r,endTimestamp:Date.now(),error:e}),e}))}}));break;case"history":!function(){if(r=(t=(e=(0,Cv.R)()).chrome)&&t.app&&t.app.runtime,n="history"in e&&!!e.history.pushState&&!!e.history.replaceState,!r&&n){var e,t,r,n,i=ky.onpopstate;ky.onpopstate=function(...e){var t=ky.location.href,r=Ny;if(Ny=t,jy("history",{from:r,to:t}),i)try{return i.apply(this,e)}catch(e){}},Lv(ky.history,"pushState",o),Lv(ky.history,"replaceState",o)}function o(e){return function(...t){var r=t.length>2?t[2]:void 0;if(r){var n=Ny,i=String(r);Ny=i,jy("history",{from:n,to:i})}return e.apply(this,t)}}}();break;case"error":By=ky.onerror,ky.onerror=function(e,t,r,n,i){return jy("error",{column:n,error:i,line:r,msg:e,url:t}),!!By&&By.apply(this,arguments)};break;case"unhandledrejection":Uy=ky.onunhandledrejection,ky.onunhandledrejection=function(e){return jy("unhandledrejection",e),!Uy||Uy.apply(this,arguments)}}}(e)}function jy(e,t){if(e&&Ay[e])for(var r of Ay[e]||[])try{r(t)}catch(e){}}function Cy(e=[]){return"Request"in ky&&Sv(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function Dy(e=[]){return"string"==typeof e[0]?e[0]:"Request"in ky&&Sv(e[0],Request)?e[0].url:String(e[0])}let Ny,Ly,My;function Fy(e,t=!1){return r=>{if(r&&My!==r&&!function(e){if("keypress"!==e.type)return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(r)){var n="keypress"===r.type?"input":r.type;(void 0===Ly||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(My,r))&&(e({event:r,name:n,global:t}),My=r),clearTimeout(Ly),Ly=ky.setTimeout((()=>{Ly=void 0}),1e3)}}}let By=null,Uy=null;class zy extends Error{constructor(e){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}var Hy=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Wy(e,t=!1){const{host:r,path:n,pass:i,port:o,projectId:a,protocol:s,publicKey:u}=e;return`${s}://${u}${t&&i?`:${i}`:""}@${r}${o?`:${o}`:""}/${n?`${n}/`:n}${a}`}function Gy(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Vy(e,t=[]){return[e,t]}function qy(e,t){const[r,n]=e;return[r,[...n,t]]}function Yy(e,t){e[1].forEach((e=>{var r=e[0].type;t(e,r)}))}function $y(e,t){return(t||new TextEncoder).encode(e)}function Xy(e,t){const[r,n]=e;let i=JSON.stringify(r);function o(e){"string"==typeof i?i="string"==typeof e?i+e:[$y(i,t),e]:i.push("string"==typeof e?$y(e,t):e)}for(var a of n){const[e,t]=a;o(`\n${JSON.stringify(e)}\n`),o("string"==typeof t||t instanceof Uint8Array?t:JSON.stringify(t))}return"string"==typeof i?i:function(e){var t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);let n=0;for(var i of e)r.set(i,n),n+=i.length;return r}(i)}function Ky(e,t){var r="string"==typeof e.data?$y(e.data,t):e.data;return[Gv({type:"attachment",length:r.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),r]}var Zy={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};function Jy(e){return Zy[e]}function Qy(e,t=1/0,r=1/0){try{return tb("",e,t,r)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function eb(e,t=3,r=102400){var n,i=Qy(e,t);return n=i,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(n))>r?eb(e,t-1,r):i}function tb(e,t,r=1/0,n=1/0,i=function(){var e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(r){if(e)return!!t.has(r)||(t.add(r),!1);for(let e=0;e<t.length;e++){var n=t[e];if(n===r)return!0}return t.push(r),!1},function(r){if(e)t.delete(r);else for(let e=0;e<t.length;e++)if(t[e]===r){t.splice(e,1);break}}]}()){const[o,a]=i;if(null===t||["number","boolean","string"].includes(typeof t)&&("number"!=typeof(s=t)||s==s))return t;var s,u=function(e,t){try{return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":void 0!==__webpack_require__.g&&t===__webpack_require__.g?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":function(e){return Ev(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?`[Function: ${Ty(t)}]`:"symbol"==typeof t?`[${String(t)}]`:"bigint"==typeof t?`[BigInt: ${String(t)}]`:`[object ${Object.getPrototypeOf(t).constructor.name}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!u.startsWith("[object "))return u;if(t.__sentry_skip_normalization__)return t;if(0===r)return u.replace("object ","");if(o(t))return"[Circular ~]";var c=t;if(c&&"function"==typeof c.toJSON)try{return tb("",c.toJSON(),r-1,n,i)}catch(e){}var l=Array.isArray(t)?[]:{};let h=0;var d=Uv(t);for(var p in d)if(Object.prototype.hasOwnProperty.call(d,p)){if(h>=n){l[p]="[MaxProperties ~]";break}var f=d[p];l[p]=tb(p,f,r-1,n,i),h+=1}return a(t),l}function rb(e,t={}){var r="string"==typeof t?t:t.tunnel,n="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return r||`${function(e){return`${function(e){var t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return r={sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(r).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(r[e])}`)).join("&");var r}(e,n)}`}function nb(e){if(!e||!e.sdk)return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}class ib{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(e){if(ib.prototype.__init.call(this),ib.prototype.__init2.call(this),ib.prototype.__init3.call(this),ib.prototype.__init4.call(this),this._options=e,e.dsn){this._dsn=(n="string"==typeof(r=e.dsn)?function(e){var t=Hy.exec(e);if(!t)throw new zy(`Invalid Sentry Dsn: ${e}`);const[r,n,i="",o,a="",s]=t.slice(1);let u="",c=s;var l=c.split("/");if(l.length>1&&(u=l.slice(0,-1).join("/"),c=l.pop()),c){var h=c.match(/^\d+/);h&&(c=h[0])}return Gy({host:o,pass:i,path:u,projectId:c,port:a,protocol:r,publicKey:n})}(r):Gy(r),n);var t=rb(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}var r,n}captureException(e,t,r){if(iy(e))return;let n=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,r))).then((e=>{n=e}))),n}captureMessage(e,t,r,n){let i=r&&r.event_id;var o=xv(e)?this.eventFromMessage(String(e),t,r):this.eventFromException(e,r);return this._process(o.then((e=>this._captureEvent(e,r,n))).then((e=>{i=e}))),i}captureEvent(e,t,r){if(t&&t.originalException&&iy(t.originalException))return;let n=t&&t.event_id;return this._process(this._captureEvent(e,t,r).then((e=>{n=e}))),n}captureSession(e){this._isEnabled()&&("string"!=typeof e.release||(this.sendSession(e),oy(e,{init:!1})))}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(e){var t=this._transport;return t?this._isClientDoneProcessing(e).then((r=>t.flush(e).then((e=>r&&e)))):Kv(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,e)))}setupIntegrations(){var e,t;this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=(e=this._options.integrations,t={},e.forEach((e=>{t[e.name]=e,-1===_y.indexOf(e.name)&&(e.setupOnce(uy,my),_y.push(e.name))})),t),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(e){return null}}sendEvent(e,t={}){if(this._dsn){let n=function(e,t,r,n){var i=nb(r),o=e.type||"event";const{transactionSampling:a}=e.sdkProcessingMetadata||{},{method:s,rate:u}=a||{};!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,r&&r.sdk);var c=function(e,t,r,n){var i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.baggage,o=i&&function(e){return e[0]}(i);return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!r&&{dsn:Wy(n)},..."transaction"===e.type&&o&&{trace:Gv({...o})}}}(e,i,n,t);return delete e.sdkProcessingMetadata,Vy(c,[[{type:o,sample_rates:[{id:s,rate:u}]},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(var r of t.attachments||[])n=qy(n,Ky(r,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(n)}}sendSession(e){if(this._dsn){var t=function(e,t,r,n){var i=nb(r);return Vy({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!n&&{dsn:Wy(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}}recordDroppedEvent(e,t){if(this._options.sendClientReports){var r=`${e}:${t}`;this._outcomes[r]=this._outcomes[r]+1||1}}_updateSessionFromEvent(e,t){let r=!1,n=!1;var i=t.exception&&t.exception.values;if(i)for(var o of(n=!0,i)){var a=o.mechanism;if(a&&!1===a.handled){r=!0;break}}var s="ok"===e.status;(s&&0===e.errors||s&&r)&&(oy(e,{...r&&{status:"crashed"},errors:e.errors||Number(n||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Jv((t=>{let r=0;var n=setInterval((()=>{0==this._numProcessing?(clearInterval(n),t(!0)):(r+=1,e&&r>=e&&(clearInterval(n),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(e,t,r){const{normalizeDepth:n=3,normalizeMaxBreadth:i=1e3}=this.getOptions();var o={...e,event_id:e.event_id||t.event_id||Qv(),timestamp:e.timestamp||(0,Xv.yW)()};this._applyClientOptions(o),this._applyIntegrationsMetadata(o);let a=r;t.captureContext&&(a=ay.clone(a).update(t.captureContext));let s=Kv(o);if(a){var u=[...t.attachments||[],...a.getAttachments()];u.length&&(t.attachments=u),s=a.applyToEvent(o,t)}return s.then((e=>"number"==typeof n&&n>0?this._normalizeEvent(e,n,i):e))}_normalizeEvent(e,t,r){if(!e)return null;var n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:Qy(e.data,t,r)}})))},...e.user&&{user:Qy(e.user,t,r)},...e.contexts&&{contexts:Qy(e.contexts,t,r)},...e.extra&&{extra:Qy(e.extra,t,r)}};return e.contexts&&e.contexts.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=Qy(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map((e=>(e.data&&(e.data=Qy(e.data,t,r)),e)))),n}_applyClientOptions(e){var t=this.getOptions();const{environment:r,release:n,dist:i,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?r:"production"),void 0===e.release&&void 0!==n&&(e.release=n),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=Pv(e.message,o));var a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=Pv(a.value,o));var s=e.request;s&&s.url&&(s.url=Pv(s.url,o))}_applyIntegrationsMetadata(e){var t=Object.keys(this._integrations);t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}_captureEvent(e,t={},r){return this._processEvent(e,t,r).then((e=>e.event_id),(()=>{}))}_processEvent(e,t,r){const{beforeSend:n,sampleRate:i}=this.getOptions();if(!this._isEnabled())return Zv(new zy("SDK not enabled, will not capture event."));var o="transaction"===e.type;return!o&&"number"==typeof i&&Math.random()>i?(this.recordDroppedEvent("sample_rate","error"),Zv(new zy(`Discarding event because it's not included in the random sample (sampling rate = ${i})`))):this._prepareEvent(e,t,r).then((r=>{if(null===r)throw this.recordDroppedEvent("event_processor",e.type||"error"),new zy("An event processor returned null, will not send event.");return t.data&&!0===t.data.__sentry__||o||!n?r:function(e){var t="`beforeSend` method has to return `null` or a valid event.";if(Tv(e))return e.then((e=>{if(!Ev(e)&&null!==e)throw new zy(t);return e}),(e=>{throw new zy(`beforeSend rejected with ${e}`)}));if(!Ev(e)&&null!==e)throw new zy(t);return e}(n(r,t))})).then((n=>{if(null===n)throw this.recordDroppedEvent("before_send",e.type||"error"),new zy("`beforeSend` returned `null`, will not send event.");var i=r&&r.getSession();return!o&&i&&this._updateSessionFromEvent(i,n),this.sendEvent(n,t),n})).then(null,(e=>{if(e instanceof zy)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new zy(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing+=1,e.then((e=>(this._numProcessing-=1,e)),(e=>(this._numProcessing-=1,e)))}_sendEnvelope(e){this._transport&&this._dsn&&this._transport.send(e).then(null,(()=>{}))}_clearOutcomes(){var e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[r,n]=t.split(":");return{reason:r,category:n,quantity:e[t]}}))}}var ob="7.9.0";function ab(e,t){var r=ub(e,t),n={type:t&&t.name,value:lb(t)};return r.length&&(n.stacktrace={frames:r}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function sb(e,t){return{exception:{values:[ab(e,t)]}}}function ub(e,t){var r=t.stacktrace||t.stack||"",n=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(cb.test(e.message))return 1}return 0}(t);try{return e(r,n)}catch(e){}return[]}var cb=/Minified React error #\d+;/i;function lb(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function hb(e,t,r,n,i){let o;if(bv(t)&&t.error)return sb(e,t.error);if(_v(t)||yv(t,"DOMException")){var a=t;if("stack"in t)o=sb(e,t);else{var s=a.name||(_v(a)?"DOMError":"DOMException"),u=a.message?`${s}: ${a.message}`:s;o=db(e,u,r,n),ry(o,u)}return"code"in a&&(o.tags={...o.tags,"DOMException.code":`${a.code}`}),o}return vv(t)?sb(e,t):Ev(t)||Ov(t)?(o=function(e,t,r,n){var i={exception:{values:[{type:Ov(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:`Non-Error ${n?"promise rejection":"exception"} captured with keys: ${Wv(t)}`}]},extra:{__serialized__:eb(t)}};if(r){var o=ub(e,r);o.length&&(i.exception.values[0].stacktrace={frames:o})}return i}(e,t,r,i),ny(o,{synthetic:!0}),o):(o=db(e,t,r,n),ry(o,`${t}`,void 0),ny(o,{synthetic:!0}),o)}function db(e,t,r,n){var i={message:t};if(n&&r){var o=ub(e,r);o.length&&(i.exception={values:[{value:t,stacktrace:{frames:o}}]})}return i}var pb=["fatal","error","warning","log","info","debug"];function fb(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+r+n}}var gb="Breadcrumbs";class mb{static __initStatic(){this.id=gb}__init(){this.name=mb.id}constructor(e){mb.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){var e;this.options.console&&Ry("console",vb),this.options.dom&&Ry("dom",(e=this.options.dom,function(t){let r,n="object"==typeof e?e.serializeAttribute:void 0;"string"==typeof n&&(n=[n]);try{r=t.event.target?Dv(t.event.target,n):Dv(t.event,n)}catch(e){r="<unknown>"}0!==r.length&&my().addBreadcrumb({category:`ui.${t.name}`,message:r},{event:t.event,name:t.name,global:t.global})})),this.options.xhr&&Ry("xhr",yb),this.options.fetch&&Ry("fetch",bb),this.options.history&&Ry("history",_b)}}function vb(e){var t,r={category:"console",data:{arguments:e.args,logger:"console"},level:(t=e.level,"warn"===t?"warning":pb.includes(t)?t:"log"),message:kv(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;r.message=`Assertion failed: ${kv(e.args.slice(1)," ")||"console.assert"}`,r.data.arguments=e.args.slice(1)}my().addBreadcrumb(r,{input:e.args,level:e.level})}function yb(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;const{method:t,url:r,status_code:n,body:i}=e.xhr.__sentry_xhr__||{};my().addBreadcrumb({category:"xhr",data:{method:t,url:r,status_code:n},type:"http"},{xhr:e.xhr,input:i})}}function bb(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?my().addBreadcrumb({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args}):my().addBreadcrumb({category:"fetch",data:{...e.fetchData,status_code:e.response.status},type:"http"},{input:e.args,response:e.response})))}function _b(e){var t=(0,Cv.R)();let r=e.from,n=e.to;var i=fb(t.location.href);let o=fb(r);var a=fb(n);o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(n=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),my().addBreadcrumb({category:"navigation",data:{from:r,to:n}})}mb.__initStatic();var wb=(0,Cv.R)();let xb;function Eb(){if(xb)return xb;if(Py(wb.fetch))return xb=wb.fetch.bind(wb);var e=wb.document;let t=wb.fetch;if(e&&"function"==typeof e.createElement)try{var r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r);var n=r.contentWindow;n&&n.fetch&&(t=n.fetch),e.head.removeChild(r)}catch(e){}return xb=t.bind(wb)}var Ob=(0,Cv.R)();class Tb extends ib{constructor(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:ob}],version:ob},super(e),e.sendClientReports&&Ob.document&&Ob.document.addEventListener("visibilitychange",(()=>{"hidden"===Ob.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,r,n){var i=hb(e,t,r&&r.syntheticException||void 0,n);return ny(i),i.level="error",r&&r.event_id&&(i.event_id=r.event_id),Kv(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",r){return function(e,t,r="info",n,i){var o=db(e,t,n&&n.syntheticException||void 0,i);return o.level=r,n&&n.event_id&&(o.event_id=n.event_id),Kv(o)}(this._options.stackParser,e,t,r,this._options.attachStacktrace)}sendEvent(e,t){var r=this.getIntegrationById(gb);r&&r.options&&r.options.sentry&&my().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:ty(e)},{event:e}),super.sendEvent(e,t)}_prepareEvent(e,t,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,r)}_flushOutcomes(){var e=this._clearOutcomes();if(0!==e.length&&this._dsn){var t,r,n=rb(this._dsn,this._options),i=(t=e,Vy((r=this._options.tunnel&&Wy(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:(0,Xv.yW)(),discarded_events:t}]]));try{!function(e,t){"[object Navigator]"===Object.prototype.toString.call(wb&&wb.navigator)&&"function"==typeof wb.navigator.sendBeacon?wb.navigator.sendBeacon.bind(wb.navigator)(e,t):Sy()&&Eb()(e,{body:t,method:"POST",credentials:"omit",keepalive:!0}).then(null,(()=>{}))}(n,Xy(i))}catch(e){}}}}var Sb="?";function Pb(e,t,r,n){var i={filename:e,function:t,in_app:!0};return void 0!==r&&(i.lineno=r),void 0!==n&&(i.colno=n),i}var kb=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ab=/\((\S*)(?::(\d+))(?::(\d+))\)/,Ib=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Rb=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,jb=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Cb=Ey([30,e=>{var t=kb.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){var r=Ab.exec(t[2]);r&&(t[2]=r[1],t[3]=r[2],t[4]=r[3])}const[e,n]=Db(t[1]||Sb,t[2]);return Pb(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{var t=Ib.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var r=Rb.exec(t[3]);r&&(t[1]=t[1]||"eval",t[3]=r[1],t[4]=r[2],t[5]="")}let e=t[3],n=t[1]||Sb;return[n,e]=Db(n,e),Pb(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{var t=jb.exec(e);return t?Pb(t[2],t[1]||Sb,+t[3],t[4]?+t[4]:void 0):void 0}]),Db=(e,t)=>{var r=-1!==e.indexOf("safari-extension"),n=-1!==e.indexOf("safari-web-extension");return r||n?[-1!==e.indexOf("@")?e.split("@")[0]:Sb,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function Nb(e,t){return my().captureException(e,{captureContext:t})}function Lb(e){my().withScope(e)}let Mb=0;function Fb(){return Mb>0}function Bb(){Mb+=1,setTimeout((()=>{Mb-=1}))}function Ub(e,t={},r){if("function"!=typeof e)return e;try{var n=e.__sentry_wrapped__;if(n)return n;if(Bv(e))return e}catch(t){return e}var i=function(){var n=Array.prototype.slice.call(arguments);try{r&&"function"==typeof r&&r.apply(this,arguments);var i=n.map((e=>Ub(e,t)));return e.apply(this,i)}catch(e){throw Bb(),Lb((r=>{r.addEventProcessor((e=>(t.mechanism&&(ry(e,void 0,void 0),ny(e,t.mechanism)),e.extra={...e.extra,arguments:n},e))),Nb(e)})),e}};try{for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}catch(e){}Fv(i,e),Mv(e,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:()=>e.name})}catch(e){}return i}var zb=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Hb{static __initStatic(){this.id="TryCatch"}__init(){this.name=Hb.id}constructor(e){Hb.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){var e=(0,Cv.R)();this._options.setTimeout&&Lv(e,"setTimeout",Wb),this._options.setInterval&&Lv(e,"setInterval",Wb),this._options.requestAnimationFrame&&Lv(e,"requestAnimationFrame",Gb),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&Lv(XMLHttpRequest.prototype,"send",Vb);var t=this._options.eventTarget;t&&(Array.isArray(t)?t:zb).forEach(qb)}}function Wb(e){return function(...t){var r=t[0];return t[0]=Ub(r,{mechanism:{data:{function:Ty(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function Gb(e){return function(t){return e.apply(this,[Ub(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ty(e)},handled:!0,type:"instrument"}})])}}function Vb(e){return function(...t){var r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in r&&"function"==typeof r[e]&&Lv(r,e,(function(t){var r={mechanism:{data:{function:e,handler:Ty(t)},handled:!0,type:"instrument"}},n=Bv(t);return n&&(r.mechanism.data.handler=Ty(n)),Ub(t,r)}))})),e.apply(this,t)}}function qb(e){var t=(0,Cv.R)(),r=t[e]&&t[e].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(Lv(r,"addEventListener",(function(t){return function(r,n,i){try{"function"==typeof n.handleEvent&&(n.handleEvent=Ub(n.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ty(n),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.apply(this,[r,Ub(n,{mechanism:{data:{function:"addEventListener",handler:Ty(n),target:e},handled:!0,type:"instrument"}}),i])}})),Lv(r,"removeEventListener",(function(e){return function(t,r,n){var i=r;try{var o=i&&i.__sentry_wrapped__;o&&e.call(this,t,o,n)}catch(e){}return e.call(this,t,i,n)}})))}Hb.__initStatic();class Yb{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=Yb.id}__init2(){this._installFunc={onerror:$b,onunhandledrejection:Xb}}constructor(e){Yb.prototype.__init.call(this),Yb.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;var e=this._options;for(var t in e){var r=this._installFunc[t];r&&e[t]&&(r(),this._installFunc[t]=void 0)}}}function $b(){Ry("error",(e=>{const[t,r,n]=Jb();if(!t.getIntegration(Yb))return;const{msg:i,url:o,line:a,column:s,error:u}=e;if(!(Fb()||u&&u.__sentry_own_request__)){var c=void 0===u&&wv(i)?function(e,t,r,n){let i=bv(e)?e.message:e,o="Error";var a=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return a&&(o=a[1],i=a[2]),Kb({exception:{values:[{type:o,value:i}]}},t,r,n)}(i,o,a,s):Kb(hb(r,u||i,void 0,n,!1),o,a,s);c.level="error",Zb(t,u,c,"onerror")}}))}function Xb(){Ry("unhandledrejection",(e=>{const[t,r,n]=Jb();if(!t.getIntegration(Yb))return;let i=e;try{"reason"in e?i=e.reason:"detail"in e&&"reason"in e.detail&&(i=e.detail.reason)}catch(e){}if(Fb()||i&&i.__sentry_own_request__)return!0;var o=xv(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:hb(r,i,void 0,n,!0);o.level="error",Zb(t,i,o,"onunhandledrejection")}))}function Kb(e,t,r,n){var i=e.exception=e.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},u=s.frames=s.frames||[],c=isNaN(parseInt(n,10))?void 0:n,l=isNaN(parseInt(r,10))?void 0:r,h=wv(t)&&t.length>0?t:function(){var e=(0,Cv.R)();try{return e.document.location.href}catch(e){return""}}();return 0===u.length&&u.push({colno:c,filename:h,function:"?",in_app:!0,lineno:l}),e}function Zb(e,t,r,n){ny(r,{handled:!1,type:n}),e.captureEvent(r,{originalException:t})}function Jb(){var e=my(),t=e.getClient(),r=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,r.stackParser,r.attachStacktrace]}Yb.__initStatic();class Qb{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=Qb.id}constructor(e={}){Qb.prototype.__init.call(this),this._key=e.key||"cause",this._limit=e.limit||5}setupOnce(){var e=my().getClient();e&&uy(((t,r)=>{var n=my().getIntegration(Qb);return n?function(e,t,r,n,i){if(!(n.exception&&n.exception.values&&i&&Sv(i.originalException,Error)))return n;var o=e_(e,r,i.originalException,t);return n.exception.values=[...o,...n.exception.values],n}(e.getOptions().stackParser,n._key,n._limit,t,r):t}))}}function e_(e,t,r,n,i=[]){if(!Sv(r[n],Error)||i.length+1>=t)return i;var o=ab(e,r[n]);return e_(e,t,r[n],n,[o,...i])}Qb.__initStatic();class t_{constructor(){t_.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=t_.id}setupOnce(e,t){var r=e=>{var r=t().getIntegration(t_);if(r){try{if(function(e,t){return!(!t||!function(e,t){var r=e.message,n=t.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!n_(e,t)||!r_(e,t))}(e,t)&&!function(e,t){var r=i_(t),n=i_(e);return!!(r&&n&&r.type===n.type&&r.value===n.value&&n_(e,t)&&r_(e,t))}(e,t))}(e,r._previousEvent))return null}catch(t){return r._previousEvent=e}return r._previousEvent=e}return e};r.id=this.name,e(r)}}function r_(e,t){let r=o_(e),n=o_(t);if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;if(n.length!==r.length)return!1;for(let e=0;e<n.length;e++){var i=n[e],o=r[e];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function n_(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return!(r.join("")!==n.join(""))}catch(e){return!1}}function i_(e){return e.exception&&e.exception.values&&e.exception.values[0]}function o_(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}t_.__initStatic();var a_=(0,Cv.R)();class s_{constructor(){s_.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=s_.id}setupOnce(){uy((e=>{if(my().getIntegration(s_)){if(!a_.navigator&&!a_.location&&!a_.document)return e;var t=e.request&&e.request.url||a_.location&&a_.location.href;const{referrer:n}=a_.document||{},{userAgent:i}=a_.navigator||{};var r={...t&&{url:t},headers:{...e.request&&e.request.headers,...n&&{Referer:n},...i&&{"User-Agent":i}}};return{...e,request:r}}return e}))}}function u_(e,t,r=function(e){var t=[];function r(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(n){if(!(void 0===e||t.length<e))return Zv(new zy("Not adding Promise due to buffer limit reached."));var i=n();return-1===t.indexOf(i)&&t.push(i),i.then((()=>r(i))).then(null,(()=>r(i).then(null,(()=>{})))),i},drain:function(e){return new Jv(((r,n)=>{let i=t.length;if(!i)return r(!0);var o=setTimeout((()=>{e&&e>0&&r(!1)}),e);t.forEach((e=>{Kv(e).then((()=>{--i||(clearTimeout(o),r(!0))}),n)}))}))}}}(e.bufferSize||30)){let n={};return{send:function(i){var o=[];if(Yy(i,((t,r)=>{var i=Jy(r);!function(e,t,r=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>r}(n,i)?o.push(t):e.recordDroppedEvent("ratelimit_backoff",i)})),0===o.length)return Kv();var a=Vy(i[0],o),s=t=>{Yy(a,((r,n)=>{e.recordDroppedEvent(t,Jy(n))}))};return r.add((()=>t({body:Xy(a,e.textEncoder)}).then((e=>{void 0!==e.statusCode&&(e.statusCode<200||e.statusCode),n=function(e,{statusCode:t,headers:r},n=Date.now()){var i={...e},o=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(o)for(var s of o.trim().split(",")){const[e,t]=s.split(":",2);var u=parseInt(e,10),c=1e3*(isNaN(u)?60:u);if(t)for(var l of t.split(";"))i[l]=n+c;else i.all=n+c}else a?i.all=n+function(e,t=Date.now()){var r=parseInt(`${e}`,10);if(!isNaN(r))return 1e3*r;var n=Date.parse(`${e}`);return isNaN(n)?6e4:n-t}(a,n):429===t&&(i.all=n+6e4);return i}(n,e)}),(()=>{s("network_error")})))).then((e=>e),(e=>{if(e instanceof zy)return s("queue_overflow"),Kv();throw e}))},flush:e=>r.drain(e)}}function c_(e,t=Eb()){return u_(e,(function(r){var n={body:r.body,method:"POST",referrerPolicy:"origin",headers:e.headers,...e.fetchOptions};return t(e.url,n).then((e=>({statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}))}function l_(e){return u_(e,(function(t){return new Jv(((r,n)=>{var i=new XMLHttpRequest;for(var o in i.onerror=n,i.onreadystatechange=()=>{4===i.readyState&&r({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url),e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&i.setRequestHeader(o,e.headers[o]);i.send(t.body)}))}))}s_.__initStatic();var h_=[new Rv,new Yv,new Hb,new mb,new Yb,new Qb,new t_,new s_];function d_(e){e.startSession({ignoreDuration:!0}),e.captureSession()}var p_={};function f_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g_{constructor(e,t){f_(this,"buttonStream",void 0),f_(this,"exitFullscreenStream",void 0),this.buttonStream=e,this.exitFullscreenStream=t}}function m_(e){return fetch(e).then((e=>e.ok?e.json().then((e=>"fail"===e.rsp.stat?Promise.reject(new Error("Failed to decode json object while loading streams")):e.rsp._content.stream)):Promise.reject(new Error("Failed to load streams from the server"))))}function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v_(Object(r),!0).forEach((function(t){b_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var __=Fe().h3(["margin-bottom:18px;text-align:center;"]),w_=Fe().span(["color:",";display:",";font-size:","px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;margin-top:","px;"],Ae,(e=>{var{oneLine:t}=e;return t?"inline":"block"}),(e=>{var{large:t}=e;return t?20:16}),(e=>{var{oneLine:t,large:r}=e;return t?r?20:0:10})),x_=e=>(0,z.jsx)(__,y_(y_({},e),{},{children:(0,z.jsx)(w_,{children:"Here's more to read..."})}));function E_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class O_ extends Ne.Component{constructor(e){super(e),E_(this,"stream",void 0),E_(this,"onClickStreamItem",((e,t)=>{this.props.onClickElement(e,t)})),E_(this,"_documentPageUrl",((e,t)=>{var r=this.props.config.origins.main+"/"+e.content.ownerUsername+"/docs/"+e.content.publicationName,n="?streamOrigin="+encodeURIComponent(e.origin.join(";"))+"&streamRanking="+t;return n+=st(this.props.embedTrackingQuery,"&"),r.toLowerCase()+n})),E_(this,"_imgUrl",(e=>{var t=e.content.revisionId+"-"+e.content.publicationId;return this.props.config.origins.image+"/"+t+"/jpg/page_1_thumb_large.jpg"})),E_(this,"_getCoverMarkup",((e,t)=>{var r=e.content.height/e.content.width,n=e.content.revisionId+"-"+e.content.publicationId,i=this._imgUrl(e),o=this._documentPageUrl(e,t),a={backgroundImage:"url("+i+")",border:void 0},s=this.props.openInNewTab?"_blank":"_top";return(0,z.jsx)("a",{className:"stream-list__item stream-list__cover",href:o,onClick:()=>this.onClickStreamItem(e,t),style:a,target:s,title:e.content.title,children:(0,z.jsx)("div",{className:"stream-list__item-aspect",style:{paddingTop:100*r+"%"}})},n)})),this.stream=Ne.createRef()}UNSAFE_componentWillUpdate(e){var t;if(!this.props.isVisible&&e.isVisible&&e.animate)null===(t=this.stream.current)||void 0===t||t.classList.add("stream-list--animate");else if(this.props.isVisible&&!e.isVisible){var r;null===(r=this.stream.current)||void 0===r||r.classList.remove("stream-list--animate")}}render(){var e=this.props.showAsColumns&&2!==this.props.stream.length,t=xc()("stream-list",{"stream-list--columns":e,"stream-list--shelf":!e}),r=this.props.stream;return(0,z.jsx)("div",{className:t,ref:this.stream,children:r.map(((e,t)=>this._getCoverMarkup(e,t)))})}}function T_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}E_(O_,"displayName","StreamList");class S_ extends Ne.Component{constructor(){super(...arguments),T_(this,"_visibilityTime",void 0),T_(this,"onClickStreamItem",((e,t)=>{this.props.metrics.onMoreContentDocumentClick({revisionId:e.content.revisionId,publicationId:e.content.publicationId,ownerUsername:e.content.ownerUsername,publicationName:e.content.publicationName,streamOrigin:e.origin,streamRanking:t})})),T_(this,"onClickSeeMore",(()=>{this.props.metrics.monitor("reader3-readmore-seemore",{click:1,msToClick:Date.now()-(this._visibilityTime?this._visibilityTime:0)},!0)})),T_(this,"trackOnVisible",(e=>{e.map(((e,t)=>{this.props.metrics.onMoreContentDocumentShow({revisionId:e.content.revisionId,publicationId:e.content.publicationId,ownerUsername:e.content.ownerUsername,publicationName:e.content.publicationName,pageNumber:1,streamOrigin:e.origin,streamRanking:t})})),this.showReadmoreButton(e)&&this.props.metrics.monitor("reader3-readmore-seemore",{impression:1}),this.showHeader(e)&&this.props.metrics.monitor("reader3-readmore-logo",{impression:1}),this._visibilityTime=Date.now()})),T_(this,"decideStream",(()=>{if(!this.props.streamState)return[];var e=this.props.exitedFullscreen?this.props.streamState.exitFullscreenStream:this.props.streamState.buttonStream;return this.props.shouldHackStreamCount?e.slice(0,3):e})),T_(this,"showHeader",(e=>this.props.showAsOverlay||e.length>1)),T_(this,"showReadmoreButton",(e=>4===e.length&&(!this.props.showAsOverlay||window.innerHeight>400))),T_(this,"seeMoreUrl",(()=>this.props.showOwnDocuments&&this.props.username?this.props.config.origins.main+"/"+this.props.username:this.props.config.origins.main+"/explore"+st(this.props.embedTrackingQuery)))}componentDidUpdate(e){!e.isVisible&&this.props.isVisible&&this.trackOnVisible(this.decideStream())}render(){var e=this.decideStream();if(!e||0===e.length||!this.props.showMore)return null;var t=window.innerWidth<window.innerHeight,r=t&&this.props.showAsOverlay,n=this.seeMoreUrl(),i=xc()("readmore",{"readmore--overlay":this.props.showAsOverlay,"readmore--overlay-landscape":this.props.showAsOverlay&&!t,"readmore--overlay-portrait":this.props.showAsOverlay&&t,"readmore--dropdown-4-items":!this.props.showAsOverlay&&4===e.length,"readmore--dropdown-3-items":!this.props.showAsOverlay&&3===e.length,"readmore--dropdown-2-items":!this.props.showAsOverlay&&2===e.length,"readmore--dropdown-1-items":!this.props.showAsOverlay&&1===e.length}),o=this.props.openInNewTab?"_blank":"_top";return(0,z.jsxs)("div",{className:i,"data-testid":"more-content",children:[this.showHeader(e)&&(0,z.jsx)(x_,{large:this.props.showAsOverlay&&window.innerHeight>360&&!t,oneLine:!this.props.showAsOverlay}),(0,z.jsx)(O_,{animate:!r,config:this.props.config,embedTrackingQuery:this.props.embedTrackingQuery,isVisible:this.props.isVisible,onClickElement:this.onClickStreamItem,openInNewTab:this.props.openInNewTab,publicationId:this.props.publicationId,publisherUsername:this.props.username,showAsColumns:r,stream:e}),this.showReadmoreButton(e)&&(0,z.jsx)("div",{className:"readmore__see-more-wrapper",children:(0,z.jsx)("a",{"aria-label":"Read more",className:"readmore__see-more",href:n,onClick:this.onClickSeeMore,role:"button",target:o,children:"Read more on Issuu"})})]})}}function P_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k_(){return window.innerWidth<470&&window.innerWidth>window.innerHeight}T_(S_,"displayName","MoreContent");class A_{constructor(e){var{metrics:t,embedTrackingQuery:r="",show:n="RELATED",alwaysOverlay:i=!1,hideWhenNotInFullscreen:o=!1,openInNewTab:a=!0}=e;P_(this,"metrics",void 0),P_(this,"show",void 0),P_(this,"showMore",!1),P_(this,"embedTrackingQuery",""),P_(this,"alwaysOverlay",void 0),P_(this,"hideWhenNotInFullscreen",void 0),P_(this,"openInNewTab",void 0),P_(this,"showOwnDocuments",void 0),P_(this,"publicationId",""),P_(this,"username",""),P_(this,"unreadCount",void 0),P_(this,"streamState",void 0),this.metrics=t,this.show=n,this.embedTrackingQuery=r,this.alwaysOverlay=i,this.hideWhenNotInFullscreen=o,this.openInNewTab=a,this.showOwnDocuments="OWN_DOCUMENTS"===this.show}async load(e,t,r,n,i){if(this.showMore=this.shouldShowMore(n,i),this.showOwnDocuments=this.shouldShowOwnDocuments(n),this.publicationId=t,this.username=r,!this.showMore)return Promise.resolve(!1);var o=await function(e,t,r,n){var i,o;return n?(i=function(e,t,r){return m_(e+"/call/stream/web/embed/read_more_from_paying_publisher/initial?ownerUsername="+r+"&publicationId="+t+"&pageSize=8")}(e,t,r),o=function(e,t,r){return m_(e+"/call/stream/web/embed/read_more_from_paying_publisher_from_fullscreen/initial?ownerUsername="+r+"&publicationId="+t+"&pageSize=8")}(e,t,r)):(i=function(e,t){return m_(e+"/call/stream/web/embed/read_more_by_button_click/initial?publicationId="+t+"&seed=42&pageSize=8")}(e,t),o=function(e,t){return m_(e+"/call/stream/web/embed/read_more_exit_from_fullscreen/initial?publicationId="+t+"&seed=42&pageSize=8")}(e,t)),Promise.all([i,o]).then((e=>new g_(e[0],e[1])))}(e,t,r,this.showOwnDocuments);return this.streamState=o,!0}shouldShowOwnDocuments(e){return"OWN_DOCUMENTS"===this.show&&e}shouldShowRelated(e,t){return"RELATED"===this.show||"RELATED_FOR_FREE_PUBLISHERS"===this.show&&!t||"OWN_DOCUMENTS"===this.show&&!e&&!t}shouldShowMore(e,t){return this.shouldShowRelated(e,t)||this.shouldShowOwnDocuments(e)}shouldAlwaysBeOverlay(){return this.alwaysOverlay}hasStreamData(){return!!(this.streamState&&this.streamState.buttonStream&&this.streamState.buttonStream.length>0)}shouldRenderButton(e,t,r){return!(this.hideWhenNotInFullscreen&&!r)&&this.hasStreamData()&&this.shouldShowMore(e,t)}shouldRenderExitFullscreenOverlay(e,t){return!this.hideWhenNotInFullscreen&&this.hasStreamData()&&this.shouldShowMore(e,t)}getButtonUnreadCount(){var e;return(e=void 0!==this.unreadCount?this.unreadCount:this.streamState&&this.streamState.buttonStream?this.streamState.buttonStream.length:void 0)&&k_()&&(e=Math.min(e,3)),e}clearButtonUnreadCount(){this.unreadCount=0}render(e,t,r,n){return(0,z.jsx)(S_,{config:e,embedTrackingQuery:this.embedTrackingQuery,exitedFullscreen:t,isVisible:r,metrics:this.metrics,openInNewTab:this.openInNewTab,publicationId:this.publicationId,shouldHackStreamCount:k_(),showAsOverlay:n,showMore:this.showMore,showOwnDocuments:this.showOwnDocuments,streamState:this.streamState,username:this.username})}}function I_(e){try{window.parent.postMessage(e,"*")}catch(e){}}function R_(e,t){var{sessionId:r,embedType:n,metrics:i,isRobot:o,embedTrackingQuery:a,publicApiIdentifier:s,fullscreenFallbackArgs:u}=t,c={documentPath:e.documentPath,initialPageNumber:e.initialPageNumber,embedConfig:{embedType:n,isEmbed:!0,autoFlip:!!e.autoFlip,viewMode:"singlePage"===e.pageLayout?"SINGLE_PAGE_SPREAD":"DOUBLE_PAGE_SPREAD",shareButtonEnabled:!!e.enableShare,proSidebarEnabled:!!e.enableSeeMore,backgroundColor:e.bgColor,fullscreenBackgroundColor:e.fullscreenBgColor,logo:e.fullscreenLogo,backgroundImage:e.fullscreenBgImage,backgroundTile:!!e.fullscreenBgImageTile,backgroundStretch:!!e.fullscreenBgImageStretch},features:{showIssuuBranding:!!e.enablePoweredByIssuu}},l=document.getElementById("app");if(!l)throw new Error("unexpected missing markup");var h=document.createElement("div");h.setAttribute("id","root"),l.appendChild(h);var d=et(),p=_e({origins:d,documentPath:c.documentPath,metrics:i,sessionId:r,isRobot:!1});o?function(e,t,r){Hr().render((0,z.jsx)(H,{documentPath:r.documentPath,embedId:t,initialPageNumber:r.initialPageNumber,mainOrigin:Qe()}),e)}(h,i.embedId,c):function(e,t){var{metrics:r,publicApiIdentifier:n,sessionId:i,embedTrackingQuery:o,rootElement:a,fullscreenFallbackArgs:s,connector:u}=t,c=e.embedConfig.backgroundColor;c||!r.embedId||r.embedId.startsWith("0/")||(c="rgba(0, 0, 0, 0.1)"),c||r.monitor("reader3-embed.backgroundcolor.default");var l=null;if(e.embedConfig.backgroundImage){var h=null;e.embedConfig.backgroundStretch?h="STRETCH":e.embedConfig.backgroundTile||(h="TOP_LEFT"),h&&(l={url:e.embedConfig.backgroundImage,style:h,hideWhenNotInFullscreen:!0})}var d=null;e.embedConfig.logo&&(d={url:e.embedConfig.logo,hideWhenNotInFullscreen:!0});var p,f,g=et(),m=function(e){var t,r,{metrics:n,network:i,trackerConfig:o,gaTracker:a,quantcastTracker:s,features:u,readMorePlugin:c,connector:l,experiment:h}=e,d=class{static isWebGLSupported(){try{var e=df(document.createElement("canvas"));return!!e&&(function(e){[].push(function(e){var t=e.getExtension("OES_standard_derivatives");if(!t)throw new Error("does not support extension ");return t}(e));var t=e.createProgram();if(!t)throw new Error("Couldn't create program");var r=dv(e,"\nprecision highp float;\nattribute vec2 vertex;\nvarying vec3 v[8];\nvoid main(void) {\n    v[0] = vec3(0); // Maximum varying vector count exceeded\n    v[1] = vec3(1); // Maximum varying vector count exceeded\n    v[2] = vec3(2); // Maximum varying vector count exceeded\n    v[3] = vec3(3); // Maximum varying vector count exceeded\n    v[4] = vec3(4); // Maximum varying vector count exceeded\n    v[5] = vec3(5); // Maximum varying vector count exceeded\n    v[6] = vec3(6); // Maximum varying vector count exceeded\n    v[7] = vec3(7); // Maximum varying vector count exceeded\n\n    vec2 p = 2.0 * vertex - 1.0;\n    gl_Position = vec4(p.x, -p.y, 0.0, 1.0);\n}\n",e.VERTEX_SHADER),n=dv(e,"\n#extension GL_OES_standard_derivatives : require\nprecision highp float;\nvarying vec3 v[8];\nvoid main(void) {\n    vec3 d = smoothstep(0.0, v[3].x, dFdx(vec3(v[1])) * fwidth(v[2])); // Undeclared identifier 'dFdx'\n    if (gl_FrontFacing) { // This hardware is unable to support gl_FrontFacing\n        gl_FragColor = vec4(1, d.x, 0, 1);\n    } else {\n        gl_FragColor = vec4(0, d.x, 1, 1);\n    }\n}\n",e.FRAGMENT_SHADER);if(e.attachShader(t,r),e.attachShader(t,n),e.linkProgram(t),!e.getProgramParameter(t,e.LINK_STATUS))throw new Error("Cannot link shaderprogram: "+e.getProgramInfoLog(t));var i=e.getAttribLocation(t,"vertex");e.enableVertexAttribArray(i);var o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),e.STATIC_DRAW),e.vertexAttribPointer(t.vertex,2,e.FLOAT,!1,0,0);var a=e.createTexture();e.bindTexture(e.TEXTURE_2D,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,hv,hv,0,e.RGBA,e.UNSIGNED_BYTE,null);var s=e.createFramebuffer();if(e.bindFramebuffer(e.FRAMEBUFFER,s),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0),e.viewport(0,0,hv,hv),e.useProgram(t),e.drawArrays(e.TRIANGLE_STRIP,0,4),!pv(e,255,0,0,255))throw new Error("did not render correct color (frontfacing)");if(e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,1,1,0]),e.STATIC_DRAW),e.drawArrays(e.TRIANGLE_STRIP,0,4),!pv(e,0,0,255,255))throw new Error("did not render correct color (backfacing)");e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteFramebuffer(s),e.deleteTexture(a),e.deleteBuffer(o),e.detachShader(t,r),e.deleteShader(r),e.detachShader(t,n),e.deleteShader(n),e.deleteProgram(t)}(e),!0)}catch(e){return!1}}}.isWebGLSupported();n.monitor("READER3_WEBGL",{webgl:d?1:0,no_webgl:d?0:1}),function(e){e.monitor("READER3_POLYFILLS",{"whatwg-fetch":window.fetch.polyfill?1:0})}(n);var p={queue:[],loaded:new Set,loading:new Set,loadingCount:0},f=e.document?e.document.embedId:null,g=new uv(n),m=function(e,t){var r={ON_DOCUMENT_LOAD_EVENT:Cm,ON_PAGE_CHANGE_EVENT:Cm,ON_INTERACTED_EVENT:Cm,ON_ENTER_FULLSCREEN:Cm,ON_EXIT_FULLSCREEN:Cm,ON_LARGE_VIEW_CLICK:Cm};return{types:{ENABLE_TRACKING:"ENABLE_TRACKING",EMBED_PREVIEW:"EMBED_PREVIEW"},middleware:e=>n=>i=>{var o=n(i),a=e.getState();try{switch(i.type){case Ru:r.ON_ENTER_FULLSCREEN();break;case ju:r.ON_EXIT_FULLSCREEN();break;case Ws:var s=Sa(a);r.ON_DOCUMENT_LOAD_EVENT(s);break;case _i:if(i.currentPagesHasChanged){var{currentPageNumbers:u}=i;r.ON_PAGE_CHANGE_EVENT(u)}break;case is:r.ON_INTERACTED_EVENT();break;case"LARGE_VIEW_BUTTON_CLICKED":r.ON_LARGE_VIEW_CLICK()}}catch(e){t(e)}return o},api:t=>({beginTrackingReads:()=>{t.dispatch({type:"ENABLE_TRACKING"})},toggleFullscreen:()=>{t.dispatch(Hu())},showFindDialog:()=>{t.dispatch(Qi())},embedPreview:(r,n)=>{t.dispatch(function(e,t,r){var n=[Co,Lo,jo,Ro,No,Do],i=(e,t)=>{var r=t(),n=Si(r);r.readMorePlugin&&"user"===n.documentPath.type&&r.readMorePlugin.load(r.config.origins.main,n.publicationId,n.documentPath.username,Go(r),Vo(r)).then((t=>{t&&e(Bu())}))};return function(o,a){o({type:"EMBED_PREVIEW",embedConfig:t,readMorePlugin:r});var s=Pa(a());o(us(ji(s,t.startPage))),t.noRelatedEnabled?(o(Xo(n.concat([Mo]))),o(i)):e.whenLicensesFetched().then((e=>{o(Xo(Array.from(new Set(n.concat(e))))),o(i)}))}}(e,r,n))},getPageNumbers:()=>Sa(t.getState()),getPageCount:()=>Si(t.getState()).pageCount,setPageNumber:e=>{t.dispatch(function(e){return function(t,r){return t(us(ji(Pa(r()),e)))}}(e))},goToPreviousPage:()=>{t.dispatch(cs())},goToNextPage:()=>{t.dispatch(ls())},hideLargeViewButton:()=>{t.dispatch({type:"LARGE_VIEW_HIDE"})},showLargeViewEngagedButton:()=>{t.dispatch({type:"LARGE_VIEW_SHOW_ENGAGED"})},showLargeViewDisengagedButton:()=>{t.dispatch({type:"LARGE_VIEW_SHOW_DISENGAGED"})},setCallback:(e,t)=>{r.hasOwnProperty(e)&&(r[e]=t)}})}}(l,Vt),v=new ic(n,o.sessionId),y=(e=>function(t,r){try{if(Sn()){var n=JSON.parse(sessionStorage.getItem(On)||"{}");if(n[r.documentId]&&n[r.documentId].includes(t))return Promise.resolve();n[r.documentId]=[...n[r.documentId]||[],t],sessionStorage.setItem(On,JSON.stringify(n));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return e.track(t,r,...o)}return Promise.resolve()}catch{return Promise.resolve()}})(e.mixpanel),b=[fv({featureTracker:v,mixpanelOnceTracker:y,preloadingCache:p}),nn,Fm,Um(n),zm(n),()=>e=>t=>{var r=e(t);return t.type===is&&window.Cookiebot&&!window.Cookiebot.hasResponse&&window.Cookiebot.regulations&&!window.Cookiebot.regulations.gdprApplies&&window.CookiebotDialog&&"implied"===window.CookiebotDialog.consentLevel&&window.CookiebotDialog.submitConsent(!0,document.location.href),r},Hm(n),Bm(o.startTrackingOnLoad),m.middleware];if(s){var _=new lv(s);b.push(function(e,t){return r=>n=>i=>{var o=n(i),a=r.getState();try{switch(i.type){case Ws:e.onDocumentLoaded(i.currentPageNumbers);break;case _i:a.reader.isReady&&i.currentPagesHasChanged&&e.onPageChanged(i.currentPageNumbers)}}catch(e){e instanceof Error&&t(e)}return o}}(_,Vt))}if(a){var w=new av(a);b.push(function(e,t){return r=>n=>i=>{var o=n(i),a=r.getState();try{switch(i.type){case Ws:var s=Wa(a);e.onDocumentLoaded(s,i.pageNumber,i.currentPageNumbers);break;case _i:a.reader.isReady&&i.currentPagesHasChanged&&e.onPageChanged(i.currentPageNumbers)}}catch(e){e instanceof Error&&t(e)}return o}}(w,Vt))}var x=(e.document?e.document.initialPageNumber:1)||1,E=null!==(t=null===(r=e.document)||void 0===r?void 0:r.isPromotedContent)&&void 0!==t&&t,O=en,T=Zr(function(e,t,r,n,i,o,a,s,u,c,l){var h,d=function(e,t){return void 0===t&&(t=1),function(r,n){return void 0===r&&(r=iv(e,t)),function(e,t){switch(t.type){case"SET_TARGET_SPREAD_INDEX":return function(e,t){return Object.assign({},e,{targetSpreadIndex:t.index})}(e,t);case"SET_INTERACTING_WITH_CONTROLS":return function(e,t){return Object.assign({},e,{interactingWithControls:t.val})}(e,t);case as:return function(e){return Object.assign({},e,{interactedWithReader:!0})}(e);case"SET_HOVERING_OVER_CONTROLS":return tv(e,t.val);case vc:return tv(e,!1);case _i:return nv(function(e,t){return Object.assign({},e,{visiblePageNumbers:t.visiblePageNumbers,currentPageNumbers:t.currentPageNumbers,currentSpreadIndex:t.currentSpreadIndex,currentPageNumber:t.currentPageNumber,positionInPercent:t.positionInPercent,targetSpreadIndex:t.currentSpreadIndex===e.targetSpreadIndex?-1:e.targetSpreadIndex})}(e,t),{hasPageChanged:!!t.currentPagesHasChanged});case"READER_ZOOM_LEVEL_CHANCED":return nv(function(e,t){return Object.assign({},e,{zoomLevel:t.zoomLevel})}(e,t));case"LARGE_VIEW_HIDE":return rv(e,vg);case"LARGE_VIEW_SHOW_ENGAGED":return rv(e,yg);case"LARGE_VIEW_SHOW_DISENGAGED":return rv(e,"DISENGAGED");case"EMBED_PREVIEW":return function(e){return Object.assign({},e,{interactedWithReader:!1})}(e);case Ws:return function(e,t){var{pageNumber:r,targetSpreadIndex:n,currentPageNumbers:i}=t;return Object.assign({},e,{targetSpreadIndex:n,currentPageNumbers:i,currentPageNumber:r,isReady:!0})}(e,t);case"SET_IS_IDLE":return function(e,t){return Object.assign({},e,{isIdle:t.isIdle})}(e,t);case"SET_SMARTZOOM_TUTORIAL_VISIBILITY":return function(e,t){return Qm(Qm({},e),{},{smartzoomTutorialVisibility:t})}(e,t.visibility);case"@reader3/find/FIND_OPEN_DIALOG":case"TOGGLE_DROPDOWN":return nv(e);default:return e}}(r,n)}}(o,i),p=function(e,t){return void 0===e&&(e=Km),function(e,t){switch(t.type){case Hs:return{status:"loading-status@LOADING",loadStartTime:t.timeStamp};case Ws:if("loading-status@LOADING"!==e.status)throw new Error("Can not return SUCCESS without LOADING ("+e.status+")");return{status:"loading-status@SUCCESS",loadStartTime:e.loadStartTime,loadSuccessTime:t.timeStamp};case Gs:if("loading-status@LOADING"!==e.status)throw new Error("Can not return FAILED without LOADING ("+e.status+")");return{status:"loading-status@FAILED",loadStartTime:e.loadStartTime,loadFailureTime:t.timeStamp,error:t.error};default:return e}}(e,t)},f=function(e){return function(t,r){return void 0===t&&(t=e),function(e,t){if("EMBED_PREVIEW"===t.type){var r=t.embedConfig,n=Object.assign({},e,{autoFlip:r.autoFlip,hideFullScreenButton:!!r.hideFullScreenButton,backgroundImage:$m(r),logo:Xm(r),backgroundColor:r.backgroundColor,fullscreenBackgroundColor:r.fullscreenBackgroundColor,readModeRules:{defaultMode:"singlePage"===r.viewMode?"SINGLE_PAGE_SPREAD":"DOUBLE_PAGE_SPREAD",responsiveModeWhen:"HANDHELD_IN_PORTRAIT_IN_FULLSCREEN"}});return n.controls=n.controls.map((e=>"FEATURE_SHARE_DIALOG"===e.type?Object.assign({},e,{customizedToNotShow:!r.shareButtonEnabled}):e)),n}return e}(t,r)}}(o),g=function(e,t){return void 0===e&&(e=Gm),function(e,t){switch(t.type){case Ml:return function(e,t){return Object.assign(Wm(e),{visibleDropdown:t!==e.visibleDropdown?t:null})}(e,t.dropdown);case Mu:return function(e){return Object.assign(Wm(e),{readMoreDropdownVisible:!0})}(e);case Fu:case rs:case ns:case Au:case Iu:return Wm(e);case _i:return t.isDragging?Wm(e):e;case os:return t.isPinching?Wm(e):e;case"DOWNLOAD_READY":case"DOWNLOAD_LOADING":case"DOWNLOAD_SUCCESS":case"DOWNLOAD_FAILURE":return Wm(e);default:return e}}(e,t)},m=function(e,t){switch(void 0===e&&(e=Cu),t.type){case Au:return Pu(Pu({},e),{},{enabled:t.fullscreenMethod===vu});case Iu:return Pu(Pu({},e),{},{enabled:!1});default:return e}},v=function(e,t){switch(void 0===e&&(e=zu),t.type){case Nu:return Object.assign({},e,{loaded:!0});case Mu:return Object.assign({},e,{forceOverlay:!1});case Fu:return Object.assign({},e,{exitedFullscreen:!1});case Ru:return t.fullscreenMethod===vu?e:Object.assign({},e,{exitedFullscreen:!0,forceOverlay:!0});case ju:return Object.assign({},e,{exitedFullscreen:!0,forceOverlay:!0});case"EMBED_PREVIEW":return Object.assign({},zu);default:return e}},y=function(e){return function(t,r){switch(void 0===t&&(t=Ap(e)),r.type){case Ep:return wp(wp({},t),{},{supportsWebGL:!1});case Op:return wp(wp({},t),{},{forceTo2D:!1});case Tp:return wp(wp({},t),{},{forceTo2D:!0});case Sp:return wp(wp({},t),{},{maxDrawingBufferWidth:r.width});case Pp:return wp(wp({},t),{},{maxDrawingBufferHeight:r.height});default:return t}}}(u),b=function(e,t){switch(void 0===e&&(e=yc),t.type){case mc:case vc:return fc(fc({},e),{},{width:t.width,height:t.height});default:return e}},_=function(e,t){return void 0===e&&(e=yp),t.type===mp?Object.assign({},e,t.api):e},w=function(e,t){switch(void 0===e&&(e=Zi),t.type){case Wi:return Ni(Ni({},e),{},{isVisible:!0});case Vi:return Ni(Ni({},e),{},{textInfoUrl:t.url,version:t.version});case qi:return Ni(Ni({},e),{},{textInfo:Fi});case Yi:return Ni(Ni({},e),{},{textInfo:Bi});case $i:return Ni(Ni({},e),{},{textInfo:t.textInfo});case Xi:return Ni(Ni({},e),{},{results:t.results,currentResultIdx:t.currentResultIdx});case Gi:return Ni(Ni({},e),{},{currentResultIdx:t.idx});case Ki:return Ni(Ni({},e),{},{latestQuery:t.value});case _i:if(e.results&&null!==e.currentResultIdx){var r=t.currentPageNumbers,n=e.results[e.currentResultIdx];if(n&&!r.includes(n.pageNo)){var i=e.results.findIndex((e=>r.includes(e.pageNo)));if(i>=0)return Ni(Ni({},e),{},{currentResultIdx:i})}}return e;default:return e}},x=(void 0===(h=o.disableLicenseCheck)&&(h=!1),function(e,t){if(void 0===e&&(e=Zo(h)),!t)return e;switch(t.type){case $o:return Po(Po({},e),{},{status:Ao,list:t.list});case Ko:return Po(Po({},e),{},{status:Io});default:return e}}),E=function(e,t,r,n){return function(i){return void 0===i&&(i=Zl(e,t,r,n)),i}}(e,t,r,n),O=function(e,t){switch(void 0===e&&(e=Vm),t.type){case Gf:return Object.assign({},e,{youtubeApiReady:!0});case Vf:return Object.assign({},e,{activeVideoLink:t.videoLink});default:return e}},T=(e=>function(t){return void 0===t&&(t=Ze(e)),t})(c);Ei.isPromotedContent=l;var S={metadata:Ei,pages:qm,links:Rs,canvasContext:Ap(u),download:ml,fullscreen:Cu,headerControls:Gm,loading:Km,reader:iv(o,i),readmore:zu,paywall:_t,size:yc,videoOverlay:Os,inlineVideo:Vm,visibility:bc,features:o,canvasApi:yp,find:Zi,licenses:Zo(o.disableLicenseCheck),config:Zl(e,t,r,n),featureTracker:a,experiment:Ze(c),readMorePlugin:s,smartnav:Ms};return function(e,t){if(t.type.startsWith("SET_STATE"))return t.state;var r=e||S;return{metadata:Ri(r.metadata,t),pages:Ym(r.pages,t),links:js(r.links,t),canvasContext:y(r.canvasContext,t),download:vl(r.download,t),fullscreen:m(r.fullscreen,t),headerControls:g(r.headerControls,t),loading:p(r.loading,t),reader:d(r.reader,t),readmore:v(r.readmore,t),paywall:wt(r.paywall,t),size:b(r.size,t),videoOverlay:Ts(r.videoOverlay,t),inlineVideo:O(r.inlineVideo,t),visibility:_c(r.visibility,t),features:f(r.features,t),canvasApi:_(r.canvasApi,t),find:w(r.find,t),licenses:x(r.licenses,t),config:E(r.config),featureTracker:a,readMorePlugin:"EMBED_PREVIEW"===t.type?t.readMorePlugin:r.readMorePlugin||s,experiment:T(r.experiment),smartnav:Fs(r.smartnav,t)}}}(i,o.sessionId,o.embedTrackingQuery,f,x,u,v,c||null,d,h,E),e.preloadedState,O(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error(qr(15))},i={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return n=en.apply(void 0,o)(r.dispatch),Vr(Vr({},r),{},{dispatch:n})}}}(...b))),S=(0,z.jsx)(Jt,{store:T,children:(0,z.jsx)(jm,{documentConnector:l,featureTracker:v,loadStatsTracker:g,metrics:n,trackOnceMixpanel:y})}),P=m.api(T);return window.ISSUU_READER_STORE=T,window.ISSUU_READER_OBJECT=S,window.ISSUU_READER_EXTERNAL_API=P,{reader:S,api:P,store:T}}({document:{initialPageNumber:e.initialPageNumber,embedId:r.embedId},connector:u,network:{origins:g},features:{controls:[{type:"FEATURE_DOWNLOAD"},{type:"FEATURE_SHARE_DIALOG",customizedToNotShow:!e.embedConfig.shareButtonEnabled},{type:"FEATURE_NAVIGATION_ARROWS"},{type:"FEATURE_ZOOM"},{type:"FEATURE_FULLSCREEN",kind:"NORMAL",overlayOnSmallReaders:!0,showButtons:"ALWAYS",fullscreenFallbackArgs:s},{type:"FEATURE_ISSUU_BRANDING",openInNewTab:!0}],allowUIToOverlayCover:!1,autoFlip:e.embedConfig.autoFlip,backgroundColor:c,canUseCredentials:!1,fullscreenBackgroundColor:e.embedConfig.fullscreenBackgroundColor,backgroundImage:l,links:{allowOnSmallReaders:!1},logo:d,disableLicenseCheck:!1,showControlsUntilFirstInteraction:!0,requireEmbedLicense:!0,readModeRules:{defaultMode:e.embedConfig.viewMode,responsiveModeWhen:"HANDHELD_IN_PORTRAIT_IN_FULLSCREEN"}},trackerConfig:{startTrackingOnLoad:!0,sessionId:i,embedTrackingQuery:o},metrics:r,quantcastTracker:new tt({quantcastId:$e}),mixpanel:Pn({fake:!Sn()}),readMorePlugin:new A_({metrics:r,embedTrackingQuery:o,show:e.embedConfig.proSidebarEnabled?"OWN_DOCUMENTS":"RELATED_FOR_FREE_PUBLISHERS",alwaysOverlay:!0})});Hr().render(m.reader,a),p=m.api,f=n,window.addEventListener("message",(e=>{var t=e.data.type;if("issuu.setPageNumber"===t){var r=parseInt(e.data.pageNumber,10);r>=1&&r<=p.getPageCount()&&p.setPageNumber(r)}else"issuu.goToPreviousPage"===t?p.goToPreviousPage():"issuu.goToNextPage"===t?p.goToNextPage():"issuu.goToFirstPage"===t?p.setPageNumber(1):"issuu.goToLastPage"===t&&p.setPageNumber(p.getPageCount())}),!1),p.setCallback("ON_DOCUMENT_LOAD_EVENT",(()=>{I_({type:"issuu.documentLoaded",pageCount:p.getPageCount(),pageNumbers:p.getPageNumbers(),identifier:f})})),p.setCallback("ON_PAGE_CHANGE_EVENT",(()=>{I_({type:"issuu.pageChanged",pageNumbers:p.getPageNumbers(),identifier:f})}))}(c,{metrics:i,publicApiIdentifier:s,sessionId:r,embedTrackingQuery:a,rootElement:h,fullscreenFallbackArgs:u,connector:p});var f=()=>{var e=document.createElement("div");l.appendChild(e),l.classList.add("show-branding"),Hr().render((0,z.jsx)(mt,{embedTrackingQuery:a,mainOrigin:Qe(),metrics:i}),e)};c.features.showIssuuBranding?f():p.whenLicensesFetched().then((e=>{e.includes(Co)||f()}))}function j_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j_(Object(r),!0).forEach((function(t){D_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var N_=document.getElementById("initial-data"),L_=JSON.parse(N_&&N_.getAttribute("data-json")||"");L_.config&&function(e={}){if(void 0===e.defaultIntegrations&&(e.defaultIntegrations=h_),void 0===e.release){var t=(0,Cv.R)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);var r,n={...e,stackParser:(r=e.stackParser||Cb,Array.isArray(r)?Ey(...r):r),integrations:xy(e),transport:e.transport||(Sy()?c_:l_)};!function(e,t){!0===t.debug&&console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.");var r=my(),n=r.getScope();n&&n.update(t.initialScope);var i=new e(t);r.bindClient(i)}(Tb,n),e.autoSessionTracking&&function(){if(void 0!==(0,Cv.R)().document){var e=my();e.captureSession&&(d_(e),Ry("history",(({from:e,to:t})=>{void 0!==e&&e!==t&&d_(my())})))}}()}(C_(C_({},(e=>{var{dsn:t,environment:r,isDeployed:n,release:i}=e;return{dsn:t,environment:r,release:i,beforeSend(e,t){if(n){var r,i,o,a,s,u=(null===(r=((null===(o=e.exception)||void 0===o?void 0:o.values)||[])[0])||void 0===r||null===(i=r.stacktrace)||void 0===i?void 0:i.frames)||[];if("<anonymous>"===(null===(a=u[0])||void 0===a?void 0:a.filename))return null;var c=null==t?void 0:t.originalException,l="string"==typeof c?c:(null==c?void 0:c.message)||"unknown error",h=null===(s=u[u.length-1])||void 0===s?void 0:s.filename;return null!=h&&h.startsWith("https://consent.cookiebot.com/")&&l.includes("postMessage")?null:l in p_?(console.error("[Sentry] Rate limiting activated for",l),null):(p_[l]=!0,setTimeout((()=>{delete p_[l]}),6e4),e)}var d=t&&t.originalException;return d?(console.error("CAUGHT BY SENTRY:","string"==typeof d?d:d.message),e.extra&&console.error("extra info:",e.extra),"string"!=typeof d&&console.error(d)):"string"==typeof e.message&&console.info(e.message),null}}})(L_.config.sentry)),{},{allowUrls:[He,"www.googletagmanager.com","consent.cookiebot.com","cdnjs.cloudflare.com"]}));var M_=new class{constructor(e){Xe(this,"_uri",void 0),Xe(this,"getQueryParamValue",(e=>{var t;return(null===(t=this._uri)||void 0===t?void 0:t.searchParams.get(e))||""})),Xe(this,"getAutoFlip",(()=>"true"===this.getQueryParamValue(Ke.autoFlip))),Xe(this,"getEnablePoweredByIssuu",(()=>{var e=this.getQueryParamValue(Ke.hideIssuuLogo);return!e||"true"!==e})),Xe(this,"getEnableSeeMore",(()=>{var e=this.getQueryParamValue(Ke.enableSeeMore);if(e)return"false"!==e})),Xe(this,"getEnableShare",(()=>{var e=this.getQueryParamValue(Ke.hideShare);return!e||"true"!==e})),Xe(this,"getFullscreenBgColor",(()=>{var e=this.getQueryParamValue(Ke.fullscreenBackgroundColor);if(e){var t=decodeURIComponent(e);return t.startsWith("#")?t:"#"+t}})),Xe(this,"getFullscreenBgImage",(()=>this.getQueryParamValue(Ke.fullscreenBackgroundImage)||void 0)),Xe(this,"getFullscreenImageStretch",(()=>"stretch"===this.getQueryParamValue(Ke.fullscreenBackgroundPosition))),Xe(this,"getFullScreenLogo",(()=>this.getQueryParamValue(Ke.fullscreenLogo)||void 0)),Xe(this,"getPageLayout",(()=>"singlePage"===this.getQueryParamValue(Ke.layout)?"singlePage":"doublePage")),Xe(this,"getUsername",(()=>this.getQueryParamValue("u"))),Xe(this,"getDocumentName",(()=>this.getQueryParamValue("d"))),Xe(this,"getHideFullScreenButton",(()=>"1"===this.getQueryParamValue("hfsb"))),Xe(this,"getInitialPageNumber",(()=>parseInt(this.getQueryParamValue("p"),10)||parseInt(this.getQueryParamValue("pageNumber"),10)||1)),Xe(this,"getDocumentId",(()=>this.getQueryParamValue(Ke.documentId))),Xe(this,"getBackgroundColor",(()=>{var e=this.getQueryParamValue(Ke.backgroundColor)||void 0;return e&&((e=decodeURIComponent(e)).startsWith("#")||(e="#"+e)),e})),Xe(this,"getLegacyViewMode",(()=>/^presentation|singlePage$/i.test(this.getQueryParamValue(Ke.legacyViewMode))?"SINGLE_PAGE":"DOUBLE_PAGE")),Xe(this,"getAdpageId",(()=>this.getQueryParamValue(Ke.adId))),Xe(this,"getPublicationId",(()=>this.getQueryParamValue(Ke.publicationId))),Xe(this,"getIdentifier",(()=>this.getQueryParamValue(Ke.identifier))),Xe(this,"getEmbedType",(()=>"script"===this.getQueryParamValue("embedType")?"script":"iframe")),Xe(this,"getHostUrl",(()=>document.referrer)),Xe(this,"getHostReferrer",(()=>this.getQueryParamValue("r")||null)),Xe(this,"getLatestHostUrl",(()=>{try{return window.parent.document.location.toString()}catch(e){return null}})),Xe(this,"getDelayTracking",(()=>{var e;return(null===(e=this._uri)||void 0===e?void 0:e.searchParams.has(Ke.delayTracking))||!1})),Xe(this,"getStreamOrigin",(()=>{var e=this.getQueryParamValue(Ke.streamOrigin);if(!e)return null;var t=e.split(";");return t.length<3?null:t})),Xe(this,"getStreamRanking",(()=>parseInt(this.getQueryParamValue(Ke.streamRanking),10)||0)),Xe(this,"getEmbedId",(()=>{var e,t=(null===(e=this._uri)||void 0===e?void 0:e.hash)||"",r=/^#([0-9]+)(?:\/|%2F)([0-9]+).*$/;return r.test(t)?t.replace(r,"$1/$2"):null})),Xe(this,"getDocumentPath",(()=>{var e=this.getPublicationId(),t=this.getUsername(),r=this.getDocumentName();return e?{type:"pub_id",publicationId:e}:t&&r?{type:"user",username:t,documentName:r}:null}));var t=new URL(e);if(this._uri=void 0,t.hostname.endsWith("issuu.com")?this._uri=t:t.hostname.endsWith("googleusercontent.com")?t.searchParams.forEach((e=>{try{var t=new URL(e);t.hostname.endsWith("issuu.com")&&(this._uri=t)}catch(e){}})):t.hostname.endsWith("fastly-terrarium.com")&&(this._uri=t),!this._uri)throw new Error("Unexpected query parameters")}extractFullscreenFallbackArgs(){var e=[Ke.enableSeeMore,Ke.hideShare,Ke.fullscreenBackgroundColor,Ke.fullscreenBackgroundImage,Ke.fullscreenBackgroundPosition,Ke.fullscreenLogo,Ke.layout].map((e=>this._uri&&this._uri.searchParams.has(e)?e+"="+encodeURIComponent(this.getQueryParamValue(e)):null)).filter(Boolean);if(this._uri&&this._uri.searchParams.has(Ke.legacyViewMode)&&!this._uri.searchParams.has(Ke.layout)){var t="SINGLE_PAGE"===this.getLegacyViewMode()?"singlePage":"doublePage";e.unshift(Ke.layout+"="+t)}var r=this.getEmbedId();return"string"==typeof r&&e.unshift("e="+r),e.join("&")}}(document.location.toString()),F_=M_.getHostUrl(),B_=M_.getHostReferrer(),U_=M_.getEmbedType(),z_=M_.getEmbedId(),H_=it(window.navigator.userAgent),W_=at(F_,H_),G_=M_.getIdentifier(),V_=function(){for(var e="abcdefghijklmnopqrstuvwxyz0123456789",t="",r=0;r<12;r++)t+=e.charAt((n=e.length,Math.floor(n*Math.random())));var n;return t}(),q_={isEmbed:!0,embedId:z_,location:F_,referrer:B_,monitorEventsOnly:!1,readerEndPoint:U_+"embed",pingbackOrigin:Je(),source:"external"},Y_=new B(q_);function $_(e){var t=document.getElementById("root");t&&Hr().render((0,z.jsx)(Ee,{embedId:Y_.embedId,error:e,sessionId:V_}),t)}if(z_)window.fetch(""+Ue+He+"/config/"+z_.split("/")[1]+".json").then((e=>{if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.json()})).then((e=>{if(!e.ownerUsername||!e.documentURI)throw new Error("Invalid embedId: "+z_);1!==M_.getInitialPageNumber()&&(e.initialPageNumber=M_.getInitialPageNumber()),R_(C_(C_({},e),{},{documentPath:{type:"user",username:e.ownerUsername,documentName:e.documentURI}}),{sessionId:V_,embedType:U_,metrics:Y_,isRobot:H_,embedTrackingQuery:W_,publicApiIdentifier:G_,fullscreenFallbackArgs:M_.extractFullscreenFallbackArgs()})})).catch((e=>{$_(e)}));else{var X_=new B(C_(C_({},q_),{},{readerEndPoint:U_+"newembed"})),K_=M_.getDocumentPath();K_?R_({documentPath:K_,initialPageNumber:M_.getInitialPageNumber(),autoFlip:M_.getAutoFlip(),bgColor:M_.getBackgroundColor()||"#353535",enablePoweredByIssuu:M_.getEnablePoweredByIssuu(),enableSeeMore:M_.getEnableSeeMore()||!1,enableShare:M_.getEnableShare(),fullscreenBgColor:M_.getFullscreenBgColor(),fullscreenBgImage:M_.getFullscreenBgImage(),fullscreenBgImageStretch:M_.getFullscreenImageStretch(),fullscreenBgImageTile:!1,fullscreenLogo:M_.getFullScreenLogo(),pageLayout:M_.getPageLayout()},{sessionId:V_,embedType:U_,metrics:X_,isRobot:H_,embedTrackingQuery:W_,publicApiIdentifier:G_,fullscreenFallbackArgs:M_.extractFullscreenFallbackArgs()}):$_(new Error("Invalid embedId"))}})()})();
//# sourceMappingURL=embed.js.map